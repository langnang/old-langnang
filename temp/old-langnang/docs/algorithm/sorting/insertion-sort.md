# 插入排序

插入排序（Insertion sort）是一种简单直观且稳定的排序算法。

如果有一个已经有序的数据序列，要求在这个已经排好的数据序列中插入一个数，但要求插入后此数据序列仍然有序，这个时候就要用到一种新的排序方法——插入排序法。

插入排序的基本操作就是将一个数据插入到已经排好序的有序数据中，从而得到一个新的、个数加一的有序数据。

算法适用于少量数据的排序，时间复杂度为 O(n^2)。是稳定的排序方法。

插入算法把要排序的数组分成两部分：

第一部分包含了这个数组的所有元素，但将最后一个元素除外（让数组多一个空间才有插入的位置）。

第二部分就只包含这一个元素（即待插入元素）。

在第一部分排序完成后，再将这个最后元素插入到已排好序的第一部分中。

插入排序的基本思想是：每步将一个待排序的记录，按其关键码值的大小插入前面已经排序的文件中适当位置上，直到全部插入完为止。

## 算法原理

默认第一个元素为已排序,取未排序部分第一个元素,从后向前进行比较交换位置

1. 从第一个元素开始，该元素可以认为已经被排序；
2. 取出下一个元素，在已经排序的元素序列中从后向前扫描；
3. 如果该元素（已排序）大于新元素，将该元素移到下一位置；
4. 重复步骤 3，直到找到已排序的元素小于或者等于新元素的位置；
5. 将新元素插入到该位置后；
6. 重复步骤 2~5。

## 实例演示

```c
// 第一次插入
array:  [6] [3] [9] [4] [7] [1] [5] [2] [8] [0]
         └───┘ 3<6;交换
        [3] [6] [9] [4] [7] [1] [5] [2] [8] [0]
// 第一次插入结束
```

```c
// 第二次插入
array:  [3] [6] [9] [4] [7] [1] [5] [2] [8] [0]
             └───┘ 9>6;不交换
        [3] [6] [9] [4] [7] [1] [5] [2] [8] [0]
// 第二次插入结束
```

```c
// 第三次插入
array:  [3] [6] [9] [4] [7] [1] [5] [2] [8] [0]
                 └───┘ 4<9;交换
        [3] [6] [4] [9] [7] [1] [5] [2] [8] [0]
             └───┘ 4<6;交换
        [3] [4] [6] [9] [7] [1] [5] [2] [8] [0]
         └───┘ 4>3;不交换
        [3] [4] [6] [9] [7] [1] [5] [2] [8] [0]
// 第三次插入结束
```

...

```c
// 第N-1次插入
array:  [1] [2] [3] [4] [5] [6] [7] [8] [9] [0]
                                         └───┘ 0<9;交换
        [1] [2] [3] [4] [5] [6] [7] [8] [0] [9]
                                     └───┘ 0<8;交换
        [1] [2] [3] [4] [5] [6] [7] [0] [8] [9]
                                 └───┘ 0<7;交换
        [1] [2] [3] [4] [5] [6] [0] [7] [8] [9]
                             └───┘ 0<6;交换
        [1] [2] [3] [4] [5] [0] [6] [7] [8] [9]
                         └───┘ 0<5;交换
        [1] [2] [3] [4] [0] [5] [6] [7] [8] [9]
                     └───┘ 0<4;交换
        [1] [2] [3] [0] [4] [5] [6] [7] [8] [9]
                 └───┘ 0<3;交换
        [1] [2] [0] [3] [4] [5] [6] [7] [8] [9]
             └───┘ 0<2;交换
        [1] [0] [2] [3] [4] [5] [6] [7] [8] [9]
         └───┘ 0<1;交换
        [0] [1] [2] [3] [4] [5] [6] [7] [8] [9]
// 第N-1次插入结束
```

## 算法分析

### 时间复杂度

- 最好时间复杂度 ![](<https://latex.codecogs.com/png.latex?O(n)>)
- 最坏时间复杂度 ![](<https://latex.codecogs.com/png.latex?O(n^{2})>)
- 平均时间复杂度 ![](<https://latex.codecogs.com/png.latex?O(n^{2})>)

### 空间复杂度

- 平均空间复杂度 ![](<https://latex.codecogs.com/png.latex?O(1)>)

### 稳定性

稳定排序算法

## 代码实现

<code-group>
<code-block title="JavaScript">
<<< @/scripts/js/algorithm/insertionSort.js
</code-block>
</code-group>

## 参考

- [插入排序\_百度百科](https://baike.baidu.com/item/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F)
