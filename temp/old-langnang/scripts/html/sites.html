<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Sites</title>
	<!-- <link
        href="https://fonts.font.im/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i"
        rel="stylesheet"
    /> -->
	<!-- Bootstrap -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" rel="stylesheet" />
	<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
	<style type="text/css">
		::-webkit-scrollbar {
			width: 8px;
			height: 6px;
		}

		::-webkit-scrollbar-thumb {
			border-radius: 99px;
			background-image: linear-gradient(to left, #bdbbbe 0%, #9d9ea3 100%), radial-gradient(88% 271%, rgba(255, 255, 255, 0.25) 0%, rgba(254, 254, 254, 0.25) 1%, rgba(0, 0, 0, 0.25) 100%), radial-gradient(50% 100%, rgba(255, 255, 255, 0.3) 0%, rgba(0, 0, 0, 0.3) 100%);
			background-blend-mode: normal, lighten, soft-light;
		}

		::-webkit-scrollbar-track-piece {
			background: transparent;
		}

		body {
			min-height: 100vh;
			background-image: linear-gradient(to bottom, #f5f7fa 0%, #c3cfe2 100%);
			/* font-family: 'Roboto', sans-serif; */
		}

		a,
		a:hover,
		a:visited,
		a:link {
			text-decoration: none;
		}

		.thumbnail {
			border-radius: 6px;
		}

		.thumbnail:hover {
			background-image: linear-gradient(to right, #9890e3 0%, #b1f4cf 100%);
		}

		.tag-group {
			position: absolute;
			top: 4px;
			width: calc(100% - 40px);
			overflow: hidden;
		}

		.tag-group .label+.label {
			margin-left: 5px;
		}

		.target-group {
			position: absolute;
			width: calc(100% - 40px);
			bottom: 12px;
			text-align: center;
			overflow: hidden;
		}

	</style>
</head>

<body>
	<div class="container">
		<div class="row" id="wrapper"></div>
	</div>

	<script type="text/javascript">
		const sites = [
			{
				title: 'Langnang',
				descr: '',
				mode: ['dev', 'prod'],
				children: [
					{
						title: 'Home',
						descr: 'Home',
						url: 'https://langnang.github.io/',
						port_path: '80',
						mode: ['dev', 'prod']
					},
					{ title: 'GitHub', descr: 'Home', url: 'https://github.com/langnang', port_path: '80', mode: ['prod'] },
					{
						title: 'Gist',
						descr: 'Gist',
						url: 'https://gist.github.com/langnang',
						port_path: '9099',
						mode: ['dev', 'prod']
					},
					{ title: 'CodeSandBox', url: 'https://codesandbox.io/u/langnang', port_path: '8080', mode: ['prod'] },
					{ title: 'CodePen', url: 'https://codepen.io/langnang', port_path: '8080', mode: ['prod'] },
					{
						title: 'Navs',
						url: 'http://101.37.27.53:10002/',
						port_path: '8080',
						mode: ['prod'],
						tags: ['Typecho', 'WebStack']
					},
				],
			},
			{
				title: 'My',
				descr: '个人',
				mode: ['dev', 'prod'],
				children: [
					{ title: 'MyAspNetCore', url: '', port_path: '8080', mode: ['dev', 'prod'], tags: ['asp.net-core'] },
					{ title: 'MyBatch', url: '', port_path: '8080', mode: ['dev', 'prod'], tags: ['batch'] },
					{
						title: 'MyBlog',
						url: 'https://langnang.github.io/MyBlog/',
						port_path: '9001',
						mode: ['dev', 'prod'],
						tags: ['md']
					},
					{ title: 'MyCSS', url: '', port_path: '9004', mode: ['dev', 'prod'], tags: ['scss', 'css'] },
					{ title: 'MyJavaScript', url: '', port_path: '9002', mode: ['dev', 'prod'], tags: ['js', 'javascript'] },
					{ title: 'MyPHP', url: '', port_path: '9003/README.md', mode: ['dev', 'prod'], tags: ['php'] },
				],
			},
			{
				title: 'FrontEnd',
				descr: '前端',
				mode: ['dev', 'prod'],
				children: [
					{
						title: 'AudioPlayer',
						url: 'http://langnang.github.io/AudioPlayer/',
						port_path: '8080',
						mode: ['dev', 'prod'],
						tags: ['vue', 'audio', 'audio-player']
					},
					{ title: 'question-generator', url: '', port_path: '8080', mode: ['dev', 'prod'], tags: ['vue'] },
					{
						title: 'ToDoList',
						url: 'http://langnang.github.io/ToDoList/',
						port_path: '8080',
						mode: ['dev', 'prod'],
						tags: ['vue']
					},
					{ title: 'OnePage', url: '', port_path: '8080', mode: ['dev', 'prod'], tags: ['vue'] },
					{
						title: 'Palette',
						url: 'http://langnang.github.io/Palette/',
						port_path: '8080',
						mode: ['dev', 'prod'],
						tags: ['vue']
					},
				],
			},
			{
				title: 'BackEnd',
				descr: '后端',
				mode: ['dev', 'prod'],
				children: [{}],
			},
			{
				title: 'Web',
				descr: '全栈',
				mode: ['dev', 'prod'],
				children: [
					{
						title: 'OneIndex',
						url: 'https://github.com/langnang/OneIndex',
						port_path: '8080',
						mode: ['dev', 'prod'],
						tags: ['php', 'OneDrive']
					},
					{
						title: 'Advantech-Q3Books',
						url: 'https://github.com/langnang/Advantech-Q3Books',
						port_path: '8080',
						mode: ['dev', 'prod'],
						tags: ['asp.net-core']
					},
					{ title: 'management-system-for-students-status', url: '', port_path: '8080', mode: ['dev', 'prod'] },
					{ title: 'Vertial-Reality', url: '', port_path: '8080', mode: ['dev', 'prod'] },
				],
			},
			{
				title: 'Storage',
				descr: '云盘',
				mode: ['dev', 'prod'],
				children: [
					{
						title: 'OneIndex.Share',
						url: 'http://101.37.27.53:10001/',
						port_path: '10001',
						mode: ['prod'],
						tags: ['OneDrive 5T', 'Microsoft 365 Developer Program']
					},
					{
						title: 'OneIndex.Video',
						url: 'http://101.37.27.53:10005/',
						port_path: '10005',
						mode: ['prod'],
						tags: ['OneDrive 5T', 'Microsoft 365 Developer Program']
					},
					{
						title: 'OneIndex.Image',
						url: 'http://101.37.27.53:10006/',
						port_path: '10006',
						mode: ['prod'],
						tags: ['OneDrive 5T', 'Microsoft 365 Developer Program']
					},
					{
						title: 'OneIndex.Private',
						url: '',
						port_path: '19999',
						mode: ['dev'],
						tags: ['OneDrive 5T', 'Microsoft 365 Developer Program']
					},
				],
			},
			{
				title: 'Template',
				descr: '模板',
				mode: ['dev', 'prod'],
				children: [
					{
						title: 'AspNetCore-Vue',
						url: 'https://github.com/langnang/aspnetcore-vue-template',
						port_path: '8080',
						mode: ['dev', 'prod'],
						tags: ['asp.net-core', 'vue']
					},
					{ title: 'Vue', port_path: '8080', mode: ['dev', 'prod'], tags: ['vue'] },
					{ title: 'Vue-Component', port_path: '8080', mode: ['dev', 'prod'], tags: ['vue'] },
					{ title: 'Vue-Ready', port_path: '8080', mode: ['dev', 'prod'], tags: ['vue'] },
					{ title: 'Grafana-Echarts', port_path: '8080', mode: ['dev', 'prod'], tags: ['grafana', 'echarts'] },
					{ title: 'Express-Vue', port_path: '8080', mode: ['dev', 'prod'], tags: ['express', 'vue'] },
					{ title: 'React-Ready', port_path: '8080', mode: ['dev', 'prod'], tags: ['react'] },
				],
			},
			{
				title: 'Component',
				descr: '组件',
				mode: ['dev', 'prod'],
				children: [{
					title: 'vue-audio-player',
					url: '',
					port_path: '8080',
					mode: ['dev', 'prod'],
					tags: ['vue', 'audio', 'audio-player']
				}],
			},
			{
				title: 'Theme',
				descr: '主题、皮肤',
				mode: ['dev', 'prod'],
				children: [{}],
			},
			{
				title: 'Chrome',
				descr: '浏览器',
				mode: ['dev', 'prod'],
				children: [{}],
			},
			{
				title: 'Awesome',
				descr: '资源大全',
				mode: ['dev', 'prod'],
				children: [{
					title: 'Video',
					url: 'https://langnang.github.io/views/Awesome-Video.html',
					port_path: '80/views/Awesome-Video.html',
					mode: ['dev', 'prod'],
					tags: ['video']
				}],
			},
			{
				title: 'Multimedia',
				descr: '多媒体工具',
				mode: ['dev', 'prod'],
				children: [
					{
						title: 'DPlayer',
						url: 'https://langnang.github.io/views/DPlayer.html',
						port_path: '80/views/DPlayer.html',
						mode: ['dev', 'prod'],
						tags: ['video']
					},
					{
						title: 'Video',
						url: 'https://langnang.github.io/views/Video.html',
						port_path: '80/views/Video.html',
						mode: ['dev', 'prod'],
						tags: ['video']
					},
					{
						title: 'Txt',
						url: 'https://langnang.github.io/views/txt-reader.html',
						port_path: '80/views/txt-reader.html',
						mode: ['dev', 'prod'],
						tags: ['txt', 'novel']
					},
				],
			},
			{
				title: 'Spider',
				mode: ['dev', 'prod'],
				children: [{}],
			},
		];
		const wrapper = document.getElementById('wrapper');
		if (localStorage.getItem("mode") == 'dev') {
			console.warn('dev');
			wrapper.innerHTML = `<h3 style="position: fixed; right: 20px"><span class="label label-warning">Dev</span></h3>` + draw('dev');
		} else {
			console.warn('prod');
			wrapper.innerHTML = draw();
		}
		function draw(mode = 'prod') {
			let inner = '';
			for (let k in sites) {
				// console.log(sites[k]);
				const item = sites[k];
				if (item.mode == undefined || item?.mode?.indexOf(mode) == -1) {
					// console.log(item.mode.indexOf(mode));
					continue;
				}
				if (item.children == undefined || item?.children?.length == 0) {
					continue;
				}
				inner += `
			     <div class="col-md-12 col-sm-12">
			       <h2>${item.title} <small> ${item.descr || ''} </small></h2>
			     </div>
			     `;
				inner += drawChildren(item.children, mode);
			}
			return inner;
		}

		function drawChildren(children, mode = 'prod') {
			let inner = '';
			for (let k in children) {
				// console.log(children[k]);
				const item = children[k];
				let href = '';
				if (item.mode == undefined || item.mode.indexOf(mode) == -1) {
					continue;
				}
				if (mode == 'dev') {
					if (item.port_path == undefined) {
						continue;
					}
					href = window.location.protocol + '//' + window.location.hostname + ':' + item.port_path;
				}
				if (mode == 'prod') {
					href = item.url;
				}
				inner += `
                <div class="col-md-3 col-sm-6">
                    <a href="${href}" title="${item.descr || item.title}">
                        <div class="thumbnail">
                            <div class="caption">
                                <h3 class="text-center">${item.title}</h3>
                            </div>
                            ${drawTags(item.tags)}
                            ${drawTargets(item.targets)}
                        </div>
                    </a>
                </div>
            `;
			}
			return inner;

			function drawTags(tags) {
				if (!tags) {
					return '';
				}
				let inner = '<p class="tag-group">';
				tags.forEach((v) => {
					inner += `<span class="label label-info">${v}</span>`;
				});
				inner += `</p>`;
				return inner;
			}

			function drawTargets(targets) {
				if (!targets) {
					return '';
				}
				let inner = '<p class="target-group">';
				for (let k in targets) {
					inner += `<span class="target">${k}</span>`;
				}
				inner += `</p>`;
				return inner;
			}
		}
	</script>
</body>

</html>
