(window.webpackJsonp=window.webpackJsonp||[]).push([[165],{632:function(e,r,a){"use strict";a.r(r);var n=a(18),t=Object(n.a)({},(function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"url-网址-node-js-api-文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-网址-node-js-api-文档"}},[e._v("#")]),e._v(" url 网址 | Node.js API 文档")]),e._v(" "),a("blockquote",[a("h2",{attrs:{id:"excerpt"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#excerpt"}},[e._v("#")]),e._v(" Excerpt")]),e._v(" "),a("p",[e._v("中英对照")])]),e._v(" "),a("hr"),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("strong",[e._v("源代码:")]),e._v(" "),a("a",{attrs:{href:"https://github.com/nodejs/node/blob/v12.22.12/lib/url.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("lib/url.js"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("code",[e._v("url")]),e._v(" 模块提供用于网址处理和解析的实用工具。 可以使用以下方式访问它：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const url = require('url');\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h3",{attrs:{id:"网址字符串与网址对象"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网址字符串与网址对象"}},[e._v("#")]),e._v(" 网址字符串与网址对象"),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url-strings-and-url-objects",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_strings_and_url_objects.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("网址字符串是包含多个有意义组件的结构化字符串。 解析时，将返回包含每个组件的属性的网址对象。")]),e._v(" "),a("p",[a("code",[e._v("url")]),e._v(" 模块提供了两种用于处理网址的 API：一种是 Node.js 特定的旧版 API，一种是实现了与 Web 浏览器使用的相同的 "),a("a",{attrs:{href:"http://url.nodejs.cn/fKgW8d",target:"_blank",rel:"noopener noreferrer"}},[e._v("WHATWG 网址标准"),a("OutboundLink")],1),e._v("的新版 API。")]),e._v(" "),a("p",[e._v("下面提供了 WHATWG 和 旧版 API 之间的比较。 在网址 "),a("code",[e._v("'http://user:pass@sub.example.com:8080/p/a/t/h?query=string#hash'")]),e._v(" 上方显示的是由旧版 "),a("code",[e._v("url.parse()")]),e._v(" 返回的对象的属性。 下方则是 WHATWG "),a("code",[e._v("URL")]),e._v(" 对象的属性。")]),e._v(" "),a("p",[e._v("WHATWG 网址的 "),a("code",[e._v("origin")]),e._v(" 属性包括 "),a("code",[e._v("protocol")]),e._v(" 和 "),a("code",[e._v("host")]),e._v("，但不包括 "),a("code",[e._v("username")]),e._v(" 或 "),a("code",[e._v("password")]),e._v("。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('┌────────────────────────────────────────────────────────────────────────────────────────────────┐\n│                                              href                                              │\n├──────────┬──┬─────────────────────┬────────────────────────┬───────────────────────────┬───────┤\n│ protocol │  │        auth         │          host          │           path            │ hash  │\n│          │  │                     ├─────────────────┬──────┼──────────┬────────────────┤       │\n│          │  │                     │    hostname     │ port │ pathname │     search     │       │\n│          │  │                     │                 │      │          ├─┬──────────────┤       │\n│          │  │                     │                 │      │          │ │    query     │       │\n"  https:   //    user   :   pass   @ sub.example.com : 8080   /p/a/t/h  ?  query=string   #hash "\n│          │  │          │          │    hostname     │ port │          │                │       │\n│          │  │          │          ├─────────────────┴──────┤          │                │       │\n│ protocol │  │ username │ password │          host          │          │                │       │\n├──────────┴──┼──────────┴──────────┼────────────────────────┤          │                │       │\n│   origin    │                     │         origin         │ pathname │     search     │ hash  │\n├─────────────┴─────────────────────┴────────────────────────┴──────────┴────────────────┴───────┤\n│                                              href                                              │\n└────────────────────────────────────────────────────────────────────────────────────────────────┘\n("" 行中的所有空格都应被忽略。它们纯粹是为了格式化。)\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br"),a("span",{staticClass:"line-number"},[e._v("18")]),a("br")])]),a("p",[e._v("使用 WHATWG API 解析网址字符串：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURL =\n  new URL('https://user:pass@sub.example.com:8080/p/a/t/h?query=string#hash');\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("p",[e._v("使用旧版 API 解析网址字符串：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const url = require('url');\nconst myURL =\n  url.parse('https://user:pass@sub.example.com:8080/p/a/t/h?query=string#hash');\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("h3",{attrs:{id:"whatwg-网址-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#whatwg-网址-api"}},[e._v("#")]),e._v(" WHATWG 网址 API"),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#the-whatwg-url-api",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("h4",{attrs:{id:"url-类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-类"}},[e._v("#")]),e._v(" "),a("code",[e._v("URL")]),e._v(" 类"),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#class-url",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/class_url.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("浏览器兼容的 "),a("code",[e._v("URL")]),e._v(" 类，按照 WHATWG 网址标准实现。 "),a("a",{attrs:{href:"http://url.nodejs.cn/NZjsQe",target:"_blank",rel:"noopener noreferrer"}},[e._v("解析网址的示例"),a("OutboundLink")],1),e._v("可以在标准本身中找到。 "),a("code",[e._v("URL")]),e._v(" 类也在全局对象上可用。")]),e._v(" "),a("p",[e._v("按照浏览器的约定，"),a("code",[e._v("URL")]),e._v(" 对象的所有属性都被实现为类原型上的获取器和设置器，而不是对象本身的数据属性。 因此，与"),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_legacy_urlobject",target:"_blank",rel:"noopener noreferrer"}},[e._v("旧版 "),a("code",[e._v("urlObject")]),a("OutboundLink")],1),e._v(" 不同，在 "),a("code",[e._v("URL")]),e._v(" 对象的任何属性上使用 "),a("code",[e._v("delete")]),e._v(" 关键字（例如 "),a("code",[e._v("delete myURL.protocol")]),e._v("、"),a("code",[e._v("delete myURL.pathname")]),e._v(" 等）没有任何作用，但仍会返回 "),a("code",[e._v("true")]),e._v("。")]),e._v(" "),a("h5",{attrs:{id:"new-url-input-base"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new-url-input-base"}},[e._v("#")]),e._v(" "),a("code",[e._v("new URL(input[, base])")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#new-urlinput-base",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/new_url_input_base.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("code",[e._v("input")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1),e._v(" 要解析的绝对或相对的输入网址。 如果 "),a("code",[e._v("input")]),e._v(" 是相对的，则需要 "),a("code",[e._v("base")]),e._v("。 如果 "),a("code",[e._v("input")]),e._v(" 是绝对的，则忽略 "),a("code",[e._v("base")]),e._v("。")]),e._v(" "),a("li",[a("code",[e._v("base")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1),e._v(" | "),a("a",{attrs:{href:"http://nodejs.cn/api/url.html#the-whatwg-url-api",target:"_blank",rel:"noopener noreferrer"}},[a("URL",[a("OutboundLink")],1)],1),e._v(" 如果 "),a("code",[e._v("input")]),e._v(" 不是绝对的，则为要解析的基本网址。")])]),e._v(" "),a("p",[e._v("通过相对于 "),a("code",[e._v("base")]),e._v(" 解析 "),a("code",[e._v("input")]),e._v(" 来创建新的 "),a("code",[e._v("URL")]),e._v(" 对象。 如果 "),a("code",[e._v("base")]),e._v(" 作为字符串传入，则其将被解析为等效于 "),a("code",[e._v("new URL(base)")]),e._v("。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURL = new URL('/foo', 'https://example.org/');\n// https://example.org/foo\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("p",[e._v("网址构造函数可作为全局对象的属性访问。 也可以从内置的 url 模块中导入：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("console.log(URL === require('url').URL); // 打印 'true'.\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("如果 "),a("code",[e._v("input")]),e._v(" 或 "),a("code",[e._v("base")]),e._v(" 不是有效的网址，则将抛出 "),a("code",[e._v("TypeError")]),e._v("。 注意，会将给定的值强制转换为字符串。 例如：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURL = new URL({ toString: () => 'https://example.org/' });\n// https://example.org/\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("p",[e._v("出现在 "),a("code",[e._v("input")]),e._v(" 的主机名中的 Unicode 字符将使用 "),a("a",{attrs:{href:"http://url.nodejs.cn/C2g98n",target:"_blank",rel:"noopener noreferrer"}},[e._v("Punycode"),a("OutboundLink")],1),e._v(" 算法自动转换为 ASCII。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURL = new URL('https://測試');\n// https://xn--g6w251d/\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br")])]),a("p",[e._v("只有在启用 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/intl.html#intl_options_for_building_node_js",target:"_blank",rel:"noopener noreferrer"}},[e._v("ICU"),a("OutboundLink")],1),e._v(" 的情况下编译 "),a("code",[e._v("node")]),e._v(" 可执行文件时，此功能才可用。 如果不是，则域名将原封不动地传入。")]),e._v(" "),a("p",[e._v("如果事先不知道 "),a("code",[e._v("input")]),e._v(" 是否是绝对的网址并且提供了 "),a("code",[e._v("base")]),e._v("，则建议验证 "),a("code",[e._v("URL")]),e._v(" 对象的 "),a("code",[e._v("origin")]),e._v(" 是否符合预期。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("let myURL = new URL('http://Example.com/', 'https://example.org/');\n// http://example.com/\n\nmyURL = new URL('https://Example.com/', 'https://example.org/');\n// https://example.com/\n\nmyURL = new URL('foo://Example.com/', 'https://example.org/');\n// foo://Example.com/\n\nmyURL = new URL('http:Example.com/', 'https://example.org/');\n// http://example.com/\n\nmyURL = new URL('https:Example.com/', 'https://example.org/');\n// https://example.org/Example.com/\n\nmyURL = new URL('foo:Example.com/', 'https://example.org/');\n// foo:Example.com/\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br")])]),a("h5",{attrs:{id:"url-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-hash"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.hash")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlhash",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_hash.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("获取和设置网址的片段部分。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURL = new URL('https://example.org/foo#bar');\nconsole.log(myURL.hash);\n// 打印 #bar\n\nmyURL.hash = 'baz';\nconsole.log(myURL.href);\n// 打印 https://example.org/foo#baz\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("p",[e._v("分配给 "),a("code",[e._v("hash")]),e._v(" 属性的值中包含的无效的网址字符会进行"),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#whatwg-percent-encoding",target:"_blank",rel:"noopener noreferrer"}},[e._v("百分比编码"),a("OutboundLink")],1),e._v("。 选择要进行百分比编码的字符可能与 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_url_parse_urlstring_parsequerystring_slashesdenotehost",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("url.parse()")]),a("OutboundLink")],1),e._v(" 和 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_url_format_urlobject",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("url.format()")]),a("OutboundLink")],1),e._v(" 方法产生的结果有所不同。")]),e._v(" "),a("h5",{attrs:{id:"url-host"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-host"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.host")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlhost",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_host.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("获取和设置网址的主机部分。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURL = new URL('https://example.org:81/foo');\nconsole.log(myURL.host);\n// 打印 example.org:81\n\nmyURL.host = 'example.com:82';\nconsole.log(myURL.href);\n// 打印 https://example.com:82/foo\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("p",[e._v("分配给 "),a("code",[e._v("host")]),e._v(" 属性的无效主机值将被忽略。")]),e._v(" "),a("h5",{attrs:{id:"url-hostname"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-hostname"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.hostname")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlhostname",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_hostname.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("获取和设置网址的主机名部分。 "),a("code",[e._v("url.host")]),e._v(" 和 "),a("code",[e._v("url.hostname")]),e._v(" 之间的主要区别在于 "),a("code",[e._v("url.hostname")]),e._v(" 不包括端口。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURL = new URL('https://example.org:81/foo');\nconsole.log(myURL.hostname);\n// 打印 example.org\n\nmyURL.hostname = 'example.com:82';\nconsole.log(myURL.href);\n// 打印 https://example.com:81/foo\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("p",[e._v("分配给 "),a("code",[e._v("hostname")]),e._v(" 属性的无效主机名值将被忽略。")]),e._v(" "),a("h5",{attrs:{id:"url-href"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-href"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.href")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlhref",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_href.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("获取和设置序列化的网址。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURL = new URL('https://example.org/foo');\nconsole.log(myURL.href);\n// 打印 https://example.org/foo\n\nmyURL.href = 'https://example.com/bar';\nconsole.log(myURL.href);\n// 打印 https://example.com/bar\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("p",[e._v("获取 "),a("code",[e._v("href")]),e._v(" 属性的值相当于调用 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_url_tostring",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("url.toString()")]),a("OutboundLink")],1),e._v("。")]),e._v(" "),a("p",[e._v("将此属性的值设置为新值相当于使用 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_new_url_input_base",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("new URL(value)")]),a("OutboundLink")],1),e._v(" 创建新的 "),a("code",[e._v("URL")]),e._v(" 对象。 "),a("code",[e._v("URL")]),e._v(" 对象的每个属性都将被修改。")]),e._v(" "),a("p",[e._v("如果分配给 "),a("code",[e._v("href")]),e._v(" 属性的值不是有效的网址，则将抛出 "),a("code",[e._v("TypeError")]),e._v("。")]),e._v(" "),a("h5",{attrs:{id:"url-origin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-origin"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.origin")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlorigin",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_origin.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("获取网址的源的只读的序列化。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURL = new URL('https://example.org/foo/bar?baz');\nconsole.log(myURL.origin);\n// 打印 https://example.org\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const idnURL = new URL('https://測試');\nconsole.log(idnURL.origin);\n// 打印 https://xn--g6w251d\n\nconsole.log(idnURL.hostname);\n// 打印 xn--g6w251d\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br")])]),a("h5",{attrs:{id:"url-password"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-password"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.password")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlpassword",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_password.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("获取和设置网址的密码部分。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURL = new URL('https://abc:xyz@example.com');\nconsole.log(myURL.password);\n// 打印 xyz\n\nmyURL.password = '123';\nconsole.log(myURL.href);\n// 打印 https://abc:123@example.com\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("p",[e._v("分配给 "),a("code",[e._v("password")]),e._v(" 属性的值中包含的无效的网址字符会进行"),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#whatwg-percent-encoding",target:"_blank",rel:"noopener noreferrer"}},[e._v("百分比编码"),a("OutboundLink")],1),e._v("。 选择要进行百分比编码的字符可能与 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_url_parse_urlstring_parsequerystring_slashesdenotehost",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("url.parse()")]),a("OutboundLink")],1),e._v(" 和 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_url_format_urlobject",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("url.format()")]),a("OutboundLink")],1),e._v(" 方法产生的结果有所不同。")]),e._v(" "),a("h5",{attrs:{id:"url-pathname"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-pathname"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.pathname")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlpathname",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_pathname.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("获取和设置网址的路径部分。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURL = new URL('https://example.org/abc/xyz?123');\nconsole.log(myURL.pathname);\n// 打印 /abc/xyz\n\nmyURL.pathname = '/abcdef';\nconsole.log(myURL.href);\n// 打印 https://example.org/abcdef?123\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("p",[e._v("分配给 "),a("code",[e._v("pathname")]),e._v(" 属性的值中包含的无效的网址字符会进行"),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#whatwg-percent-encoding",target:"_blank",rel:"noopener noreferrer"}},[e._v("百分比编码"),a("OutboundLink")],1),e._v("。 选择要进行百分比编码的字符可能与 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_url_parse_urlstring_parsequerystring_slashesdenotehost",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("url.parse()")]),a("OutboundLink")],1),e._v(" 和 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_url_format_urlobject",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("url.format()")]),a("OutboundLink")],1),e._v(" 方法产生的结果有所不同。")]),e._v(" "),a("h5",{attrs:{id:"url-port"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-port"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.port")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlport",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_port.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("获取和设置网址的端口部分。")]),e._v(" "),a("p",[e._v("端口值可以是数字，也可以是包含 "),a("code",[e._v("0")]),e._v(" 到 "),a("code",[e._v("65535")]),e._v("（含）范围内的数字的字符串。 将值设置为给定 "),a("code",[e._v("protocol")]),e._v(" 的 "),a("code",[e._v("URL")]),e._v(" 对象的默认端口将导致 "),a("code",[e._v("port")]),e._v(" 值成为空字符串 ("),a("code",[e._v("''")]),e._v(")。")]),e._v(" "),a("p",[e._v("端口值可以是空字符串，在这种情况下端口取决于协议/方案：")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("协议")]),e._v(" "),a("th",[e._v("端口")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v('"ftp"')]),e._v(" "),a("td",[e._v("21")])]),e._v(" "),a("tr",[a("td",[e._v('"file"')]),e._v(" "),a("td")]),e._v(" "),a("tr",[a("td",[e._v('"gopher"')]),e._v(" "),a("td",[e._v("70")])]),e._v(" "),a("tr",[a("td",[e._v('"http"')]),e._v(" "),a("td",[e._v("80")])]),e._v(" "),a("tr",[a("td",[e._v('"https"')]),e._v(" "),a("td",[e._v("443")])]),e._v(" "),a("tr",[a("td",[e._v('"ws"')]),e._v(" "),a("td",[e._v("80")])]),e._v(" "),a("tr",[a("td",[e._v('"wss"')]),e._v(" "),a("td",[e._v("443")])])])]),e._v(" "),a("p",[e._v("为端口分配值后，该值将首先使用 "),a("code",[e._v(".toString()")]),e._v(" 转换为字符串。")]),e._v(" "),a("p",[e._v("如果该字符串无效但以数字开头，则将前导数字分配给 "),a("code",[e._v("port")]),e._v("。 如果数字在上述范围之外，则将其忽略。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURL = new URL('https://example.org:8888');\nconsole.log(myURL.port);\n// 打印 8888\n\n// 默认端口自动转换为空字符串\n//（HTTPS 协议的默认端口是 443）\nmyURL.port = '443';\nconsole.log(myURL.port);\n// 打印空字符串\nconsole.log(myURL.href);\n// 打印 https://example.org/\n\nmyURL.port = 1234;\nconsole.log(myURL.port);\n// 打印 1234\nconsole.log(myURL.href);\n// 打印 https://example.org:1234/\n\n// 完全无效的端口字符串被忽略\nmyURL.port = 'abcd';\nconsole.log(myURL.port);\n// 打印 1234\n\n// 前导数字被视为端口号\nmyURL.port = '5678abcd';\nconsole.log(myURL.port);\n// 打印 5678\n\n// 非整数被截断\nmyURL.port = 1234.5678;\nconsole.log(myURL.port);\n// 打印 1234\n\n// 未用科学计数法表示的超出范围的数字将被忽略。\nmyURL.port = 1e10; // 10000000000，将按如下所述进行范围检查\nconsole.log(myURL.port);\n// 打印 1234\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br"),a("span",{staticClass:"line-number"},[e._v("18")]),a("br"),a("span",{staticClass:"line-number"},[e._v("19")]),a("br"),a("span",{staticClass:"line-number"},[e._v("20")]),a("br"),a("span",{staticClass:"line-number"},[e._v("21")]),a("br"),a("span",{staticClass:"line-number"},[e._v("22")]),a("br"),a("span",{staticClass:"line-number"},[e._v("23")]),a("br"),a("span",{staticClass:"line-number"},[e._v("24")]),a("br"),a("span",{staticClass:"line-number"},[e._v("25")]),a("br"),a("span",{staticClass:"line-number"},[e._v("26")]),a("br"),a("span",{staticClass:"line-number"},[e._v("27")]),a("br"),a("span",{staticClass:"line-number"},[e._v("28")]),a("br"),a("span",{staticClass:"line-number"},[e._v("29")]),a("br"),a("span",{staticClass:"line-number"},[e._v("30")]),a("br"),a("span",{staticClass:"line-number"},[e._v("31")]),a("br"),a("span",{staticClass:"line-number"},[e._v("32")]),a("br"),a("span",{staticClass:"line-number"},[e._v("33")]),a("br"),a("span",{staticClass:"line-number"},[e._v("34")]),a("br"),a("span",{staticClass:"line-number"},[e._v("35")]),a("br"),a("span",{staticClass:"line-number"},[e._v("36")]),a("br"),a("span",{staticClass:"line-number"},[e._v("37")]),a("br")])]),a("p",[e._v("包含小数点的数字，例如浮点数或科学记数法中的数字，也不例外。 小数点前的前导数字将被设置为网址的端口，假设它们是有效的：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("myURL.port = 4.567e21;\nconsole.log(myURL.port);\n// 打印 4（因为它是字符串 '4.567e21' 中的前导数字）\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("h5",{attrs:{id:"url-protocol"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-protocol"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.protocol")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlprotocol",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_protocol.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("获取和设置网址的协议部分。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURL = new URL('https://example.org');\nconsole.log(myURL.protocol);\n// 打印 https:\n\nmyURL.protocol = 'ftp';\nconsole.log(myURL.href);\n// 打印 ftp://example.org/\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("p",[e._v("分配给 "),a("code",[e._v("protocol")]),e._v(" 属性的无效的网址协议值将被忽略。")]),e._v(" "),a("h6",{attrs:{id:"特殊协议"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特殊协议"}},[e._v("#")]),e._v(" 特殊协议"),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#special-schemes",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/special_schemes.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://url.nodejs.cn/fKgW8d",target:"_blank",rel:"noopener noreferrer"}},[e._v("WHATWG 网址标准"),a("OutboundLink")],1),e._v("认为少数网址协议方案在解析和序列化方式方面具有特殊性。 当使用这些特殊协议之一解析网址时，"),a("code",[e._v("url.protocol")]),e._v(" 属性可能会更改为另一种特殊协议，但不能更改为非特殊协议，反之亦然。")]),e._v(" "),a("p",[e._v("例如，从 "),a("code",[e._v("http")]),e._v(" 更改为 "),a("code",[e._v("https")]),e._v(" 有效：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const u = new URL('http://example.org');\nu.protocol = 'https';\nconsole.log(u.href);\n// https://example.org\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("p",[e._v("但是，从 "),a("code",[e._v("http")]),e._v(" 更改为假设的 "),a("code",[e._v("fish")]),e._v(" 协议并不是因为新协议并不特殊。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const u = new URL('http://example.org');\nu.protocol = 'fish';\nconsole.log(u.href);\n// http://example.org\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("p",[e._v("同样，也不允许从非特殊协议更改为特殊协议：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const u = new URL('fish://example.org');\nu.protocol = 'http';\nconsole.log(u.href);\n// fish://example.org\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("p",[e._v("根据 WHATWG 网址标准，特殊协议方案有 "),a("code",[e._v("ftp")]),e._v("、"),a("code",[e._v("file")]),e._v("、"),a("code",[e._v("gopher")]),e._v("、"),a("code",[e._v("http")]),e._v("、"),a("code",[e._v("https")]),e._v("、"),a("code",[e._v("ws")]),e._v(" 和 "),a("code",[e._v("wss")]),e._v("。")]),e._v(" "),a("h5",{attrs:{id:"url-search"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-search"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.search")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlsearch",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_search.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("获取和设置网址的序列化的查询部分。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURL = new URL('https://example.org/abc?123');\nconsole.log(myURL.search);\n// 打印 ?123\n\nmyURL.search = 'abc=xyz';\nconsole.log(myURL.href);\n// 打印 https://example.org/abc?abc=xyz\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("p",[e._v("出现在分配给 "),a("code",[e._v("search")]),e._v(" 属性的值中的任何无效的网址字符都将进行"),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#whatwg-percent-encoding",target:"_blank",rel:"noopener noreferrer"}},[e._v("百分比编码"),a("OutboundLink")],1),e._v("。 选择要进行百分比编码的字符可能与 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_url_parse_urlstring_parsequerystring_slashesdenotehost",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("url.parse()")]),a("OutboundLink")],1),e._v(" 和 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_url_format_urlobject",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("url.format()")]),a("OutboundLink")],1),e._v(" 方法产生的结果有所不同。")]),e._v(" "),a("h5",{attrs:{id:"url-searchparams"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-searchparams"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.searchParams")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlsearchparams",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_searchparams.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://nodejs.cn/api/url.html#class-urlsearchparams",target:"_blank",rel:"noopener noreferrer"}},[a("URLSearchParams",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("获取表示网址查询参数的 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_class_urlsearchparams",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("URLSearchParams")]),a("OutboundLink")],1),e._v(" 对象。 此属性是只读的，但它提供的 "),a("code",[e._v("URLSearchParams")]),e._v(" 对象可用于更改网址实例； 要替换网址的整个查询参数，则使用 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_url_search",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("url.search")]),a("OutboundLink")],1),e._v(" 设置器。 有关详细信息，请参阅 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_class_urlsearchparams",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("URLSearchParams")]),a("OutboundLink")],1),e._v(" 文档。")]),e._v(" "),a("p",[e._v("当使用 "),a("code",[e._v(".searchParams")]),e._v(" 修改 "),a("code",[e._v("URL")]),e._v(" 时要小心，因为根据 WHATWG 规范，"),a("code",[e._v("URLSearchParams")]),e._v(" 对象使用不同的规则来确定要对哪些字符进行百分比编码。 例如，"),a("code",[e._v("URL")]),e._v(" 对象不会对 ASCII 波浪号 ("),a("code",[e._v("~")]),e._v(") 字符进行百分比编码，而 "),a("code",[e._v("URLSearchParams")]),e._v(" 将始终对其进行编码：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myUrl = new URL('https://example.org/abc?foo=~bar');\n\nconsole.log(myUrl.search);  // 打印 ?foo=~bar\n\n// 通过 searchParams 修改网址...\nmyUrl.searchParams.sort();\n\nconsole.log(myUrl.search);  // 打印 ?foo=%7Ebar\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br")])]),a("h5",{attrs:{id:"url-username"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-username"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.username")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlusername",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_username.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("获取和设置网址的用户名部分。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURL = new URL('https://abc:xyz@example.com');\nconsole.log(myURL.username);\n// 打印 abc\n\nmyURL.username = '123';\nconsole.log(myURL.href);\n// 打印 https://123:xyz@example.com/\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("p",[e._v("出现在分配给 "),a("code",[e._v("username")]),e._v(" 属性的值中的任何无效的网址字符都将进行"),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#whatwg-percent-encoding",target:"_blank",rel:"noopener noreferrer"}},[e._v("百分比编码"),a("OutboundLink")],1),e._v("。 选择要进行百分比编码的字符可能与 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_url_parse_urlstring_parsequerystring_slashesdenotehost",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("url.parse()")]),a("OutboundLink")],1),e._v(" 和 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_url_format_urlobject",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("url.format()")]),a("OutboundLink")],1),e._v(" 方法产生的结果有所不同。")]),e._v(" "),a("h5",{attrs:{id:"url-tostring"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-tostring"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.toString()")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urltostring",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_tostring.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[e._v("返回: "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[a("code",[e._v("URL")]),e._v(" 对象上的 "),a("code",[e._v("toString()")]),e._v(" 方法返回序列化的网址。 返回值等同于 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_url_href",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("url.href")]),a("OutboundLink")],1),e._v(" 和 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_url_tojson",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("url.toJSON()")]),a("OutboundLink")],1),e._v(" 的值。")]),e._v(" "),a("p",[e._v("由于需要符合标准，该方法不允许用户自定义网址的序列化过程。 为了获得更大的灵活性，可能会对 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_url_format_url_options",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("require('url').format()")]),a("OutboundLink")],1),e._v(" 方法感兴趣。")]),e._v(" "),a("h5",{attrs:{id:"url-tojson"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-tojson"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.toJSON()")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urltojson",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_tojson.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[e._v("返回: "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[a("code",[e._v("URL")]),e._v(" 对象上的 "),a("code",[e._v("toJSON()")]),e._v(" 方法返回序列化的网址。 返回值等同于 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_url_href",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("url.href")]),a("OutboundLink")],1),e._v(" 和 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_url_tostring",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("url.toString()")]),a("OutboundLink")],1),e._v(" 的值。")]),e._v(" "),a("p",[e._v("当 "),a("code",[e._v("URL")]),e._v(" 对象用 "),a("a",{attrs:{href:"http://url.nodejs.cn/bmLTNS",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("JSON.stringify()")]),a("OutboundLink")],1),e._v(" 序列化时，会自动调用此方法。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURLs = [\n  new URL('https://www.example.com'),\n  new URL('https://test.example.org')\n];\nconsole.log(JSON.stringify(myURLs));\n// 打印 [\"https://www.example.com/\",\"https://test.example.org/\"]\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br")])]),a("h4",{attrs:{id:"urlsearchparams-类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlsearchparams-类"}},[e._v("#")]),e._v(" "),a("code",[e._v("URLSearchParams")]),e._v(" 类"),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#class-urlsearchparams",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/class_urlsearchparams.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("code",[e._v("URLSearchParams")]),e._v(" API 提供对 "),a("code",[e._v("URL")]),e._v(" 查询的读写访问。 "),a("code",[e._v("URLSearchParams")]),e._v(" 类也可以与以下四个构造函数之一单独使用。 "),a("code",[e._v("URLSearchParams")]),e._v(" 类也在全局对象上可用。")]),e._v(" "),a("p",[e._v("WHATWG "),a("code",[e._v("URLSearchParams")]),e._v(" 接口和 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/querystring.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("querystring")]),a("OutboundLink")],1),e._v(" 模块具有相似的用途，但 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/querystring.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("querystring")]),a("OutboundLink")],1),e._v(" 模块的用途更通用，因为它允许自定义的分隔符（"),a("code",[e._v("&")]),e._v(" 和 "),a("code",[e._v("=")]),e._v("）。 换句话说，此 API 纯粹是为网址查询字符串而设计。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURL = new URL('https://example.org/?abc=123');\nconsole.log(myURL.searchParams.get('abc'));\n// 打印 123\n\nmyURL.searchParams.append('abc', 'xyz');\nconsole.log(myURL.href);\n// 打印 https://example.org/?abc=123&abc=xyz\n\nmyURL.searchParams.delete('abc');\nmyURL.searchParams.set('a', 'b');\nconsole.log(myURL.href);\n// 打印 https://example.org/?a=b\n\nconst newSearchParams = new URLSearchParams(myURL.searchParams);\n// 以上相当于\n// const newSearchParams = new URLSearchParams(myURL.search);\n\nnewSearchParams.append('a', 'c');\nconsole.log(myURL.href);\n// 打印 https://example.org/?a=b\nconsole.log(newSearchParams.toString());\n// 打印 a=b&a=c\n\n// newSearchParams.toString() 是隐式调用的\nmyURL.search = newSearchParams;\nconsole.log(myURL.href);\n// 打印 https://example.org/?a=b&a=c\nnewSearchParams.delete('a');\nconsole.log(myURL.href);\n// 打印 https://example.org/?a=b&a=c\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br"),a("span",{staticClass:"line-number"},[e._v("18")]),a("br"),a("span",{staticClass:"line-number"},[e._v("19")]),a("br"),a("span",{staticClass:"line-number"},[e._v("20")]),a("br"),a("span",{staticClass:"line-number"},[e._v("21")]),a("br"),a("span",{staticClass:"line-number"},[e._v("22")]),a("br"),a("span",{staticClass:"line-number"},[e._v("23")]),a("br"),a("span",{staticClass:"line-number"},[e._v("24")]),a("br"),a("span",{staticClass:"line-number"},[e._v("25")]),a("br"),a("span",{staticClass:"line-number"},[e._v("26")]),a("br"),a("span",{staticClass:"line-number"},[e._v("27")]),a("br"),a("span",{staticClass:"line-number"},[e._v("28")]),a("br"),a("span",{staticClass:"line-number"},[e._v("29")]),a("br"),a("span",{staticClass:"line-number"},[e._v("30")]),a("br")])]),a("h5",{attrs:{id:"new-urlsearchparams"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new-urlsearchparams"}},[e._v("#")]),e._v(" "),a("code",[e._v("new URLSearchParams()")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#new-urlsearchparams",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/new_urlsearchparams.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("实例化新的空 "),a("code",[e._v("URLSearchParams")]),e._v(" 对象。")]),e._v(" "),a("h5",{attrs:{id:"new-urlsearchparams-string"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new-urlsearchparams-string"}},[e._v("#")]),e._v(" "),a("code",[e._v("new URLSearchParams(string)")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#new-urlsearchparamsstring",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/new_urlsearchparams_string.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("code",[e._v("string")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1),e._v(" 查询字符串")])]),e._v(" "),a("p",[e._v("将 "),a("code",[e._v("string")]),e._v(" 解析为查询字符串，并使用它来实例化新的 "),a("code",[e._v("URLSearchParams")]),e._v(" 对象。 前导 "),a("code",[e._v("'?'")]),e._v("（如果存在）将被忽略。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("let params;\n\nparams = new URLSearchParams('user=abc&query=xyz');\nconsole.log(params.get('user'));\n// 打印 'abc'\nconsole.log(params.toString());\n// 打印 'user=abc&query=xyz'\n\nparams = new URLSearchParams('?user=abc&query=xyz');\nconsole.log(params.toString());\n// 打印 'user=abc&query=xyz'\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br")])]),a("h5",{attrs:{id:"new-urlsearchparams-obj"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new-urlsearchparams-obj"}},[e._v("#")]),e._v(" "),a("code",[e._v("new URLSearchParams(obj)")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#new-urlsearchparamsobj",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/new_urlsearchparams_obj.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("新增于: v7.10.0, v6.13.0")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("obj")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/jzn6Ao",target:"_blank",rel:"noopener noreferrer"}},[a("Object",[a("OutboundLink")],1)],1),e._v(" 表示键值对集合的对象")])]),e._v(" "),a("p",[e._v("使用查询哈希映射实例化新的 "),a("code",[e._v("URLSearchParams")]),e._v(" 对象。 "),a("code",[e._v("obj")]),e._v(" 的每个属性的键和值总是被强制转换为字符串。")]),e._v(" "),a("p",[e._v("与 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/querystring.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("querystring")]),a("OutboundLink")],1),e._v(" 模块不同，不允许以数组值的形式出现重复的键。 数组使用 "),a("a",{attrs:{href:"http://url.nodejs.cn/q2o4mr",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("array.toString()")]),a("OutboundLink")],1),e._v(" 字符串化，它简单地用逗号连接所有数组元素。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const params = new URLSearchParams({\n  user: 'abc',\n  query: ['first', 'second']\n});\nconsole.log(params.getAll('query'));\n// 打印 [ 'first,second' ]\nconsole.log(params.toString());\n// 打印 'user=abc&query=first%2Csecond'\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br")])]),a("h5",{attrs:{id:"new-urlsearchparams-iterable"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#new-urlsearchparams-iterable"}},[e._v("#")]),e._v(" "),a("code",[e._v("new URLSearchParams(iterable)")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#new-urlsearchparamsiterable",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/new_urlsearchparams_iterable.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("新增于: v7.10.0, v6.13.0")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("iterable")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/mQfCyy",target:"_blank",rel:"noopener noreferrer"}},[a("Iterable",[a("OutboundLink")],1)],1),e._v(" 元素为键值对的可迭代对象")])]),e._v(" "),a("p",[e._v("以类似于 "),a("a",{attrs:{href:"http://url.nodejs.cn/EnuJtG",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("Map")]),a("OutboundLink")],1),e._v(" 的构造函数的方式使用可迭代映射实例化新的 "),a("code",[e._v("URLSearchParams")]),e._v(" 对象。 "),a("code",[e._v("iterable")]),e._v(" 可以是 "),a("code",[e._v("Array")]),e._v(" 或任何可迭代对象。 这意味着 "),a("code",[e._v("iterable")]),e._v(" 可以是另一个 "),a("code",[e._v("URLSearchParams")]),e._v("，在这种情况下，构造函数将简单地创建提供的 "),a("code",[e._v("URLSearchParams")]),e._v(" 的克隆。 "),a("code",[e._v("iterable")]),e._v(" 的元素是键值对，并且本身可以是任何可迭代对象。")]),e._v(" "),a("p",[e._v("允许重复的键。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("let params;\n\n// 使用数组\nparams = new URLSearchParams([\n  ['user', 'abc'],\n  ['query', 'first'],\n  ['query', 'second']\n]);\nconsole.log(params.toString());\n// 打印 'user=abc&query=first&query=second'\n\n// 使用 Map 对象\nconst map = new Map();\nmap.set('user', 'abc');\nmap.set('query', 'xyz');\nparams = new URLSearchParams(map);\nconsole.log(params.toString());\n// 打印 'user=abc&query=xyz'\n\n// 使用生成器函数\nfunction* getQueryPairs() {\n  yield ['user', 'abc'];\n  yield ['query', 'first'];\n  yield ['query', 'second'];\n}\nparams = new URLSearchParams(getQueryPairs());\nconsole.log(params.toString());\n// 打印 'user=abc&query=first&query=second'\n\n// 每个键值对必须恰好有两个元素\nnew URLSearchParams([\n  ['user', 'abc', 'error']\n]);\n// 抛出 TypeError [ERR_INVALID_TUPLE]:\n//        Each query pair must be an iterable [name, value] tuple\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br"),a("span",{staticClass:"line-number"},[e._v("18")]),a("br"),a("span",{staticClass:"line-number"},[e._v("19")]),a("br"),a("span",{staticClass:"line-number"},[e._v("20")]),a("br"),a("span",{staticClass:"line-number"},[e._v("21")]),a("br"),a("span",{staticClass:"line-number"},[e._v("22")]),a("br"),a("span",{staticClass:"line-number"},[e._v("23")]),a("br"),a("span",{staticClass:"line-number"},[e._v("24")]),a("br"),a("span",{staticClass:"line-number"},[e._v("25")]),a("br"),a("span",{staticClass:"line-number"},[e._v("26")]),a("br"),a("span",{staticClass:"line-number"},[e._v("27")]),a("br"),a("span",{staticClass:"line-number"},[e._v("28")]),a("br"),a("span",{staticClass:"line-number"},[e._v("29")]),a("br"),a("span",{staticClass:"line-number"},[e._v("30")]),a("br"),a("span",{staticClass:"line-number"},[e._v("31")]),a("br"),a("span",{staticClass:"line-number"},[e._v("32")]),a("br"),a("span",{staticClass:"line-number"},[e._v("33")]),a("br"),a("span",{staticClass:"line-number"},[e._v("34")]),a("br"),a("span",{staticClass:"line-number"},[e._v("35")]),a("br")])]),a("h5",{attrs:{id:"urlsearchparams-append-name-value"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlsearchparams-append-name-value"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlSearchParams.append(name, value)")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlsearchparamsappendname-value",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlsearchparams_append_name_value.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("code",[e._v("name")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)]),e._v(" "),a("li",[a("code",[e._v("value")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("将新的名称-值对追加到查询字符串。")]),e._v(" "),a("h5",{attrs:{id:"urlsearchparams-delete-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlsearchparams-delete-name"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlSearchParams.delete(name)")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlsearchparamsdeletename",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlsearchparams_delete_name.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("code",[e._v("name")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("删除名称为 "),a("code",[e._v("name")]),e._v(" 的所有名称-值对。")]),e._v(" "),a("h5",{attrs:{id:"urlsearchparams-entries"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlsearchparams-entries"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlSearchParams.entries()")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlsearchparamsentries",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlsearchparams_entries.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[e._v("返回: "),a("a",{attrs:{href:"http://url.nodejs.cn/Y2SE1q",target:"_blank",rel:"noopener noreferrer"}},[a("Iterator",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("在查询中的每个名称-值对上返回 ES6 "),a("code",[e._v("Iterator")]),e._v("。 迭代器的每一项都是 JavaScript "),a("code",[e._v("Array")]),e._v("。 "),a("code",[e._v("Array")]),e._v(" 的第一项是 "),a("code",[e._v("name")]),e._v("，"),a("code",[e._v("Array")]),e._v(" 的第二项是 "),a("code",[e._v("value")]),e._v("。")]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_urlsearchparams_symbol_iterator",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("urlSearchParams[@@iterator]()")]),a("OutboundLink")],1),e._v(" 的别名。")]),e._v(" "),a("h5",{attrs:{id:"urlsearchparams-foreach-fn-thisarg"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlsearchparams-foreach-fn-thisarg"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlSearchParams.forEach(fn[, thisArg])")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlsearchparamsforeachfn-thisarg",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlsearchparams_foreach_fn_thisarg.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("code",[e._v("fn")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/ceTQa6",target:"_blank",rel:"noopener noreferrer"}},[a("Function",[a("OutboundLink")],1)],1),e._v(" 为查询中的每个名称-值对调用")]),e._v(" "),a("li",[a("code",[e._v("thisArg")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/jzn6Ao",target:"_blank",rel:"noopener noreferrer"}},[a("Object",[a("OutboundLink")],1)],1),e._v(" 在调用 "),a("code",[e._v("fn")]),e._v(" 时用作 "),a("code",[e._v("this")]),e._v(" 值")])]),e._v(" "),a("p",[e._v("迭代查询中的每个名称-值对并调用给定的函数。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURL = new URL('https://example.org/?a=b&c=d');\nmyURL.searchParams.forEach((value, name, searchParams) => {\n  console.log(name, value, myURL.searchParams === searchParams);\n});\n// 打印:\n//   a b true\n//   c d true\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("h5",{attrs:{id:"urlsearchparams-get-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlsearchparams-get-name"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlSearchParams.get(name)")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlsearchparamsgetname",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlsearchparams_get_name.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("code",[e._v("name")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)]),e._v(" "),a("li",[e._v("返回: "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1),e._v(" 或 "),a("code",[e._v("null")]),e._v("，如果给定的 "),a("code",[e._v("name")]),e._v(" 没有名称-值对。")])]),e._v(" "),a("p",[e._v("返回名称为 "),a("code",[e._v("name")]),e._v(" 的第一个名称-值对的值。 如果没有这样的对，则返回 "),a("code",[e._v("null")]),e._v("。")]),e._v(" "),a("h5",{attrs:{id:"urlsearchparams-getall-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlsearchparams-getall-name"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlSearchParams.getAll(name)")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlsearchparamsgetallname",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlsearchparams_getall_name.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("code",[e._v("name")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)]),e._v(" "),a("li",[e._v("返回: "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[e._v("<string[]>"),a("OutboundLink")],1)])]),e._v(" "),a("p",[e._v("返回名称为 "),a("code",[e._v("name")]),e._v(" 的所有名称-值对的值。 如果没有这样的对，则返回空数组。")]),e._v(" "),a("h5",{attrs:{id:"urlsearchparams-has-name"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlsearchparams-has-name"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlSearchParams.has(name)")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlsearchparamshasname",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlsearchparams_has_name.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("code",[e._v("name")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)]),e._v(" "),a("li",[e._v("返回: "),a("a",{attrs:{href:"http://url.nodejs.cn/jFbvuT",target:"_blank",rel:"noopener noreferrer"}},[a("boolean",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("如果至少有一个名称-值对的名称为 "),a("code",[e._v("name")]),e._v("，则返回 "),a("code",[e._v("true")]),e._v("。")]),e._v(" "),a("h5",{attrs:{id:"urlsearchparams-keys"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlsearchparams-keys"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlSearchParams.keys()")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlsearchparamskeys",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlsearchparams_keys.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[e._v("返回: "),a("a",{attrs:{href:"http://url.nodejs.cn/Y2SE1q",target:"_blank",rel:"noopener noreferrer"}},[a("Iterator",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("在每个名称-值对的名称上返回 ES6 "),a("code",[e._v("Iterator")]),e._v("。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const params = new URLSearchParams('foo=bar&foo=baz');\nfor (const name of params.keys()) {\n  console.log(name);\n}\n// 打印:\n//   foo\n//   foo\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("h5",{attrs:{id:"urlsearchparams-set-name-value"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlsearchparams-set-name-value"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlSearchParams.set(name, value)")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlsearchparamssetname-value",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlsearchparams_set_name_value.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[a("code",[e._v("name")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)]),e._v(" "),a("li",[a("code",[e._v("value")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("将与 "),a("code",[e._v("name")]),e._v(" 关联的 "),a("code",[e._v("URLSearchParams")]),e._v(" 对象中的值设置为 "),a("code",[e._v("value")]),e._v("。 如果存在任何名称为 "),a("code",[e._v("name")]),e._v(" 的预先存在的名称-值对，则将第一个此类对的值设置为 "),a("code",[e._v("value")]),e._v(" 并删除所有其他名称。 如果没有，则将名称-值对追加到查询字符串。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const params = new URLSearchParams();\nparams.append('foo', 'bar');\nparams.append('foo', 'baz');\nparams.append('abc', 'def');\nconsole.log(params.toString());\n// 打印 foo=bar&foo=baz&abc=def\n\nparams.set('foo', 'def');\nparams.set('xyz', 'opq');\nconsole.log(params.toString());\n// 打印 foo=def&abc=def&xyz=opq\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br")])]),a("h5",{attrs:{id:"urlsearchparams-sort"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlsearchparams-sort"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlSearchParams.sort()")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlsearchparamssort",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlsearchparams_sort.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("新增于: v7.7.0, v6.13.0")]),e._v(" "),a("p",[e._v("按名称对所有现有的名称-值对进行就地排序。 排序是使用"),a("a",{attrs:{href:"http://url.nodejs.cn/bDYCiv",target:"_blank",rel:"noopener noreferrer"}},[e._v("稳定排序算法"),a("OutboundLink")],1),e._v("完成的，因此保留了具有相同名称的名称-值对之间的相对顺序。")]),e._v(" "),a("p",[e._v("该方法尤其可用于增加缓存命中。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const params = new URLSearchParams('query[]=abc&type=search&query[]=123');\nparams.sort();\nconsole.log(params.toString());\n// 打印 query%5B%5D=abc&query%5B%5D=123&type=search\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("h5",{attrs:{id:"urlsearchparams-tostring"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlsearchparams-tostring"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlSearchParams.toString()")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlsearchparamstostring",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlsearchparams_tostring.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[e._v("返回: "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("返回序列化为字符串的搜索参数，必要时使用百分比编码的字符。")]),e._v(" "),a("h5",{attrs:{id:"urlsearchparams-values"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlsearchparams-values"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlSearchParams.values()")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlsearchparamsvalues",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlsearchparams_values.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[e._v("返回: "),a("a",{attrs:{href:"http://url.nodejs.cn/Y2SE1q",target:"_blank",rel:"noopener noreferrer"}},[a("Iterator",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("在每个名称-值对的值上返回 ES6 "),a("code",[e._v("Iterator")]),e._v("。")]),e._v(" "),a("h5",{attrs:{id:"urlsearchparams-symbol-iterator"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlsearchparams-symbol-iterator"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlSearchParams[Symbol.iterator]()")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlsearchparamssymboliterator",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlsearchparams_symbol_iterator.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("ul",[a("li",[e._v("返回: "),a("a",{attrs:{href:"http://url.nodejs.cn/Y2SE1q",target:"_blank",rel:"noopener noreferrer"}},[a("Iterator",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("在查询字符串中的每个名称-值对上返回 ES6 "),a("code",[e._v("Iterator")]),e._v("。 迭代器的每一项都是 JavaScript "),a("code",[e._v("Array")]),e._v("。 "),a("code",[e._v("Array")]),e._v(" 的第一项是 "),a("code",[e._v("name")]),e._v("，"),a("code",[e._v("Array")]),e._v(" 的第二项是 "),a("code",[e._v("value")]),e._v("。")]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_urlsearchparams_entries",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("urlSearchParams.entries()")]),a("OutboundLink")],1),e._v(" 的别名。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const params = new URLSearchParams('foo=bar&xyz=baz');\nfor (const [name, value] of params) {\n  console.log(name, value);\n}\n// 打印:\n//   foo bar\n//   xyz baz\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("h4",{attrs:{id:"url-domaintoascii-domain"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-domaintoascii-domain"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.domainToASCII(domain)")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urldomaintoasciidomain",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_domaintoascii_domain.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("新增于: v7.4.0, v6.13.0")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("domain")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)]),e._v(" "),a("li",[e._v("返回: "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("返回 "),a("code",[e._v("domain")]),e._v(" 的 "),a("a",{attrs:{href:"http://url.nodejs.cn/C2g98n",target:"_blank",rel:"noopener noreferrer"}},[e._v("Punycode"),a("OutboundLink")],1),e._v(" ASCII 序列化。 如果 "),a("code",[e._v("domain")]),e._v(" 是无效域，则返回空字符串。")]),e._v(" "),a("p",[e._v("它执行与"),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_url_domaintounicode_domain",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("url.domainToUnicode()")]),a("OutboundLink")],1),e._v("相反的操作。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const url = require('url');\nconsole.log(url.domainToASCII('español.com'));\n// 打印 xn--espaol-zwa.com\nconsole.log(url.domainToASCII('中文.com'));\n// 打印 xn--fiq228c.com\nconsole.log(url.domainToASCII('xn--iñvalid.com'));\n// 打印 an empty string\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("h4",{attrs:{id:"url-domaintounicode-domain"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-domaintounicode-domain"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.domainToUnicode(domain)")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urldomaintounicodedomain",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_domaintounicode_domain.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("新增于: v7.4.0, v6.13.0")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("domain")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)]),e._v(" "),a("li",[e._v("返回: "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("返回 "),a("code",[e._v("domain")]),e._v(" 的 Unicode 序列化。 如果 "),a("code",[e._v("domain")]),e._v(" 是无效域，则返回空字符串。")]),e._v(" "),a("p",[e._v("它执行与"),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_url_domaintoascii_domain",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("url.domainToASCII()")]),a("OutboundLink")],1),e._v("相反的操作。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const url = require('url');\nconsole.log(url.domainToUnicode('xn--espaol-zwa.com'));\n// 打印 español.com\nconsole.log(url.domainToUnicode('xn--fiq228c.com'));\n// 打印 中文.com\nconsole.log(url.domainToUnicode('xn--iñvalid.com'));\n// 打印 an empty string\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br")])]),a("h4",{attrs:{id:"url-fileurltopath-url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-fileurltopath-url"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.fileURLToPath(url)")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlfileurltopathurl",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_fileurltopath_url.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("新增于: v10.12.0")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("url")]),e._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api/url.html#the-whatwg-url-api",target:"_blank",rel:"noopener noreferrer"}},[a("URL",[a("OutboundLink")],1)],1),e._v(" | "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1),e._v(" 要转换为路径的文件网址字符串或网址对象。")]),e._v(" "),a("li",[e._v("返回: "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1),e._v(" 完全解析的特定于平台的 Node.js 文件路径。")])]),e._v(" "),a("p",[e._v("此函数可确保正确解码百分比编码字符，并确保跨平台有效的绝对路径字符串。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("new URL('file:///C:/path/').pathname;    // 错误: /C:/path/\nfileURLToPath('file:///C:/path/');       // 正确: C:\\path\\ (Windows)\n\nnew URL('file://nas/foo.txt').pathname;  // 错误: /foo.txt\nfileURLToPath('file://nas/foo.txt');     // 正确: \\\\nas\\foo.txt (Windows)\n\nnew URL('file:///你好.txt').pathname;    // 错误: /%E4%BD%A0%E5%A5%BD.txt\nfileURLToPath('file:///你好.txt');       // 正确: /你好.txt (POSIX)\n\nnew URL('file:///hello world').pathname; // 错误: /hello%20world\nfileURLToPath('file:///hello world');    // 正确: /hello world (POSIX)\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br")])]),a("h4",{attrs:{id:"url-format-url-options"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-format-url-options"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.format(URL[, options])")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlformaturl-options",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_format_url_options.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("新增于: v7.6.0")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("URL")]),e._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api/url.html#the-whatwg-url-api",target:"_blank",rel:"noopener noreferrer"}},[a("URL",[a("OutboundLink")],1)],1),e._v(" "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_the_whatwg_url_api",target:"_blank",rel:"noopener noreferrer"}},[e._v("WHATWG 网址"),a("OutboundLink")],1),e._v("对象")]),e._v(" "),a("li",[a("code",[e._v("options")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/jzn6Ao",target:"_blank",rel:"noopener noreferrer"}},[a("Object",[a("OutboundLink")],1)],1),e._v(" "),a("ul",[a("li",[a("code",[e._v("auth")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/jFbvuT",target:"_blank",rel:"noopener noreferrer"}},[a("boolean",[a("OutboundLink")],1)],1),e._v(" 如果序列化的网址字符串应包含用户名和密码，则为 "),a("code",[e._v("true")]),e._v("，否则为 "),a("code",[e._v("false")]),e._v("。 "),a("strong",[e._v("默认值:")]),e._v(" "),a("code",[e._v("true")]),e._v("。")]),e._v(" "),a("li",[a("code",[e._v("fragment")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/jFbvuT",target:"_blank",rel:"noopener noreferrer"}},[a("boolean",[a("OutboundLink")],1)],1),e._v(" 如果序列化的网址字符串应包含片段，则为 "),a("code",[e._v("true")]),e._v("，否则为 "),a("code",[e._v("false")]),e._v("。 "),a("strong",[e._v("默认值:")]),e._v(" "),a("code",[e._v("true")]),e._v("。")]),e._v(" "),a("li",[a("code",[e._v("search")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/jFbvuT",target:"_blank",rel:"noopener noreferrer"}},[a("boolean",[a("OutboundLink")],1)],1),e._v(" 如果序列化的网址字符串应包含搜索查询，则为 "),a("code",[e._v("true")]),e._v("，否则为 "),a("code",[e._v("false")]),e._v("。 "),a("strong",[e._v("默认值:")]),e._v(" "),a("code",[e._v("true")]),e._v("。")]),e._v(" "),a("li",[a("code",[e._v("unicode")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/jFbvuT",target:"_blank",rel:"noopener noreferrer"}},[a("boolean",[a("OutboundLink")],1)],1),e._v(" "),a("code",[e._v("true")]),e._v(" 如果出现在网址字符串的主机组件中的 Unicode 字符应该被直接编码而不是 Punycode 编码。 "),a("strong",[e._v("默认值:")]),e._v(" "),a("code",[e._v("false")]),e._v("。")])])]),e._v(" "),a("li",[e._v("返回: "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1)])]),e._v(" "),a("p",[e._v("返回 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#url_the_whatwg_url_api",target:"_blank",rel:"noopener noreferrer"}},[e._v("WHATWG 网址"),a("OutboundLink")],1),e._v("对象的网址 "),a("code",[e._v("String")]),e._v(" 表示的可自定义的序列化。")]),e._v(" "),a("p",[e._v("网址对象具有 "),a("code",[e._v("toString()")]),e._v(" 方法和 "),a("code",[e._v("href")]),e._v(" 属性，用于返回网址的字符串序列化。 但是，这些都不能以任何方式自定义。 "),a("code",[e._v("url.format(URL[, options])")]),e._v(" 方法允许对输出进行基本的自定义。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURL = new URL('https://a:b@測試?abc#foo');\n\nconsole.log(myURL.href);\n// 打印 https://a:b@xn--g6w251d/?abc#foo\n\nconsole.log(myURL.toString());\n// 打印 https://a:b@xn--g6w251d/?abc#foo\n\nconsole.log(url.format(myURL, { fragment: false, unicode: true, auth: false }));\n// 打印 'https://測試/?abc'\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br")])]),a("h4",{attrs:{id:"url-pathtofileurl-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-pathtofileurl-path"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.pathToFileURL(path)")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlpathtofileurlpath",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_pathtofileurl_path.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("新增于: v10.12.0")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("path")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1),e._v(" 要转换为文件网址的路径。")]),e._v(" "),a("li",[e._v("返回: "),a("a",{attrs:{href:"http://nodejs.cn/api/url.html#the-whatwg-url-api",target:"_blank",rel:"noopener noreferrer"}},[a("URL",[a("OutboundLink")],1)],1),e._v(" 文件网址对象。")])]),e._v(" "),a("p",[e._v("该函数确保 "),a("code",[e._v("path")]),e._v(" 被绝对解析，并且在转换为文件网址时正确编码网址控制字符。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("new URL(__filename);                // 错误: 抛出错误 (POSIX)\nnew URL(__filename);                // 错误: C:\\... (Windows)\npathToFileURL(__filename);          // 正确: file:///... (POSIX)\npathToFileURL(__filename);          // 正确: file:///C:/... (Windows)\n\nnew URL('/foo#1', 'file:');         // 错误: file:///foo#1\npathToFileURL('/foo#1');            // 正确: file:///foo%231 (POSIX)\n\nnew URL('/some/path%.c', 'file:'); // 错误: file:///some/path%.c\npathToFileURL('/some/path%.c');    // 正确: file:///some/path%25.c (POSIX)\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br")])]),a("h3",{attrs:{id:"旧版的网址-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#旧版的网址-api"}},[e._v("#")]),e._v(" 旧版的网址 API"),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#legacy-url-api",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("弃用于: v11.0.0")]),e._v(" "),a("h4",{attrs:{id:"旧版的-urlobject"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#旧版的-urlobject"}},[e._v("#")]),e._v(" 旧版的 urlObject"),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#legacy-urlobject",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/legacy_urlobject.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api/documentation.html#stability-index",target:"_blank",rel:"noopener noreferrer"}},[e._v("稳定性: 0"),a("OutboundLink")],1),e._v(" - 弃用: 改为使用 WHATWG URL API 。")]),e._v(" "),a("p",[e._v("旧版的 "),a("code",[e._v("urlObject")]),e._v("（"),a("code",[e._v("require('url').Url")]),e._v("）由 "),a("code",[e._v("url.parse()")]),e._v(" 函数创建和返回。")]),e._v(" "),a("h5",{attrs:{id:"urlobject-auth"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlobject-auth"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlObject.auth")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlobjectauth",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlobject_auth.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("code",[e._v("auth")]),e._v(" 属性是网址的用户名和密码部分，也称为 userinfo。 此字符串子集跟在 "),a("code",[e._v("protocol")]),e._v(" 和双斜杠（如果存在）之后，并在 "),a("code",[e._v("host")]),e._v(" 组件之前，由 "),a("code",[e._v("@")]),e._v(" 分隔。 该字符串要么是用户名，要么是由 "),a("code",[e._v(":")]),e._v(" 分隔的用户名和密码。")]),e._v(" "),a("p",[e._v("例如："),a("code",[e._v("'user:pass'")]),e._v("。")]),e._v(" "),a("h5",{attrs:{id:"urlobject-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlobject-hash"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlObject.hash")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlobjecthash",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlobject_hash.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("code",[e._v("hash")]),e._v(" 属性是网址的片段标识符部分，包括前导 "),a("code",[e._v("#")]),e._v(" 字符。")]),e._v(" "),a("p",[e._v("例如："),a("code",[e._v("'#hash'")]),e._v("。")]),e._v(" "),a("h5",{attrs:{id:"urlobject-host"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlobject-host"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlObject.host")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlobjecthost",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlobject_host.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("code",[e._v("host")]),e._v(" 属性是网址的完整小写主机部分，包括 "),a("code",[e._v("port")]),e._v("（如果指定）。")]),e._v(" "),a("p",[e._v("例如："),a("code",[e._v("'sub.example.com:8080'")]),e._v("。")]),e._v(" "),a("h5",{attrs:{id:"urlobject-hostname"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlobject-hostname"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlObject.hostname")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlobjecthostname",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlobject_hostname.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("code",[e._v("hostname")]),e._v(" 属性是 "),a("code",[e._v("host")]),e._v(" 组件的小写主机名部分，不包括 "),a("code",[e._v("port")]),e._v("。")]),e._v(" "),a("p",[e._v("例如："),a("code",[e._v("'sub.example.com'")]),e._v("。")]),e._v(" "),a("h5",{attrs:{id:"urlobject-href"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlobject-href"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlObject.href")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlobjecthref",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlobject_href.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("code",[e._v("href")]),e._v(" 属性是将 "),a("code",[e._v("protocol")]),e._v(" 和 "),a("code",[e._v("host")]),e._v(" 组件都转换为小写的完整网址字符串。")]),e._v(" "),a("p",[e._v("例如："),a("code",[e._v("'http://user:pass@sub.example.com:8080/p/a/t/h?query=string#hash'")]),e._v("。")]),e._v(" "),a("h5",{attrs:{id:"urlobject-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlobject-path"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlObject.path")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlobjectpath",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlobject_path.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("code",[e._v("path")]),e._v(" 属性是 "),a("code",[e._v("pathname")]),e._v(" 和 "),a("code",[e._v("search")]),e._v(" 组件的串联。")]),e._v(" "),a("p",[e._v("例如："),a("code",[e._v("'/p/a/t/h?query=string'")]),e._v("。")]),e._v(" "),a("p",[e._v("不执行 "),a("code",[e._v("path")]),e._v(" 的解码。")]),e._v(" "),a("h5",{attrs:{id:"urlobject-pathname"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlobject-pathname"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlObject.pathname")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlobjectpathname",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlobject_pathname.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("code",[e._v("pathname")]),e._v(" 属性包含网址的整个路径部分。 这是 "),a("code",[e._v("host")]),e._v("（包括 "),a("code",[e._v("port")]),e._v("）之后和 "),a("code",[e._v("query")]),e._v(" 或 "),a("code",[e._v("hash")]),e._v(" 组件开始之前的所有内容，由 ASCII 问号 ("),a("code",[e._v("?")]),e._v(") 或哈希 ("),a("code",[e._v("#")]),e._v(") 字符分隔。")]),e._v(" "),a("p",[e._v("例如："),a("code",[e._v("'/p/a/t/h'")]),e._v("。")]),e._v(" "),a("p",[e._v("不执行路径字符串的解码。")]),e._v(" "),a("h5",{attrs:{id:"urlobject-port"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlobject-port"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlObject.port")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlobjectport",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlobject_port.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("code",[e._v("port")]),e._v(" 属性是 "),a("code",[e._v("host")]),e._v(" 组件的数字端口部分。")]),e._v(" "),a("p",[e._v("例如："),a("code",[e._v("'8080'")]),e._v("。")]),e._v(" "),a("h5",{attrs:{id:"urlobject-protocol"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlobject-protocol"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlObject.protocol")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlobjectprotocol",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlobject_protocol.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("code",[e._v("protocol")]),e._v(" 属性标识网址的小写协议方案。")]),e._v(" "),a("p",[e._v("例如："),a("code",[e._v("'http:'")]),e._v("。")]),e._v(" "),a("h5",{attrs:{id:"urlobject-query"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlobject-query"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlObject.query")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlobjectquery",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlobject_query.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("code",[e._v("query")]),e._v(" 属性要么是不带前导 ASCII 问号 ("),a("code",[e._v("?")]),e._v(") 的查询字符串，要么是 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/querystring.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("querystring")]),a("OutboundLink")],1),e._v(" 模块的 "),a("code",[e._v("parse()")]),e._v(" 方法返回的对象。 "),a("code",[e._v("query")]),e._v(" 属性是字符串还是对象由传给 "),a("code",[e._v("url.parse()")]),e._v(" 的 "),a("code",[e._v("parseQueryString")]),e._v(" 参数决定。")]),e._v(" "),a("p",[e._v("例如："),a("code",[e._v("'query=string'")]),e._v(" 或 "),a("code",[e._v("{'query': 'string'}")]),e._v("。")]),e._v(" "),a("p",[e._v("如果作为字符串返回，则不执行查询字符串的解码。 如果作为对象返回，则键和值都会被解码。")]),e._v(" "),a("h5",{attrs:{id:"urlobject-search"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlobject-search"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlObject.search")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlobjectsearch",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlobject_search.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("code",[e._v("search")]),e._v(" 属性由网址的整个“查询字符串”部分组成，包括前导 ASCII 问号 ("),a("code",[e._v("?")]),e._v(") 字符。")]),e._v(" "),a("p",[e._v("例如："),a("code",[e._v("'?query=string'")]),e._v("。")]),e._v(" "),a("p",[e._v("不执行查询字符串的解码。")]),e._v(" "),a("h5",{attrs:{id:"urlobject-slashes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#urlobject-slashes"}},[e._v("#")]),e._v(" "),a("code",[e._v("urlObject.slashes")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlobjectslashes",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/urlobject_slashes.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("如果 "),a("code",[e._v("protocol")]),e._v(" 中的冒号后需要两个 ASCII 正斜杠字符 ("),a("code",[e._v("/")]),e._v(")，则 "),a("code",[e._v("slashes")]),e._v(" 属性是值为 "),a("code",[e._v("true")]),e._v(" 的 "),a("code",[e._v("boolean")]),e._v("。")]),e._v(" "),a("h4",{attrs:{id:"url-format-urlobject"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-format-urlobject"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.format(urlObject)")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlformaturlobject",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_format_urlobject.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api/documentation.html#stability-index",target:"_blank",rel:"noopener noreferrer"}},[e._v("稳定性: 0"),a("OutboundLink")],1),e._v(" - 弃用: 改为使用 WHATWG URL API 。")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("urlObject")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/jzn6Ao",target:"_blank",rel:"noopener noreferrer"}},[a("Object",[a("OutboundLink")],1)],1),e._v(" | "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1),e._v(" 网址对象（由 "),a("code",[e._v("url.parse()")]),e._v(" 返回或以其他方式构造）。 如果是字符串，则通过将其传给 "),a("code",[e._v("url.parse()")]),e._v(" 将其转换为对象。")])]),e._v(" "),a("p",[a("code",[e._v("url.format()")]),e._v(" 方法返回从 "),a("code",[e._v("urlObject")]),e._v(" 派生的格式化网址字符串。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("url.format({\n  protocol: 'https',\n  hostname: 'example.com',\n  pathname: '/some/path',\n  query: {\n    page: 1,\n    format: 'json'\n  }\n});\n\n// => 'https://example.com/some/path?page=1&format=json'\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br")])]),a("p",[e._v("如果 "),a("code",[e._v("urlObject")]),e._v(" 不是对象或字符串，则 "),a("code",[e._v("url.format()")]),e._v(" 将抛出 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/errors.html#errors_class_typeerror",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("TypeError")]),a("OutboundLink")],1),e._v("。")]),e._v(" "),a("p",[e._v("格式化过程如下：")]),e._v(" "),a("ul",[a("li",[e._v("创建新的空字符串 "),a("code",[e._v("result")]),e._v("。")]),e._v(" "),a("li",[e._v("如果 "),a("code",[e._v("urlObject.protocol")]),e._v(" 是字符串，则按原样附加到 "),a("code",[e._v("result")]),e._v("。")]),e._v(" "),a("li",[e._v("否则，如果 "),a("code",[e._v("urlObject.protocol")]),e._v(" 不是 "),a("code",[e._v("undefined")]),e._v(" 并且不是字符串，则抛出 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/errors.html#errors_class_error",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("Error")]),a("OutboundLink")],1),e._v("。")]),e._v(" "),a("li",[e._v("对于所有不以 ASCII 冒号（"),a("code",[e._v(":")]),e._v("）字符结尾的 "),a("code",[e._v("urlObject.protocol")]),e._v(" 字符串值，文字字符串 "),a("code",[e._v(":")]),e._v(" 将附加到 "),a("code",[e._v("result")]),e._v("。")]),e._v(" "),a("li",[e._v("如果以下任一条件为真，则文字串 "),a("code",[e._v("//")]),e._v(" 将附加到 "),a("code",[e._v("result")]),e._v(":\n"),a("ul",[a("li",[a("code",[e._v("urlObject.slashes")]),e._v(" 属性为真；")]),e._v(" "),a("li",[a("code",[e._v("urlObject.protocol")]),e._v(" 以 "),a("code",[e._v("http")]),e._v("、"),a("code",[e._v("https")]),e._v("、"),a("code",[e._v("ftp")]),e._v("、"),a("code",[e._v("gopher")]),e._v(" 或 "),a("code",[e._v("file")]),e._v(" 开头；")])])]),e._v(" "),a("li",[e._v("如果 "),a("code",[e._v("urlObject.auth")]),e._v(" 属性的值为真，并且 "),a("code",[e._v("urlObject.host")]),e._v(" 或 "),a("code",[e._v("urlObject.hostname")]),e._v(" 不是 "),a("code",[e._v("undefined")]),e._v("，则 "),a("code",[e._v("urlObject.auth")]),e._v(" 的值将被强制转换为字符串并附加到 "),a("code",[e._v("result")]),e._v(" 后跟文字串 "),a("code",[e._v("@")]),e._v("。")]),e._v(" "),a("li",[e._v("如果 "),a("code",[e._v("urlObject.host")]),e._v(" 属性为 "),a("code",[e._v("undefined")]),e._v("，则：\n"),a("ul",[a("li",[e._v("如果 "),a("code",[e._v("urlObject.hostname")]),e._v(" 是字符串，则将其附加到 "),a("code",[e._v("result")]),e._v("。")]),e._v(" "),a("li",[e._v("否则，如果 "),a("code",[e._v("urlObject.hostname")]),e._v(" 不是 "),a("code",[e._v("undefined")]),e._v(" 并且不是字符串，则抛出 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/errors.html#errors_class_error",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("Error")]),a("OutboundLink")],1),e._v("。")]),e._v(" "),a("li",[e._v("如果 "),a("code",[e._v("urlObject.port")]),e._v(" 属性值为真，而 "),a("code",[e._v("urlObject.hostname")]),e._v(" 不是 "),a("code",[e._v("undefined")]),e._v(":\n"),a("ul",[a("li",[e._v("字面量字符串 "),a("code",[e._v(":")]),e._v(" 附加到 "),a("code",[e._v("result")]),e._v("，并且")]),e._v(" "),a("li",[a("code",[e._v("urlObject.port")]),e._v(" 的值被强制转换为字符串并附加到 "),a("code",[e._v("result")]),e._v("。")])])])])]),e._v(" "),a("li",[e._v("否则，如果 "),a("code",[e._v("urlObject.host")]),e._v(" 属性值为真，则将 "),a("code",[e._v("urlObject.host")]),e._v(" 的值强制转换为字符串并附加到 "),a("code",[e._v("result")]),e._v("。")]),e._v(" "),a("li",[e._v("如果 "),a("code",[e._v("urlObject.pathname")]),e._v(" 属性是非空的字符串：\n"),a("ul",[a("li",[e._v("如果 "),a("code",[e._v("urlObject.pathname")]),e._v(" 不以 ASCII 正斜杠 ("),a("code",[e._v("/")]),e._v(") 开头，则文本字符串 "),a("code",[e._v("'/'")]),e._v(" 将附加到 "),a("code",[e._v("result")]),e._v("。")]),e._v(" "),a("li",[a("code",[e._v("urlObject.pathname")]),e._v(" 的值附加到 "),a("code",[e._v("result")]),e._v("。")])])]),e._v(" "),a("li",[e._v("否则，如果 "),a("code",[e._v("urlObject.pathname")]),e._v(" 不是 "),a("code",[e._v("undefined")]),e._v(" 并且不是字符串，则抛出 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/errors.html#errors_class_error",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("Error")]),a("OutboundLink")],1),e._v("。")]),e._v(" "),a("li",[e._v("如果 "),a("code",[e._v("urlObject.search")]),e._v(" 属性是 "),a("code",[e._v("undefined")]),e._v(" 并且如果 "),a("code",[e._v("urlObject.query")]),e._v(" 属性是 "),a("code",[e._v("Object")]),e._v("，则文字串 "),a("code",[e._v("?")]),e._v(" 附加到 "),a("code",[e._v("result")]),e._v("，然后是调用 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/querystring.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("querystring")]),a("OutboundLink")],1),e._v(" 模块的 "),a("code",[e._v("stringify()")]),e._v(" 方法的输出，并传入 "),a("code",[e._v("urlObject.query")]),e._v(" 的值。")]),e._v(" "),a("li",[e._v("否则，如果 "),a("code",[e._v("urlObject.search")]),e._v(" 是一个字符串：\n"),a("ul",[a("li",[e._v("如果 "),a("code",[e._v("urlObject.search")]),e._v(" 的值不以 ASCII 问号 ("),a("code",[e._v("?")]),e._v(") 字符开头，则文本字符串 "),a("code",[e._v("?")]),e._v(" 附加到 "),a("code",[e._v("result")]),e._v("。")]),e._v(" "),a("li",[a("code",[e._v("urlObject.search")]),e._v(" 的值附加到 "),a("code",[e._v("result")]),e._v("。")])])]),e._v(" "),a("li",[e._v("否则，如果 "),a("code",[e._v("urlObject.search")]),e._v(" 不是 "),a("code",[e._v("undefined")]),e._v(" 并且不是字符串，则抛出 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/errors.html#errors_class_error",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("Error")]),a("OutboundLink")],1),e._v("。")]),e._v(" "),a("li",[e._v("如果 "),a("code",[e._v("urlObject.hash")]),e._v(" 属性是字符串：\n"),a("ul",[a("li",[e._v("如果 "),a("code",[e._v("urlObject.hash")]),e._v(" 的值不以 ASCII 散列 ("),a("code",[e._v("#")]),e._v(") 字符开头，则文本字符串 "),a("code",[e._v("#")]),e._v(" 将附加到 "),a("code",[e._v("result")]),e._v("。")]),e._v(" "),a("li",[a("code",[e._v("urlObject.hash")]),e._v(" 的值附加到 "),a("code",[e._v("result")]),e._v("。")])])]),e._v(" "),a("li",[e._v("否则，如果 "),a("code",[e._v("urlObject.hash")]),e._v(" 属性不是 "),a("code",[e._v("undefined")]),e._v(" 并且不是字符串，则抛出 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/errors.html#errors_class_error",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("Error")]),a("OutboundLink")],1),e._v("。")]),e._v(" "),a("li",[a("code",[e._v("result")]),e._v(" 返回。")])]),e._v(" "),a("h4",{attrs:{id:"url-parse-urlstring-parsequerystring-slashesdenotehost"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-parse-urlstring-parsequerystring-slashesdenotehost"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.parse(urlString[, parseQueryString[, slashesDenoteHost]])")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlparseurlstring-parsequerystring-slashesdenotehost",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_parse_urlstring_parsequerystring_slashesdenotehost.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api/documentation.html#stability-index",target:"_blank",rel:"noopener noreferrer"}},[e._v("稳定性: 0"),a("OutboundLink")],1),e._v(" - 弃用: 改为使用 WHATWG URL API 。")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("urlString")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1),e._v(" 要解析的 URL 字符串。")]),e._v(" "),a("li",[a("code",[e._v("parseQueryString")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/jFbvuT",target:"_blank",rel:"noopener noreferrer"}},[a("boolean",[a("OutboundLink")],1)],1),e._v(" 如果为 "),a("code",[e._v("true")]),e._v("，则 "),a("code",[e._v("query")]),e._v(" 属性将始终设置为 "),a("a",{attrs:{href:"http://nodejs.cn/api-v12/querystring.html",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("querystring")]),a("OutboundLink")],1),e._v(" 模块的 "),a("code",[e._v("parse()")]),e._v(" 方法返回的对象。 如果为 "),a("code",[e._v("false")]),e._v("，则返回的网址对象上的 "),a("code",[e._v("query")]),e._v(" 属性将是未解析、未解码的字符串。 "),a("strong",[e._v("默认值:")]),e._v(" "),a("code",[e._v("false")]),e._v("。")]),e._v(" "),a("li",[a("code",[e._v("slashesDenoteHost")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/jFbvuT",target:"_blank",rel:"noopener noreferrer"}},[a("boolean",[a("OutboundLink")],1)],1),e._v(" 如果为 "),a("code",[e._v("true")]),e._v("，则文字串 "),a("code",[e._v("//")]),e._v(" 之后和下一个 "),a("code",[e._v("/")]),e._v(" 之前的第一个令牌将被解释为 "),a("code",[e._v("host")]),e._v("。 例如，给定 "),a("code",[e._v("//foo/bar")]),e._v("，结果将是 "),a("code",[e._v("{host: 'foo', pathname: '/bar'}")]),e._v(" 而不是 "),a("code",[e._v("{pathname: '//foo/bar'}")]),e._v("。 "),a("strong",[e._v("默认值:")]),e._v(" "),a("code",[e._v("false")]),e._v("。")])]),e._v(" "),a("p",[a("code",[e._v("url.parse()")]),e._v(" 方法接受网址字符串，解析并返回网址对象。")]),e._v(" "),a("p",[e._v("如果 "),a("code",[e._v("urlString")]),e._v(" 不是字符串，则抛出 "),a("code",[e._v("TypeError")]),e._v("。")]),e._v(" "),a("p",[e._v("如果 "),a("code",[e._v("auth")]),e._v(" 属性存在但无法解码，则抛出 "),a("code",[e._v("URIError")]),e._v("。")]),e._v(" "),a("p",[e._v("不鼓励使用旧版的 "),a("code",[e._v("url.parse()")]),e._v(" 方法。 用户应使用 WHATWG "),a("code",[e._v("URL")]),e._v(" API。 由于 "),a("code",[e._v("url.parse()")]),e._v(" 方法使用一种宽松的非标准算法来解析网址字符串，因此可能会引入安全问题。 具体来说，已经确定了"),a("a",{attrs:{href:"http://url.nodejs.cn/xLioCa",target:"_blank",rel:"noopener noreferrer"}},[e._v("主机名欺骗"),a("OutboundLink")],1),e._v("以及用户名和密码处理不当的问题。")]),e._v(" "),a("h4",{attrs:{id:"url-resolve-from-to"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-resolve-from-to"}},[e._v("#")]),e._v(" "),a("code",[e._v("url.resolve(from, to)")]),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#urlresolvefrom-to",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/url_resolve_from_to.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api/documentation.html#stability-index",target:"_blank",rel:"noopener noreferrer"}},[e._v("稳定性: 0"),a("OutboundLink")],1),e._v(" - 弃用: 改为使用 WHATWG URL API 。")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("from")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1),e._v(" 正在解析的基本网址。")]),e._v(" "),a("li",[a("code",[e._v("to")]),e._v(" "),a("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[a("string",[a("OutboundLink")],1)],1),e._v(" 正在解析的 HREF 网址。")])]),e._v(" "),a("p",[a("code",[e._v("url.resolve()")]),e._v(" 方法以类似于 Web 浏览器解析锚标记 HREF 的方式解析相对于基本网址的目标网址。")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const url = require('url');\nurl.resolve('/one/two/three', 'four');         // '/one/two/four'\nurl.resolve('http://example.com/', '/one');    // 'http://example.com/one'\nurl.resolve('http://example.com/one', '/two'); // 'http://example.com/two'\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("h3",{attrs:{id:"网址中的百分号编码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网址中的百分号编码"}},[e._v("#")]),e._v(" 网址中的百分号编码"),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#percent-encoding-in-urls",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/percent_encoding_in_urls.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("网址只允许包含一定范围的字符。 任何超出该范围的字符都必须进行编码。 这些字符的编码方式以及要编码的字符完全取决于字符在网址结构中的位置。")]),e._v(" "),a("h4",{attrs:{id:"旧版的-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#旧版的-api"}},[e._v("#")]),e._v(" 旧版的 API"),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#legacy-api",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/legacy_api.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[e._v("在旧版 API 中，空格 ("),a("code",[e._v("' '")]),e._v(") 和以下字符将在网址对象的属性中自动转义：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("< > \" ` \\r \\n \\t { } | \\ ^ '\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("例如，ASCII 空格字符 ("),a("code",[e._v("' '")]),e._v(") 被编码为 "),a("code",[e._v("%20")]),e._v("。 ASCII 正斜杠 ("),a("code",[e._v("/")]),e._v(") 字符编码为 "),a("code",[e._v("%3C")]),e._v("。")]),e._v(" "),a("h4",{attrs:{id:"whatwg-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#whatwg-api"}},[e._v("#")]),e._v(" WHATWG API"),a("a",{attrs:{href:"http://nodejs.cn/api-v12/url.html#whatwg-api",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://nodejs.cn/api-v12/url/whatwg_api.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),a("OutboundLink")],1)]),e._v(" "),a("p",[a("a",{attrs:{href:"http://url.nodejs.cn/fKgW8d",target:"_blank",rel:"noopener noreferrer"}},[e._v("WHATWG 网址标准"),a("OutboundLink")],1),e._v("使用比旧版 API 使用的方法更具选择性和细粒度的方法来选择编码字符。")]),e._v(" "),a("p",[e._v("WHATWG 算法定义了四个“百分比编码集”，用于描述必须进行百分比编码的字符范围：")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("C0 控制百分比编码集，包括 U+0000 到 U+001F（含）范围内的代码点和所有大于 U+007E 的代码点。")])]),e._v(" "),a("li",[a("p",[e._v("片段百分比编码集，包括 C0 控制百分比编码集和代码点 U+0020、U+0022、U+003C、U+003E 和 U+0060。")])]),e._v(" "),a("li",[a("p",[e._v("路径百分比编码集，包括 C0 控制百分比编码集和代码点 U+0020、U+0022、U+0023、U+003C、U+003E、U+003F、U+0060、U +007B 和 U+007D。")])]),e._v(" "),a("li",[a("p",[e._v("userinfo 编码集，包括路径百分比编码集和代码点 U+002F、U+003A、U+003B、U+003D、U+0040、U+005B、U+005C、U+005D、 U+005E 和 U+007C。")])])]),e._v(" "),a("p",[e._v("userinfo 百分比编码集专门用于网址中编码的用户名和密码。 路径百分比编码集用于大多数网址的路径。 片段百分比编码集用于网址片段。 除了所有其他情况外，C0 控制百分比编码集用于某些特定条件下的主机和路径。")]),e._v(" "),a("p",[e._v("当主机名中出现非 ASCII 字符时，主机名将使用 "),a("a",{attrs:{href:"http://url.nodejs.cn/C2g98n",target:"_blank",rel:"noopener noreferrer"}},[e._v("Punycode"),a("OutboundLink")],1),e._v(" 算法进行编码。 但是请注意，主机名可能包含 Punycode 编码和百分比编码的字符：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("const myURL = new URL('https://%CF%80.example.com/foo');\nconsole.log(myURL.href);\n// 打印 https://xn--1xa.example.com/foo\nconsole.log(myURL.origin);\n// 打印 https://xn--1xa.example.com\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br")])])])}),[],!1,null,null,null);r.default=t.exports}}]);