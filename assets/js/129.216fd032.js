(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{596:function(e,r,n){"use strict";n.r(r);var t=n(18),a=Object(t.a)({},(function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"buffer-缓冲区-node-js-api-文档"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-缓冲区-node-js-api-文档"}},[e._v("#")]),e._v(" buffer 缓冲区 | Node.js API 文档")]),e._v(" "),n("blockquote",[n("h2",{attrs:{id:"excerpt"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#excerpt"}},[e._v("#")]),e._v(" Excerpt")]),e._v(" "),n("p",[e._v("中英对照")])]),e._v(" "),n("hr"),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buffer.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("strong",[e._v("源代码:")]),e._v(" "),n("a",{attrs:{href:"https://github.com/nodejs/node/blob/v12.22.12/lib/buffer.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("lib/buffer.js"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("code",[e._v("Buffer")]),e._v(" 对象用于表示固定长度的字节序列。 许多 Node.js API 都支持 "),n("code",[e._v("Buffer")]),e._v("。")]),e._v(" "),n("p",[n("code",[e._v("Buffer")]),e._v(" 类是 JavaScript "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Uint8Array")]),n("OutboundLink")],1),e._v(" 类的子类，并使用涵盖额外用例的方法对其进行扩展。 Node.js API 在支持 "),n("code",[e._v("Buffer")]),e._v(" 的地方也接受普通的 "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Uint8Array")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("p",[n("code",[e._v("Buffer")]),e._v(" 类在全局作用域内，因此不需要使用 "),n("code",[e._v("require('buffer').Buffer")]),e._v("。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// 创建长度为 10 的以零填充的缓冲区。\nconst buf1 = Buffer.alloc(10);\n\n// 创建长度为 10 的缓冲区，\n// 使用值为 `1` 的字节填充。\nconst buf2 = Buffer.alloc(10, 1);\n\n// 创建长度为 10 的未初始化的缓冲区。\n// 这比调用 Buffer.alloc() 快，\n// 但返回的缓冲区实例可能包含旧数据，\n// 需要使用 fill()、write() 、\n// 或其他填充缓冲区内容的函数重写。\nconst buf3 = Buffer.allocUnsafe(10);\n\n// 创建包含字节 [1, 2, 3] 的缓冲区。\nconst buf4 = Buffer.from([1, 2, 3]);\n\n// 创建包含字节 [1, 1, 1, 1] 的缓冲区，\n// 所有条目都使用 `(value & 255)` 截断以符合范围 0–255。\nconst buf5 = Buffer.from([257, 257.5, -255, '1']);\n\n// 创建包含字符串 'tést' 的 UTF-8 编码字节的缓冲区：\n// [0x74, 0xc3, 0xa9, 0x73, 0x74]（十六进制）\n// [116, 195, 169, 115, 116]（十进制）\nconst buf6 = Buffer.from('tést');\n\n// 创建包含 Latin-1 字节 [0x74, 0xe9, 0x73, 0x74] 的缓冲区。\nconst buf7 = Buffer.from('tést', 'latin1');\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br"),n("span",{staticClass:"line-number"},[e._v("18")]),n("br"),n("span",{staticClass:"line-number"},[e._v("19")]),n("br"),n("span",{staticClass:"line-number"},[e._v("20")]),n("br"),n("span",{staticClass:"line-number"},[e._v("21")]),n("br"),n("span",{staticClass:"line-number"},[e._v("22")]),n("br"),n("span",{staticClass:"line-number"},[e._v("23")]),n("br"),n("span",{staticClass:"line-number"},[e._v("24")]),n("br"),n("span",{staticClass:"line-number"},[e._v("25")]),n("br"),n("span",{staticClass:"line-number"},[e._v("26")]),n("br"),n("span",{staticClass:"line-number"},[e._v("27")]),n("br"),n("span",{staticClass:"line-number"},[e._v("28")]),n("br")])]),n("h3",{attrs:{id:"缓冲区与字符编码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#缓冲区与字符编码"}},[e._v("#")]),e._v(" 缓冲区与字符编码"),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffers-and-character-encodings",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buffers_and_character_encodings.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("当在 "),n("code",[e._v("Buffer")]),e._v(" 和字符串之间进行转换时，可以指定字符编码。 如果未指定字符编码，则默认使用 UTF-8。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from('hello world', 'utf8');\n\nconsole.log(buf.toString('hex'));\n// 打印: 68656c6c6f20776f726c64\nconsole.log(buf.toString('base64'));\n// 打印: aGVsbG8gd29ybGQ=\n\nconsole.log(Buffer.from('fhqwhgads', 'utf8'));\n// 打印: <Buffer 66 68 71 77 68 67 61 64 73>\nconsole.log(Buffer.from('fhqwhgads', 'utf16le'));\n// 打印: <Buffer 66 00 68 00 71 00 77 00 68 00 67 00 61 00 64 00 73 00>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br")])]),n("p",[e._v("Node.js 目前支持的字符编码如下：")]),e._v(" "),n("ul",[n("li",[n("p",[n("code",[e._v("'utf8'")]),e._v(": 多字节编码的 Unicode 字符。 许多网页和其他文档格式使用 "),n("a",{attrs:{href:"http://url.nodejs.cn/mzW5jo",target:"_blank",rel:"noopener noreferrer"}},[e._v("UTF-8"),n("OutboundLink")],1),e._v("。 这是默认的字符编码。 当将 "),n("code",[e._v("Buffer")]),e._v(" 解码为不完全包含有效 UTF-8 数据的字符串时，则 Unicode 替换字符 "),n("code",[e._v("U+FFFD")]),e._v(" � 将用于表示这些错误。")])]),e._v(" "),n("li",[n("p",[n("code",[e._v("'utf16le'")]),e._v(": 多字节编码的 Unicode 字符。 与 "),n("code",[e._v("'utf8'")]),e._v(" 不同，字符串中的每个字符都将使用 2 或 4 个字节进行编码。 Node.js 仅支持 "),n("a",{attrs:{href:"http://url.nodejs.cn/CJHzJq",target:"_blank",rel:"noopener noreferrer"}},[e._v("UTF-16"),n("OutboundLink")],1),e._v(" 的"),n("a",{attrs:{href:"http://url.nodejs.cn/HY3tVp",target:"_blank",rel:"noopener noreferrer"}},[e._v("小端序"),n("OutboundLink")],1),e._v("变体。")])]),e._v(" "),n("li",[n("p",[n("code",[e._v("'latin1'")]),e._v(": Latin-1 代表 "),n("a",{attrs:{href:"http://url.nodejs.cn/z8AaDs",target:"_blank",rel:"noopener noreferrer"}},[e._v("ISO-8859-1"),n("OutboundLink")],1),e._v("。 此字符编码仅支持 "),n("code",[e._v("U+0000")]),e._v(" 至 "),n("code",[e._v("U+00FF")]),e._v(" 的 Unicode 字符。 每个字符都使用单个字节进行编码。 不符合该范围的字符将被截断并映射到该范围内的字符。")])])]),e._v(" "),n("p",[e._v("使用以上编码之一将 "),n("code",[e._v("Buffer")]),e._v(" 转换为字符串称为解码，将字符串转换为 "),n("code",[e._v("Buffer")]),e._v(" 称为编码。")]),e._v(" "),n("p",[e._v("对于二进制转文本的编码，命名约定是相反的：将 "),n("code",[e._v("Buffer")]),e._v(" 转换为字符串通常称为编码，将字符串转换为 "),n("code",[e._v("Buffer")]),e._v(" 通常称为解码。")]),e._v(" "),n("ul",[n("li",[n("p",[n("code",[e._v("'base64'")]),e._v(": "),n("a",{attrs:{href:"http://url.nodejs.cn/fum2xU",target:"_blank",rel:"noopener noreferrer"}},[e._v("Base64"),n("OutboundLink")],1),e._v(" 编码。 当从字符串创建 "),n("code",[e._v("Buffer")]),e._v(" 时，此编码还将正确接受 "),n("a",{attrs:{href:"http://url.nodejs.cn/j8aS4R",target:"_blank",rel:"noopener noreferrer"}},[e._v("RFC 4648，第 5 节"),n("OutboundLink")],1),e._v('中指定的 "URL 和文件名安全字母表"。 base64 编码的字符串中包含的空白字符（例如空格、制表符和换行符）会被忽略。')])]),e._v(" "),n("li",[n("p",[n("code",[e._v("'hex'")]),e._v(": 将每个字节编码为两个十六进制字符。 当解码仅包含有效十六进制字符的字符串时，可能会发生数据截断。 请参阅下面的示例。")])])]),e._v(" "),n("p",[e._v("还支持以下旧版字符编码：")]),e._v(" "),n("ul",[n("li",[n("p",[n("code",[e._v("'ascii'")]),e._v(": 仅适用于 7 位 "),n("a",{attrs:{href:"http://url.nodejs.cn/pLT1D9",target:"_blank",rel:"noopener noreferrer"}},[e._v("ASCII"),n("OutboundLink")],1),e._v(" 数据。 当将字符串编码为 "),n("code",[e._v("Buffer")]),e._v(" 时，这等效于使用 "),n("code",[e._v("'latin1'")]),e._v("。 当将 "),n("code",[e._v("Buffer")]),e._v(" 解码为字符串时，使用此编码将在解码为 "),n("code",[e._v("'latin1'")]),e._v(" 之前额外取消设置每个字节的最高位。 通常，没有理由使用此编码，因为在编码或解码纯 ASCII 文本时，"),n("code",[e._v("'utf8'")]),e._v("（或者，如果已知数据始终是纯 ASCII，则为 "),n("code",[e._v("'latin1'")]),e._v("）将是更好的选择。 它仅用于旧版兼容性。")])]),e._v(" "),n("li",[n("p",[n("code",[e._v("'binary'")]),e._v(": "),n("code",[e._v("'latin1'")]),e._v(" 的别名。 有关此主题的更多背景信息，请参阅"),n("a",{attrs:{href:"http://url.nodejs.cn/x5E3Yh",target:"_blank",rel:"noopener noreferrer"}},[e._v("二进制字符串"),n("OutboundLink")],1),e._v("。 此编码的名称很容易让人误解，因为这里列出的所有编码都在字符串和二进制数据之间进行转换。 对于字符串和 "),n("code",[e._v("Buffer")]),e._v(" 之间的转换，通常 "),n("code",[e._v("'utf-8'")]),e._v(" 是正确的选择。")])]),e._v(" "),n("li",[n("p",[n("code",[e._v("'ucs2'")]),e._v(": "),n("code",[e._v("'utf16le'")]),e._v(" 的别名。 UCS-2 过去指的是 UTF-16 的一种变体，它不支持代码点大于 U+FFFF 的字符。 在 Node.js 中，始终支持这些代码点。")])])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("Buffer.from('1ag', 'hex');\n// 打印 <Buffer 1a>，当遇到第一个非十六进制值 ('g') 时，则截断数据。\n\nBuffer.from('1a7g', 'hex');\n// 打印 <Buffer 1a>，当数据以一位数 ('7') 结尾时，则截断数据。\n\nBuffer.from('1634', 'hex');\n// 打印 <Buffer 16 34>，表现所有数据。\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br")])]),n("p",[e._v("现代 Web 浏览器遵循 "),n("a",{attrs:{href:"http://url.nodejs.cn/sasgQF",target:"_blank",rel:"noopener noreferrer"}},[e._v("WHATWG 编码标准"),n("OutboundLink")],1),e._v("，其将 "),n("code",[e._v("'latin1'")]),e._v(" 和 "),n("code",[e._v("'ISO-8859-1'")]),e._v(" 别名为 "),n("code",[e._v("'win-1252'")]),e._v("。 这意味着在执行 "),n("code",[e._v("http.get()")]),e._v(" 之类的操作时，如果返回的字符集是 WHATWG 规范中列出的字符集之一，则服务器实际上可能返回 "),n("code",[e._v("'win-1252'")]),e._v(" 编码的数据，使用 "),n("code",[e._v("'latin1'")]),e._v(" 编码可能会错误地解码字符。")]),e._v(" "),n("h3",{attrs:{id:"缓冲区与-typedarray"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#缓冲区与-typedarray"}},[e._v("#")]),e._v(" 缓冲区与 TypedArray"),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffers-and-typedarrays",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buffers_and_typedarrays.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("code",[e._v("Buffer")]),e._v(" 实例也是 JavaScript "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Uint8Array")]),n("OutboundLink")],1),e._v(" 和 "),n("a",{attrs:{href:"http://url.nodejs.cn/oh3CkV",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("TypedArray")]),n("OutboundLink")],1),e._v(" 实例。 所有 "),n("a",{attrs:{href:"http://url.nodejs.cn/oh3CkV",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("TypedArray")]),n("OutboundLink")],1),e._v(" 方法都可在 "),n("code",[e._v("Buffer")]),e._v(" 上使用。 但是，"),n("code",[e._v("Buffer")]),e._v(" API 和 "),n("a",{attrs:{href:"http://url.nodejs.cn/oh3CkV",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("TypedArray")]),n("OutboundLink")],1),e._v(" API 之间存在细微的不兼容。")]),e._v(" "),n("p",[e._v("特别是：")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://url.nodejs.cn/22j33F",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("TypedArray#slice()")]),n("OutboundLink")],1),e._v(" 创建 "),n("code",[e._v("TypedArray")]),e._v(" 部分的副本，而 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_slice_start_end",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer#slice()")]),n("OutboundLink")],1),e._v(" 在现有 "),n("code",[e._v("Buffer")]),e._v(" 上创建视图而不进行复制。 这种行为可能会有意外，并且仅存在于旧版兼容性中。 "),n("a",{attrs:{href:"http://url.nodejs.cn/tNCCFf",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("TypedArray#subarray()")]),n("OutboundLink")],1),e._v(" 可用于在 "),n("code",[e._v("Buffer")]),e._v(" 和其他 "),n("code",[e._v("TypedArray")]),e._v(" 上实现 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_slice_start_end",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer#slice()")]),n("OutboundLink")],1),e._v(" 的行为。")]),e._v(" "),n("li",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_tostring_encoding_start_end",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.toString()")]),n("OutboundLink")],1),e._v(" 与其对应的 "),n("code",[e._v("TypedArray")]),e._v(" 不兼容。")]),e._v(" "),n("li",[e._v("多种方法，例如 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_indexof_value_byteoffset_encoding",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.indexOf()")]),n("OutboundLink")],1),e._v("，支持额外的参数。")])]),e._v(" "),n("p",[e._v("有两种方式可以从 "),n("code",[e._v("Buffer")]),e._v(" 创建新的 "),n("a",{attrs:{href:"http://url.nodejs.cn/oh3CkV",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("TypedArray")]),n("OutboundLink")],1),e._v(" 实例：")]),e._v(" "),n("ul",[n("li",[e._v("将 "),n("code",[e._v("Buffer")]),e._v(" 传给 "),n("a",{attrs:{href:"http://url.nodejs.cn/oh3CkV",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("TypedArray")]),n("OutboundLink")],1),e._v(" 构造函数将复制 "),n("code",[e._v("Buffer")]),e._v(" 的内容，解释为整数数组，而不是目标类型的字节序列。")])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([1, 2, 3, 4]);\nconst uint32array = new Uint32Array(buf);\n\nconsole.log(uint32array);\n\n// 打印: Uint32Array(4) [ 1, 2, 3, 4 ]\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("ul",[n("li",[e._v("传入 "),n("a",{attrs:{href:"http://url.nodejs.cn/mUbfvF",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("ArrayBuffer")]),n("OutboundLink")],1),e._v(" 底层的 "),n("code",[e._v("Buffer")]),e._v(" 将创建与 "),n("code",[e._v("Buffer")]),e._v(" 共享其内存的 "),n("a",{attrs:{href:"http://url.nodejs.cn/oh3CkV",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("TypedArray")]),n("OutboundLink")],1),e._v("。")])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from('hello', 'utf16le');\nconst uint16arr = new Uint16Array(\n  buf.buffer,\n  buf.byteOffset,\n  buf.length / Uint16Array.BYTES_PER_ELEMENT);\n\nconsole.log(uint16array);\n\n// 打印: Uint16Array(5) [ 104, 101, 108, 108, 111 ]\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br")])]),n("p",[e._v("通过以相同的方式使用 "),n("code",[e._v("TypedArray")]),e._v(" 对象的 "),n("code",[e._v(".buffer")]),e._v(" 属性，可以创建新的 "),n("code",[e._v("Buffer")]),e._v("，它与 "),n("a",{attrs:{href:"http://url.nodejs.cn/oh3CkV",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("TypedArray")]),n("OutboundLink")],1),e._v(" 实例共享相同的分配内存。 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_from_arraybuffer_byteoffset_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.from()")]),n("OutboundLink")],1),e._v(" 在这种情况下表现得像 "),n("code",[e._v("new Uint8Array()")]),e._v("。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const arr = new Uint16Array(2);\n\narr[0] = 5000;\narr[1] = 4000;\n\n// 复制 `arr` 的内容。\nconst buf1 = Buffer.from(arr);\n\n// 与 `arr` 共享内存。\nconst buf2 = Buffer.from(arr.buffer);\n\nconsole.log(buf1);\n// 打印: <Buffer 88 a0>\nconsole.log(buf2);\n// 打印: <Buffer 88 13 a0 0f>\n\narr[1] = 6000;\n\nconsole.log(buf1);\n// 打印: <Buffer 88 a0>\nconsole.log(buf2);\n// 打印: <Buffer 88 13 70 17>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br"),n("span",{staticClass:"line-number"},[e._v("18")]),n("br"),n("span",{staticClass:"line-number"},[e._v("19")]),n("br"),n("span",{staticClass:"line-number"},[e._v("20")]),n("br"),n("span",{staticClass:"line-number"},[e._v("21")]),n("br"),n("span",{staticClass:"line-number"},[e._v("22")]),n("br")])]),n("p",[e._v("使用 "),n("a",{attrs:{href:"http://url.nodejs.cn/oh3CkV",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("TypedArray")]),n("OutboundLink")],1),e._v(" 的 "),n("code",[e._v(".buffer")]),e._v(" 创建 "),n("code",[e._v("Buffer")]),e._v(" 时，可以通过传入 "),n("code",[e._v("byteOffset")]),e._v(" 和 "),n("code",[e._v("length")]),e._v(" 参数仅使用底层 "),n("a",{attrs:{href:"http://url.nodejs.cn/mUbfvF",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("ArrayBuffer")]),n("OutboundLink")],1),e._v(" 的一部分。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const arr = new Uint16Array(20);\nconst buf = Buffer.from(arr.buffer, 0, 16);\n\nconsole.log(buf.length);\n// 打印: 16\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br")])]),n("p",[n("code",[e._v("Buffer.from()")]),e._v(" 和 "),n("a",{attrs:{href:"http://url.nodejs.cn/jLHsN8",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("TypedArray.from()")]),n("OutboundLink")],1),e._v(" 具有不同的签名和实现。 具体来说，"),n("a",{attrs:{href:"http://url.nodejs.cn/oh3CkV",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("TypedArray")]),n("OutboundLink")],1),e._v(" 变体接受第二个参数，该参数是在类型化数组的每个元素上调用的映射函数：")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("TypedArray.from(source[, mapFn[, thisArg]])")])])]),e._v(" "),n("p",[e._v("但是，"),n("code",[e._v("Buffer.from()")]),e._v(" 方法不支持使用映射函数：")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_from_array",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.from(array)")]),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_from_buffer",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.from(buffer)")]),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_from_arraybuffer_byteoffset_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.from(arrayBuffer[, byteOffset[, length]])")]),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_from_string_encoding",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.from(string[, encoding])")]),n("OutboundLink")],1)])]),e._v(" "),n("h3",{attrs:{id:"缓冲区与迭代器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#缓冲区与迭代器"}},[e._v("#")]),e._v(" 缓冲区与迭代器"),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffers-and-iteration",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buffers_and_iteration.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("可以使用 "),n("code",[e._v("for..of")]),e._v(" 语法迭代 "),n("code",[e._v("Buffer")]),e._v(" 实例：")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([1, 2, 3]);\n\nfor (const b of buf) {\n  console.log(b);\n}\n// 打印:\n//   1\n//   2\n//   3\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br")])]),n("p",[e._v("此外，"),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_values",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.values()")]),n("OutboundLink")],1),e._v("、"),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_keys",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.keys()")]),n("OutboundLink")],1),e._v(" 和 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_entries",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.entries()")]),n("OutboundLink")],1),e._v(" 方法可用于创建迭代器。")]),e._v(" "),n("h3",{attrs:{id:"buffer-类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-类"}},[e._v("#")]),e._v(" "),n("code",[e._v("Buffer")]),e._v(" 类"),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/class_buffer.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("code",[e._v("Buffer")]),e._v(" 类是直接处理二进制数据的全局类型。 它可以使用多种方式构建。")]),e._v(" "),n("h4",{attrs:{id:"buffer-alloc-size-fill-encoding"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-alloc-size-fill-encoding"}},[e._v("#")]),e._v(" "),n("code",[e._v("Buffer.alloc(size[, fill[, encoding]])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#static-method-bufferallocsize-fill-encoding",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/static_method_buffer_alloc_size_fill_encoding.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("size")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 新的 "),n("code",[e._v("Buffer")]),e._v(" 所需的长度。")]),e._v(" "),n("li",[n("code",[e._v("fill")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("Uint8Array",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 用于预填充新 "),n("code",[e._v("Buffer")]),e._v(" 的值。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("encoding")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" 如果 "),n("code",[e._v("fill")]),e._v(" 是字符串，则这就是它的编码。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("'utf8'")]),e._v("。")])]),e._v(" "),n("p",[e._v("分配 "),n("code",[e._v("size")]),e._v(" 个字节的新 "),n("code",[e._v("Buffer")]),e._v("。 如果 "),n("code",[e._v("fill")]),e._v(" 为 "),n("code",[e._v("undefined")]),e._v("，则 "),n("code",[e._v("Buffer")]),e._v(" 将以零填充。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.alloc(5);\n\nconsole.log(buf);\n// 打印: <Buffer 00 00 00 00 00>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br")])]),n("p",[e._v("如果 "),n("code",[e._v("size")]),e._v(" 大于 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buffer_constants_max_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buffer.constants.MAX_LENGTH")]),n("OutboundLink")],1),e._v(" 或小于 0，则抛出 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/errors.html#ERR_INVALID_OPT_VALUE",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("ERR_INVALID_OPT_VALUE")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("p",[e._v("如果指定了 "),n("code",[e._v("fill")]),e._v("，则分配的 "),n("code",[e._v("Buffer")]),e._v(" 将通过调用 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_fill_value_offset_end_encoding",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.fill(fill)")]),n("OutboundLink")],1),e._v(" 进行初始化。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.alloc(5, 'a');\n\nconsole.log(buf);\n// 打印: <Buffer 61 61 61 61 61>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br")])]),n("p",[e._v("如果同时指定了 "),n("code",[e._v("fill")]),e._v(" 和 "),n("code",[e._v("encoding")]),e._v("，则分配的 "),n("code",[e._v("Buffer")]),e._v(" 将通过调用 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_fill_value_offset_end_encoding",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.fill(fill, encoding)")]),n("OutboundLink")],1),e._v(" 进行初始化。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.alloc(11, 'aGVsbG8gd29ybGQ=', 'base64');\n\nconsole.log(buf);\n// 打印: <Buffer 68 65 6c 6c 6f 20 77 6f 72 6c 64>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br")])]),n("p",[e._v("调用 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_alloc_size_fill_encoding",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.alloc()")]),n("OutboundLink")],1),e._v(" 可能比替代的 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafe_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafe()")]),n("OutboundLink")],1),e._v(" 慢得多，但可确保新创建的 "),n("code",[e._v("Buffer")]),e._v(" 实例的内容永远不会包含来自先前分配的敏感数据，包括可能尚未分配给 "),n("code",[e._v("Buffer")]),e._v(" 的数据。")]),e._v(" "),n("p",[e._v("如果 "),n("code",[e._v("size")]),e._v(" 不是数值，则会抛出 "),n("code",[e._v("TypeError")]),e._v("。")]),e._v(" "),n("h4",{attrs:{id:"buffer-allocunsafe-size"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-allocunsafe-size"}},[e._v("#")]),e._v(" "),n("code",[e._v("Buffer.allocUnsafe(size)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#static-method-bufferallocunsafesize",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/static_method_buffer_allocunsafe_size.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("size")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 新的 "),n("code",[e._v("Buffer")]),e._v(" 所需的长度。")])]),e._v(" "),n("p",[e._v("分配 "),n("code",[e._v("size")]),e._v(" 个字节的新 "),n("code",[e._v("Buffer")]),e._v("。 如果 "),n("code",[e._v("size")]),e._v(" 大于 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buffer_constants_max_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buffer.constants.MAX_LENGTH")]),n("OutboundLink")],1),e._v(" 或小于 0，则抛出 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/errors.html#ERR_INVALID_OPT_VALUE",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("ERR_INVALID_OPT_VALUE")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("p",[e._v("以这种方式创建的 "),n("code",[e._v("Buffer")]),e._v(" 实例的底层内存不会被初始化。 新创建的 "),n("code",[e._v("Buffer")]),e._v(" 的内容是未知的，可能包含敏感的数据。 使用 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_alloc_size_fill_encoding",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.alloc()")]),n("OutboundLink")],1),e._v(" 来用零初始化 "),n("code",[e._v("Buffer")]),e._v(" 实例。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(10);\n\nconsole.log(buf);\n// 打印（内容可能会有所不同）: <Buffer a0 8b 28 3f 01 00 00 00 50 32>\n\nbuf.fill(0);\n\nconsole.log(buf);\n// 打印: <Buffer 00 00 00 00 00 00 00 00 00 00>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br")])]),n("p",[e._v("如果 "),n("code",[e._v("size")]),e._v(" 不是数值，则会抛出 "),n("code",[e._v("TypeError")]),e._v("。")]),e._v(" "),n("p",[n("code",[e._v("Buffer")]),e._v(" 模块预先分配了大小为 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_class_property_buffer_poolsize",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.poolSize")]),n("OutboundLink")],1),e._v(" 的内部 "),n("code",[e._v("Buffer")]),e._v(" 实例作为池，用于快速分配使用 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafe_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafe()")]),n("OutboundLink")],1),e._v("、"),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_from_array",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.from(array)")]),n("OutboundLink")],1),e._v("、"),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_concat_list_totallength",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.concat()")]),n("OutboundLink")],1),e._v(" 创建的新 "),n("code",[e._v("Buffer")]),e._v(" 实例，仅当 "),n("code",[e._v("size")]),e._v(" 小于或等于 "),n("code",[e._v("Buffer.poolSize >> 1")]),e._v("（"),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_class_property_buffer_poolsize",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.poolSize")]),n("OutboundLink")],1),e._v(" 除以二再向下取整）时才使用弃用的 "),n("code",[e._v("new Buffer(size)")]),e._v(" 构造函数。")]),e._v(" "),n("p",[e._v("使用此预先分配的内部内存池是调用 "),n("code",[e._v("Buffer.alloc(size, fill)")]),e._v(" 与调用 "),n("code",[e._v("Buffer.alloc(size, fill)")]),e._v(" 之间的关键区别。 具体来说，"),n("code",[e._v("Buffer.alloc(size, fill)")]),e._v(" 永远不会使用内部 "),n("code",[e._v("Buffer")]),e._v(" 池，而 "),n("code",[e._v("Buffer.allocUnsafe(size).fill(fill)")]),e._v(" 会在 "),n("code",[e._v("size")]),e._v(" 小于或等于 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_class_property_buffer_poolsize",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.poolSize")]),n("OutboundLink")],1),e._v(" 的一半时使用内部 "),n("code",[e._v("Buffer")]),e._v(" 池。 当应用程序需要 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafe_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafe()")]),n("OutboundLink")],1),e._v(" 提供的额外性能时，差异很细微，但可能很重要。")]),e._v(" "),n("h4",{attrs:{id:"buffer-allocunsafeslow-size"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-allocunsafeslow-size"}},[e._v("#")]),e._v(" "),n("code",[e._v("Buffer.allocUnsafeSlow(size)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#static-method-bufferallocunsafeslowsize",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/static_method_buffer_allocunsafeslow_size.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v5.12.0")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("size")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 新的 "),n("code",[e._v("Buffer")]),e._v(" 所需的长度。")])]),e._v(" "),n("p",[e._v("分配 "),n("code",[e._v("size")]),e._v(" 个字节的新 "),n("code",[e._v("Buffer")]),e._v("。 如果 "),n("code",[e._v("size")]),e._v(" 大于 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buffer_constants_max_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buffer.constants.MAX_LENGTH")]),n("OutboundLink")],1),e._v(" 或小于 0，则抛出 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/errors.html#ERR_INVALID_OPT_VALUE",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("ERR_INVALID_OPT_VALUE")]),n("OutboundLink")],1),e._v("。 如果 "),n("code",[e._v("size")]),e._v(" 为 0，则创建零长度 "),n("code",[e._v("Buffer")]),e._v("。")]),e._v(" "),n("p",[e._v("以这种方式创建的 "),n("code",[e._v("Buffer")]),e._v(" 实例的底层内存不会被初始化。 新创建的 "),n("code",[e._v("Buffer")]),e._v(" 的内容是未知的，可能包含敏感的数据。 使用 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_fill_value_offset_end_encoding",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.fill(0)")]),n("OutboundLink")],1),e._v(" 用零初始化此类 "),n("code",[e._v("Buffer")]),e._v(" 实例。")]),e._v(" "),n("p",[e._v("当使用 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafe_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafe()")]),n("OutboundLink")],1),e._v(" 分配新的 "),n("code",[e._v("Buffer")]),e._v(" 实例时，4KB 以下的分配将从单个预先分配的 "),n("code",[e._v("Buffer")]),e._v(" 中切分。 这允许应用程序避免创建许多单独分配的 "),n("code",[e._v("Buffer")]),e._v(" 实例的垃圾收集开销。 这种方法无需跟踪和清理尽可能多的单个 "),n("code",[e._v("ArrayBuffer")]),e._v(" 对象，从而提高了性能和内存使用率。")]),e._v(" "),n("p",[e._v("但是，在开发人员可能需要在不确定的时间内从池中保留一小块内存的情况下，使用 "),n("code",[e._v("Buffer.allocUnsafeSlow()")]),e._v(" 创建未池化的 "),n("code",[e._v("Buffer")]),e._v(" 实例然后复制出相关位可能是合适的。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// 需要保留一些小块内存。\nconst store = [];\n\nsocket.on('readable', () => {\n  let data;\n  while (null !== (data = readable.read())) {\n    // 为保留的数据分配。\n    const sb = Buffer.allocUnsafeSlow(10);\n\n    // 将数据复制到新分配中。\n    data.copy(sb, 0, 0, 10);\n\n    store.push(sb);\n  }\n});\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br")])]),n("p",[e._v("如果 "),n("code",[e._v("size")]),e._v(" 不是数值，则会抛出 "),n("code",[e._v("TypeError")]),e._v("。")]),e._v(" "),n("h4",{attrs:{id:"buffer-bytelength-string-encoding"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-bytelength-string-encoding"}},[e._v("#")]),e._v(" "),n("code",[e._v("Buffer.byteLength(string[, encoding])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#static-method-bufferbytelengthstring-encoding",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/static_method_buffer_bytelength_string_encoding.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("string")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/oh3CkV",target:"_blank",rel:"noopener noreferrer"}},[n("TypedArray",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/yCdVkD",target:"_blank",rel:"noopener noreferrer"}},[n("DataView",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/mUbfvF",target:"_blank",rel:"noopener noreferrer"}},[n("ArrayBuffer",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/6J6LBy",target:"_blank",rel:"noopener noreferrer"}},[n("SharedArrayBuffer",[n("OutboundLink")],1)],1),e._v(" 用于计算长度的值。")]),e._v(" "),n("li",[n("code",[e._v("encoding")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" 如果 "),n("code",[e._v("string")]),e._v(" 是字符串，则这就是它的编码。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("'utf8'")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("string")]),e._v(" 中包含的字节数。")])]),e._v(" "),n("p",[e._v("使用 "),n("code",[e._v("encoding")]),e._v(" 编码时返回字符串的字节长度。 这与 "),n("a",{attrs:{href:"http://url.nodejs.cn/TmnY1C",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("String.prototype.length")]),n("OutboundLink")],1),e._v(" 不同，"),n("a",{attrs:{href:"http://url.nodejs.cn/TmnY1C",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("String.prototype.length")]),n("OutboundLink")],1),e._v(" 不考虑用于将字符串转换为字节的编码。")]),e._v(" "),n("p",[e._v("对于包含非 base64/hex 编码数据（例如空格）的字符串，返回值可能大于从字符串创建的 "),n("code",[e._v("Buffer")]),e._v(" 的长度。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const str = '\\u00bd + \\u00bc = \\u00be';\n\nconsole.log(`${str}: ${str.length} characters, ` +\n            `${Buffer.byteLength(str, 'utf8')} bytes`);\n// 打印: ½ + ¼ = ¾: 9 characters, 12 bytes\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br")])]),n("p",[e._v("当 "),n("code",[e._v("string")]),e._v(" 为 "),n("code",[e._v("Buffer")]),e._v("/"),n("a",{attrs:{href:"http://url.nodejs.cn/yCdVkD",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("DataView")]),n("OutboundLink")],1),e._v("/"),n("a",{attrs:{href:"http://url.nodejs.cn/oh3CkV",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("TypedArray")]),n("OutboundLink")],1),e._v("/"),n("a",{attrs:{href:"http://url.nodejs.cn/mUbfvF",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("ArrayBuffer")]),n("OutboundLink")],1),e._v("/"),n("a",{attrs:{href:"http://url.nodejs.cn/6J6LBy",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("SharedArrayBuffer")]),n("OutboundLink")],1),e._v(" 时，返回 "),n("code",[e._v(".byteLength")]),e._v(" 报告的字节长度。")]),e._v(" "),n("h4",{attrs:{id:"buffer-compare-buf1-buf2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-compare-buf1-buf2"}},[e._v("#")]),e._v(" "),n("code",[e._v("Buffer.compare(buf1, buf2)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#static-method-buffercomparebuf1-buf2",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/static_method_buffer_compare_buf1_buf2.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("buf1")]),e._v(" "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("Uint8Array",[n("OutboundLink")],1)],1)]),e._v(" "),n("li",[n("code",[e._v("buf2")]),e._v(" "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("Uint8Array",[n("OutboundLink")],1)],1)]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("-1")]),e._v("、"),n("code",[e._v("0")]),e._v(" 或 "),n("code",[e._v("1")]),e._v("，取决于比较的结果。 详见 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_compare_target_targetstart_targetend_sourcestart_sourceend",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.compare()")]),n("OutboundLink")],1),e._v("。")])]),e._v(" "),n("p",[e._v("比较 "),n("code",[e._v("buf1")]),e._v(" 和 "),n("code",[e._v("buf2")]),e._v("，通常用于对 "),n("code",[e._v("Buffer")]),e._v(" 实例的数组进行排序。 这相当于调用 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_compare_target_targetstart_targetend_sourcestart_sourceend",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf1.compare(buf2)")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf1 = Buffer.from('1234');\nconst buf2 = Buffer.from('0123');\nconst arr = [buf1, buf2];\n\nconsole.log(arr.sort(Buffer.compare));\n// 打印: [ <Buffer 30 31 32 33>, <Buffer 31 32 33 34> ]\n// （此结果相当于：[buf2, buf1]。）\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br")])]),n("h4",{attrs:{id:"buffer-concat-list-totallength"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-concat-list-totallength"}},[e._v("#")]),e._v(" "),n("code",[e._v("Buffer.concat(list[, totalLength])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#static-method-bufferconcatlist-totallength",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/static_method_buffer_concat_list_totallength.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("list")]),e._v(" "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[e._v("<Buffer[]>"),n("OutboundLink")],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[e._v("<Uint8Array[]>"),n("OutboundLink")],1),e._v(" 要连接的 "),n("code",[e._v("Buffer")]),e._v(" 或 "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Uint8Array")]),n("OutboundLink")],1),e._v(" 实例的列表。")]),e._v(" "),n("li",[n("code",[e._v("totalLength")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 连接时 "),n("code",[e._v("list")]),e._v(" 中 "),n("code",[e._v("Buffer")]),e._v(" 实例的总长度。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("返回新的 "),n("code",[e._v("Buffer")]),e._v("，它是将 "),n("code",[e._v("list")]),e._v(" 中的所有 "),n("code",[e._v("Buffer")]),e._v(" 实例连接在一起的结果。")]),e._v(" "),n("p",[e._v("如果列表没有条目，或者 "),n("code",[e._v("totalLength")]),e._v(" 为 0，则返回新的零长度 "),n("code",[e._v("Buffer")]),e._v("。")]),e._v(" "),n("p",[e._v("如果未提供 "),n("code",[e._v("totalLength")]),e._v("，则从 "),n("code",[e._v("list")]),e._v(" 中的 "),n("code",[e._v("Buffer")]),e._v(" 实例通过相加其长度来计算。")]),e._v(" "),n("p",[e._v("如果提供了 "),n("code",[e._v("totalLength")]),e._v("，则将其强制为无符号整数。 如果 "),n("code",[e._v("list")]),e._v(" 中 "),n("code",[e._v("Buffer")]),e._v(" 的组合长度超过 "),n("code",[e._v("totalLength")]),e._v("，则结果截断为 "),n("code",[e._v("totalLength")]),e._v("。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// 从三个 `Buffer` 实例的列表创建单个 `Buffer`。\n\nconst buf1 = Buffer.alloc(10);\nconst buf2 = Buffer.alloc(14);\nconst buf3 = Buffer.alloc(18);\nconst totalLength = buf1.length + buf2.length + buf3.length;\n\nconsole.log(totalLength);\n// 打印: 42\n\nconst bufA = Buffer.concat([buf1, buf2, buf3], totalLength);\n\nconsole.log(bufA);\n// 打印: <Buffer 00 00 00 00 ...>\nconsole.log(bufA.length);\n// 打印: 42\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br")])]),n("p",[n("code",[e._v("Buffer.concat()")]),e._v(" 也像 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafe_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafe()")]),n("OutboundLink")],1),e._v(" 一样使用内部 "),n("code",[e._v("Buffer")]),e._v(" 池。")]),e._v(" "),n("h4",{attrs:{id:"buffer-from-array"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-from-array"}},[e._v("#")]),e._v(" "),n("code",[e._v("Buffer.from(array)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#static-method-bufferfromarray",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/static_method_buffer_from_array.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v5.10.0")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("array")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[e._v("<integer[]>"),n("OutboundLink")],1)])]),e._v(" "),n("p",[e._v("使用 "),n("code",[e._v("0")]),e._v(" – "),n("code",[e._v("255")]),e._v(" 范围内的字节 "),n("code",[e._v("array")]),e._v(" 分配新的 "),n("code",[e._v("Buffer")]),e._v("。 该范围之外的数组条目将被截断以符合它。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// 创建包含字符串 'buffer' 的 UTF-8 字节的新缓冲区。\nconst buf = Buffer.from([0x62, 0x75, 0x66, 0x66, 0x65, 0x72]);\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br")])]),n("p",[e._v("如果 "),n("code",[e._v("array")]),e._v(" 不是 "),n("code",[e._v("Array")]),e._v(" 或其他适用于 "),n("code",[e._v("Buffer.from()")]),e._v(" 变体的类型，则将抛出 "),n("code",[e._v("TypeError")]),e._v("。")]),e._v(" "),n("p",[n("code",[e._v("Buffer.from(array)")]),e._v(" 和 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_from_string_encoding",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.from(string)")]),n("OutboundLink")],1),e._v(" 也像 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafe_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafe()")]),n("OutboundLink")],1),e._v(" 一样使用内部 "),n("code",[e._v("Buffer")]),e._v(" 池。")]),e._v(" "),n("h4",{attrs:{id:"buffer-from-arraybuffer-byteoffset-length"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-from-arraybuffer-byteoffset-length"}},[e._v("#")]),e._v(" "),n("code",[e._v("Buffer.from(arrayBuffer[, byteOffset[, length]])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#static-method-bufferfromarraybuffer-byteoffset-length",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/static_method_buffer_from_arraybuffer_byteoffset_length.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v5.10.0")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("arrayBuffer")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/mUbfvF",target:"_blank",rel:"noopener noreferrer"}},[n("ArrayBuffer",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/6J6LBy",target:"_blank",rel:"noopener noreferrer"}},[n("SharedArrayBuffer",[n("OutboundLink")],1)],1),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/mUbfvF",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("ArrayBuffer")]),n("OutboundLink")],1),e._v("、"),n("a",{attrs:{href:"http://url.nodejs.cn/6J6LBy",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("SharedArrayBuffer")]),n("OutboundLink")],1),e._v("，例如 "),n("a",{attrs:{href:"http://url.nodejs.cn/oh3CkV",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("TypedArray")]),n("OutboundLink")],1),e._v(" 的 "),n("code",[e._v(".buffer")]),e._v(" 属性。")]),e._v(" "),n("li",[n("code",[e._v("byteOffset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要暴露的第一个字节的索引。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("length")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要暴露的字节数。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("arrayBuffer.byteLength - byteOffset")]),e._v("。")])]),e._v(" "),n("p",[e._v("这将创建 "),n("a",{attrs:{href:"http://url.nodejs.cn/mUbfvF",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("ArrayBuffer")]),n("OutboundLink")],1),e._v(" 的视图，而无需复制底层内存。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const arr = new Uint16Array(2);\n\narr[0] = 5000;\narr[1] = 4000;\n\n// 与 `arr` 共享内存。\nconst buf = Buffer.from(arr.buffer);\n\nconsole.log(buf);\n// 打印: <Buffer 88 13 a0 0f>\n\n// 更改原始的 Uint16Array 也会更改缓冲区。\narr[1] = 6000;\n\nconsole.log(buf);\n// 打印: <Buffer 88 13 70 17>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br")])]),n("p",[e._v("可选的 "),n("code",[e._v("byteOffset")]),e._v(" 和 "),n("code",[e._v("length")]),e._v(" 参数指定了 "),n("code",[e._v("arrayBuffer")]),e._v(" 中将由 "),n("code",[e._v("Buffer")]),e._v(" 共享的内存范围。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const ab = new ArrayBuffer(10);\nconst buf = Buffer.from(ab, 0, 2);\n\nconsole.log(buf.length);\n// 打印: 2\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br")])]),n("p",[e._v("如果 "),n("code",[e._v("arrayBuffer")]),e._v(" 不是 "),n("a",{attrs:{href:"http://url.nodejs.cn/mUbfvF",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("ArrayBuffer")]),n("OutboundLink")],1),e._v(" 或 "),n("a",{attrs:{href:"http://url.nodejs.cn/6J6LBy",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("SharedArrayBuffer")]),n("OutboundLink")],1),e._v(" 或其他适用于 "),n("code",[e._v("Buffer.from()")]),e._v(" 变体的类型，则将抛出 "),n("code",[e._v("TypeError")]),e._v("。")]),e._v(" "),n("h4",{attrs:{id:"buffer-from-buffer"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-from-buffer"}},[e._v("#")]),e._v(" "),n("code",[e._v("Buffer.from(buffer)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#static-method-bufferfrombuffer",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/static_method_buffer_from_buffer.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v5.10.0")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("buffer")]),e._v(" "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("Uint8Array",[n("OutboundLink")],1)],1),e._v(" 要从中复制数据的现有 "),n("code",[e._v("Buffer")]),e._v(" 或 "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Uint8Array")]),n("OutboundLink")],1),e._v("。")])]),e._v(" "),n("p",[e._v("将传入的 "),n("code",[e._v("buffer")]),e._v(" 数据复制到新的 "),n("code",[e._v("Buffer")]),e._v(" 实例上。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf1 = Buffer.from('buffer');\nconst buf2 = Buffer.from(buf1);\n\nbuf1[0] = 0x61;\n\nconsole.log(buf1.toString());\n// 打印: auffer\nconsole.log(buf2.toString());\n// 打印: buffer\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br")])]),n("p",[e._v("如果 "),n("code",[e._v("buffer")]),e._v(" 不是 "),n("code",[e._v("Buffer")]),e._v(" 或其他适用于 "),n("code",[e._v("Buffer.from()")]),e._v(" 变体的类型，则将抛出 "),n("code",[e._v("TypeError")]),e._v("。")]),e._v(" "),n("h4",{attrs:{id:"buffer-from-object-offsetorencoding-length"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-from-object-offsetorencoding-length"}},[e._v("#")]),e._v(" "),n("code",[e._v("Buffer.from(object[, offsetOrEncoding[, length]])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#static-method-bufferfromobject-offsetorencoding-length",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/static_method_buffer_from_object_offsetorencoding_length.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v8.2.0")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("object")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/jzn6Ao",target:"_blank",rel:"noopener noreferrer"}},[n("Object",[n("OutboundLink")],1)],1),e._v(" 支持 "),n("code",[e._v("Symbol.toPrimitive")]),e._v(" 或 "),n("code",[e._v("valueOf()")]),e._v(" 的对象。")]),e._v(" "),n("li",[n("code",[e._v("offsetOrEncoding")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" 字节偏移量或编码。")]),e._v(" "),n("li",[n("code",[e._v("length")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 长度。")])]),e._v(" "),n("p",[e._v("对于 "),n("code",[e._v("valueOf()")]),e._v(" 函数返回的值不严格等于 "),n("code",[e._v("object")]),e._v(" 的对象，则返回 "),n("code",[e._v("Buffer.from(object.valueOf(), offsetOrEncoding, length)")]),e._v("。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from(new String('this is a test'));\n// 打印: <Buffer 74 68 69 73 20 69 73 20 61 20 74 65 73 74>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br")])]),n("p",[e._v("对于支持 "),n("code",[e._v("Symbol.toPrimitive")]),e._v(" 的对象，则返回 "),n("code",[e._v("Buffer.from(object[Symbol.toPrimitive]('string'), offsetOrEncoding)")]),e._v("。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("class Foo {\n  [Symbol.toPrimitive]() {\n    return 'this is a test';\n  }\n}\n\nconst buf = Buffer.from(new Foo(), 'utf8');\n// 打印: <Buffer 74 68 69 73 20 69 73 20 61 20 74 65 73 74>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br")])]),n("p",[e._v("如果 "),n("code",[e._v("object")]),e._v(" 没有提到的方法或不是适合 "),n("code",[e._v("Buffer.from()")]),e._v(" 变体的另一种类型，则将抛出 "),n("code",[e._v("TypeError")]),e._v("。")]),e._v(" "),n("h4",{attrs:{id:"buffer-from-string-encoding"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-from-string-encoding"}},[e._v("#")]),e._v(" "),n("code",[e._v("Buffer.from(string[, encoding])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#static-method-bufferfromstring-encoding",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/static_method_buffer_from_string_encoding.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v5.10.0")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("string")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" 要编码的字符串。")]),e._v(" "),n("li",[n("code",[e._v("encoding")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("string")]),e._v(" 的编码。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("'utf8'")]),e._v("。")])]),e._v(" "),n("p",[e._v("创建包含 "),n("code",[e._v("string")]),e._v(" 的新 "),n("code",[e._v("Buffer")]),e._v("。 "),n("code",[e._v("encoding")]),e._v(" 参数标识将 "),n("code",[e._v("string")]),e._v(" 转换为字节时要使用的字符编码。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf1 = Buffer.from('this is a tést');\nconst buf2 = Buffer.from('7468697320697320612074c3a97374', 'hex');\n\nconsole.log(buf1.toString());\n// 打印: this is a tést\nconsole.log(buf2.toString());\n// 打印: this is a tést\nconsole.log(buf1.toString('latin1'));\n// 打印: this is a tÃ©st\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br")])]),n("p",[e._v("如果 "),n("code",[e._v("string")]),e._v(" 不是字符串或其他适用于 "),n("code",[e._v("Buffer.from()")]),e._v(" 变体的类型，则将抛出 "),n("code",[e._v("TypeError")]),e._v("。")]),e._v(" "),n("h4",{attrs:{id:"buffer-isbuffer-obj"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-isbuffer-obj"}},[e._v("#")]),e._v(" "),n("code",[e._v("Buffer.isBuffer(obj)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#static-method-bufferisbufferobj",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/static_method_buffer_isbuffer_obj.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v0.1.101")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("obj")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/jzn6Ao",target:"_blank",rel:"noopener noreferrer"}},[n("Object",[n("OutboundLink")],1)],1)]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/jFbvuT",target:"_blank",rel:"noopener noreferrer"}},[n("boolean",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("如果 "),n("code",[e._v("obj")]),e._v(" 是 "),n("code",[e._v("Buffer")]),e._v("，则返回 "),n("code",[e._v("true")]),e._v("，否则返回 "),n("code",[e._v("false")]),e._v("。")]),e._v(" "),n("h4",{attrs:{id:"buffer-isencoding-encoding"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-isencoding-encoding"}},[e._v("#")]),e._v(" "),n("code",[e._v("Buffer.isEncoding(encoding)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#static-method-bufferisencodingencoding",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/static_method_buffer_isencoding_encoding.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v0.9.1")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("encoding")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" 要检查的字符编码名称。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/jFbvuT",target:"_blank",rel:"noopener noreferrer"}},[n("boolean",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("如果 "),n("code",[e._v("encoding")]),e._v(" 是支持的字符编码的名称，则返回 "),n("code",[e._v("true")]),e._v("，否则返回 "),n("code",[e._v("false")]),e._v("。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("console.log(Buffer.isEncoding('utf-8'));\n// 打印: true\n\nconsole.log(Buffer.isEncoding('hex'));\n// 打印: true\n\nconsole.log(Buffer.isEncoding('utf/8'));\n// 打印: false\n\nconsole.log(Buffer.isEncoding(''));\n// 打印: false\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br")])]),n("h4",{attrs:{id:"buffer-poolsize"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-poolsize"}},[e._v("#")]),e._v(" "),n("code",[e._v("Buffer.poolSize")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#class-property-bufferpoolsize",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/class_property_buffer_poolsize.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v0.11.3")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("8192")])])]),e._v(" "),n("p",[e._v("这是用于池的预分配内部 "),n("code",[e._v("Buffer")]),e._v(" 实例的大小（以字节为单位）。 该值可以修改。")]),e._v(" "),n("h4",{attrs:{id:"buf-index"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-index"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf[index]")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufindex",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("index")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("索引运算符 "),n("code",[e._v("[index]")]),e._v(" 可用于获取和设置 "),n("code",[e._v("buf")]),e._v(" 中位置 "),n("code",[e._v("index")]),e._v(" 处的八位字节。 这些值是指单个字节，因此合法值范围介于 "),n("code",[e._v("0x00")]),e._v(" 和 "),n("code",[e._v("0xFF")]),e._v("（十六进制）或 "),n("code",[e._v("0")]),e._v(" 和 "),n("code",[e._v("255")]),e._v("（十进制）之间。")]),e._v(" "),n("p",[e._v("该运算符继承自 "),n("code",[e._v("Uint8Array")]),e._v("，因此其越界访问行为与 "),n("code",[e._v("Uint8Array")]),e._v(" 相同。 换句话说，当 "),n("code",[e._v("index")]),e._v(" 为负或大于等于 "),n("code",[e._v("buf.length")]),e._v(" 时，"),n("code",[e._v("buf[index]")]),e._v(" 返回 "),n("code",[e._v("undefined")]),e._v("，如果 "),n("code",[e._v("index")]),e._v(" 为负或 "),n("code",[e._v(">= buf.length")]),e._v("，"),n("code",[e._v("buf[index] = value")]),e._v(" 不修改缓冲区。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// 每次一个字节地将 ASCII 字符串复制到 `Buffer` 中。\n// （这仅适用于 ASCII-only 字符串。通常，应该使用 `Buffer.from()` 来执行此转换。）\n\nconst str = 'Node.js';\nconst buf = Buffer.allocUnsafe(str.length);\n\nfor (let i = 0; i < str.length; i++) {\n  buf[i] = str.charCodeAt(i);\n}\n\nconsole.log(buf.toString('utf8'));\n// 打印: Node.js\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br")])]),n("h4",{attrs:{id:"buf-buffer"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-buffer"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.buffer")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufbuffer",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_buffer.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://url.nodejs.cn/mUbfvF",target:"_blank",rel:"noopener noreferrer"}},[n("ArrayBuffer",[n("OutboundLink")],1)],1),e._v(" 创建此 "),n("code",[e._v("Buffer")]),e._v(" 对象所基于的底层 "),n("code",[e._v("ArrayBuffer")]),e._v(" 对象。")])]),e._v(" "),n("p",[e._v("不保证此 "),n("code",[e._v("ArrayBuffer")]),e._v(" 与原始 "),n("code",[e._v("Buffer")]),e._v(" 完全对应。 有关详细信息，请参阅 "),n("code",[e._v("buf.byteOffset")]),e._v(" 上的说明。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const arrayBuffer = new ArrayBuffer(16);\nconst buffer = Buffer.from(arrayBuffer);\n\nconsole.log(buffer.buffer === arrayBuffer);\n// 打印: true\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br")])]),n("h4",{attrs:{id:"buf-byteoffset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-byteoffset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.byteOffset")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufbyteoffset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_byteoffset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("Buffer")]),e._v(" 底层 "),n("code",[e._v("ArrayBuffer")]),e._v(" 对象的 "),n("code",[e._v("byteOffset")]),e._v("。")])]),e._v(" "),n("p",[e._v("当在 "),n("code",[e._v("Buffer.from(ArrayBuffer, byteOffset, length)")]),e._v(" 中设置 "),n("code",[e._v("byteOffset")]),e._v(" 时，或者有时在分配小于 "),n("code",[e._v("Buffer.poolSize")]),e._v(" 的 "),n("code",[e._v("Buffer")]),e._v(" 时，缓冲区不会从底层 "),n("code",[e._v("ArrayBuffer")]),e._v(" 上的零偏移量开始。")]),e._v(" "),n("p",[e._v("这在使用 "),n("code",[e._v("buf.buffer")]),e._v(" 直接访问底层 "),n("code",[e._v("ArrayBuffer")]),e._v(" 时可能会导致问题，因为 "),n("code",[e._v("ArrayBuffer")]),e._v(" 的其他部分可能与 "),n("code",[e._v("Buffer")]),e._v(" 对象本身无关。")]),e._v(" "),n("p",[e._v("创建与 "),n("code",[e._v("Buffer")]),e._v(" 共享内存的 "),n("code",[e._v("TypedArray")]),e._v(" 对象时的常见问题是，在这种情况下，需要正确指定 "),n("code",[e._v("byteOffset")]),e._v("：")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// 创建小于 `Buffer.poolSize` 的缓冲区。\nconst nodeBuffer = new Buffer.from([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]);\n\n// 当将 Node.js 缓冲区转换为 Int8Array 时，\n// 使用 byteOffset 仅引用包含 `nodeBuffer` 内存的 `nodeBuffer.buffer` 部分。\nnew Int8Array(nodeBuffer.buffer, nodeBuffer.byteOffset, nodeBuffer.length);\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-compare-target-targetstart-targetend-sourcestart-sourceend"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-compare-target-targetstart-targetend-sourcestart-sourceend"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.compare(target[, targetStart[, targetEnd[, sourceStart[, sourceEnd]]]])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufcomparetarget-targetstart-targetend-sourcestart-sourceend",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_compare_target_targetstart_targetend_sourcestart_sourceend.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("target")]),e._v(" "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("Uint8Array",[n("OutboundLink")],1)],1),e._v(" 用于比较 "),n("code",[e._v("buf")]),e._v(" 的 "),n("code",[e._v("Buffer")]),e._v(" 或 "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Uint8Array")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("targetStart")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("target")]),e._v(" 内开始比较的偏移量。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("targetEnd")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("target")]),e._v(" 中结束比较（不包括）的偏移量。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("target.length")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("sourceStart")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("buf")]),e._v(" 内开始比较的偏移量。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("sourceEnd")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("buf")]),e._v(" 中结束比较（不包括）的偏移量。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.length")]),n("OutboundLink")],1),e._v(".")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("buf")]),e._v(" 与 "),n("code",[e._v("target")]),e._v(" 进行比较并返回数字，该数字指示 "),n("code",[e._v("buf")]),e._v(" 在排序顺序中是在 "),n("code",[e._v("target")]),e._v(" 之前、之后还是与 "),n("code",[e._v("target")]),e._v(" 相同。 比较基于每个 "),n("code",[e._v("Buffer")]),e._v(" 中的实际字节序列。")]),e._v(" "),n("ul",[n("li",[e._v("如果 "),n("code",[e._v("target")]),e._v(" 与 "),n("code",[e._v("buf")]),e._v(" 相同，则返回 "),n("code",[e._v("0")])]),e._v(" "),n("li",[e._v("如果排序时 "),n("code",[e._v("target")]),e._v(" 应该在 "),n("code",[e._v("buf")]),e._v(" 之前，则返回 "),n("code",[e._v("1")]),e._v("。")]),e._v(" "),n("li",[e._v("如果排序时 "),n("code",[e._v("target")]),e._v(" 应该在 "),n("code",[e._v("buf")]),e._v(" 之后，则返回 "),n("code",[e._v("-1")]),e._v("。")])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf1 = Buffer.from('ABC');\nconst buf2 = Buffer.from('BCD');\nconst buf3 = Buffer.from('ABCD');\n\nconsole.log(buf1.compare(buf1));\n// 打印: 0\nconsole.log(buf1.compare(buf2));\n// 打印: -1\nconsole.log(buf1.compare(buf3));\n// 打印: -1\nconsole.log(buf2.compare(buf1));\n// 打印: 1\nconsole.log(buf2.compare(buf3));\n// 打印: 1\nconsole.log([buf1, buf2, buf3].sort(Buffer.compare));\n// 打印: [ <Buffer 41 42 43>, <Buffer 41 42 43 44>, <Buffer 42 43 44> ]\n// （此结果相当于：[buf1, buf3, buf2]。）\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br")])]),n("p",[e._v("可选的 "),n("code",[e._v("targetStart")]),e._v("、"),n("code",[e._v("targetEnd")]),e._v("、"),n("code",[e._v("sourceStart")]),e._v(" 和 "),n("code",[e._v("sourceEnd")]),e._v(" 参数可用于分别将比较限制在 "),n("code",[e._v("target")]),e._v(" 和 "),n("code",[e._v("buf")]),e._v(" 内的特定范围内。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf1 = Buffer.from([1, 2, 3, 4, 5, 6, 7, 8, 9]);\nconst buf2 = Buffer.from([5, 6, 7, 8, 9, 1, 2, 3, 4]);\n\nconsole.log(buf1.compare(buf2, 5, 9, 0, 4));\n// 打印: 0\nconsole.log(buf1.compare(buf2, 0, 6, 4));\n// 打印: -1\nconsole.log(buf1.compare(buf2, 5, 6, 5));\n// 打印: 1\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br")])]),n("p",[e._v("如果 "),n("code",[e._v("targetStart < 0")]),e._v("、"),n("code",[e._v("sourceStart < 0")]),e._v("、"),n("code",[e._v("targetEnd > target.byteLength")]),e._v(" 或 "),n("code",[e._v("sourceEnd > source.byteLength")]),e._v("，则抛出 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/errors.html#ERR_OUT_OF_RANGE",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("ERR_OUT_OF_RANGE")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("h4",{attrs:{id:"buf-copy-target-targetstart-sourcestart-sourceend"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-copy-target-targetstart-sourcestart-sourceend"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.copy(target[, targetStart[, sourceStart[, sourceEnd]]])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufcopytarget-targetstart-sourcestart-sourceend",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_copy_target_targetstart_sourcestart_sourceend.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v0.1.90")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("target")]),e._v(" "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("Uint8Array",[n("OutboundLink")],1)],1),e._v(" 要复制到的 "),n("code",[e._v("Buffer")]),e._v(" 或 "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Uint8Array")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("targetStart")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("target")]),e._v(" 内开始写入的偏移量。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("sourceStart")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("buf")]),e._v(" 内开始复制的偏移量。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("sourceEnd")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("buf")]),e._v(" 内停止复制的偏移量（不包括）。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.length")]),n("OutboundLink")],1),e._v(".")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 复制的字节数。")])]),e._v(" "),n("p",[e._v("将数据从 "),n("code",[e._v("buf")]),e._v(" 的区域复制到 "),n("code",[e._v("target")]),e._v(" 的区域，即使 "),n("code",[e._v("target")]),e._v(" 内存区域与 "),n("code",[e._v("buf")]),e._v(" 重叠。")]),e._v(" "),n("p",[n("a",{attrs:{href:"http://url.nodejs.cn/yiGcc3",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("TypedArray#set()")]),n("OutboundLink")],1),e._v(" 执行相同的操作，可用于所有 TypedArray，包括 Node.js "),n("code",[e._v("Buffer")]),e._v("，尽管它采用不同的函数参数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// 创建两个 `Buffer` 实例。\nconst buf1 = Buffer.allocUnsafe(26);\nconst buf2 = Buffer.allocUnsafe(26).fill('!');\n\nfor (let i = 0; i < 26; i++) {\n  // 97 是 'a' 的十进制 ASCII 值。\n  buf1[i] = i + 97;\n}\n\n// 将 `buf1` 字节 16 到 19 复制到 `buf2` 中，从 `buf2` 的字节 8 开始。\nbuf1.copy(buf2, 8, 16, 20);\n// 这相当于：\n// buf2.set(buf1.subarray(16, 20), 8);\n\nconsole.log(buf2.toString('ascii', 0, 25));\n// 打印: !!!!!!!!qrst!!!!!!!!!!!!!\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// 创建 `Buffer` 并将数据从一个区域复制到同一 `Buffer` 内的重叠区域。\n\nconst buf = Buffer.allocUnsafe(26);\n\nfor (let i = 0; i < 26; i++) {\n  // 97 是 'a' 的十进制 ASCII 值。\n  buf[i] = i + 97;\n}\n\nbuf.copy(buf, 0, 4, 10);\n\nconsole.log(buf.toString());\n// 打印: efghijghijklmnopqrstuvwxyz\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br")])]),n("h4",{attrs:{id:"buf-entries"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-entries"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.entries()")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufentries",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_entries.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v1.1.0")]),e._v(" "),n("ul",[n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/Y2SE1q",target:"_blank",rel:"noopener noreferrer"}},[n("Iterator",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从 "),n("code",[e._v("buf")]),e._v(" 的内容创建并返回 "),n("code",[e._v("[index, byte]")]),e._v(" 对的"),n("a",{attrs:{href:"http://url.nodejs.cn/KK7Xfc",target:"_blank",rel:"noopener noreferrer"}},[e._v("迭代器"),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// 记录 `Buffer` 的全部内容。\n\nconst buf = Buffer.from('buffer');\n\nfor (const pair of buf.entries()) {\n  console.log(pair);\n}\n// 打印:\n//   [0, 98]\n//   [1, 117]\n//   [2, 102]\n//   [3, 102]\n//   [4, 101]\n//   [5, 114]\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br")])]),n("h4",{attrs:{id:"buf-equals-otherbuffer"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-equals-otherbuffer"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.equals(otherBuffer)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufequalsotherbuffer",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_equals_otherbuffer.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("otherBuffer")]),e._v(" "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("Uint8Array",[n("OutboundLink")],1)],1),e._v(" 用于比较 "),n("code",[e._v("buf")]),e._v(" 的 "),n("code",[e._v("Buffer")]),e._v(" 或 "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Uint8Array")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/jFbvuT",target:"_blank",rel:"noopener noreferrer"}},[n("boolean",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("如果 "),n("code",[e._v("buf")]),e._v(" 和 "),n("code",[e._v("otherBuffer")]),e._v(" 具有完全相同的字节，则返回 "),n("code",[e._v("true")]),e._v("，否则返回 "),n("code",[e._v("false")]),e._v("。 相当于 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_compare_target_targetstart_targetend_sourcestart_sourceend",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.compare(otherBuffer) === 0")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf1 = Buffer.from('ABC');\nconst buf2 = Buffer.from('414243', 'hex');\nconst buf3 = Buffer.from('ABCD');\n\nconsole.log(buf1.equals(buf2));\n// 打印: true\nconsole.log(buf1.equals(buf3));\n// 打印: false\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br")])]),n("h4",{attrs:{id:"buf-fill-value-offset-end-encoding"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-fill-value-offset-end-encoding"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.fill(value[, offset[, end]][, encoding])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffillvalue-offset-end-encoding",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_fill_value_offset_end_encoding.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("Uint8Array",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 用于填充 "),n("code",[e._v("buf")]),e._v(" 的值。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 在开始填充 "),n("code",[e._v("buf")]),e._v(" 之前要跳过的字节数。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("end")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 停止填充 "),n("code",[e._v("buf")]),e._v("（不包括在内）的位置。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.length")]),n("OutboundLink")],1),e._v(".")]),e._v(" "),n("li",[n("code",[e._v("encoding")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" 如果 "),n("code",[e._v("value")]),e._v(" 是字符串，则为 "),n("code",[e._v("value")]),e._v(" 的编码。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("'utf8'")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("buf")]),e._v(" 的引用。")])]),e._v(" "),n("p",[e._v("用指定的 "),n("code",[e._v("value")]),e._v(" 填充 "),n("code",[e._v("buf")]),e._v("。 如果没有给定 "),n("code",[e._v("offset")]),e._v(" 和 "),n("code",[e._v("end")]),e._v("，则整个 "),n("code",[e._v("buf")]),e._v(" 都会被填满：")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// 用 ASCII 字符 'h' 填充 `Buffer`。\n\nconst b = Buffer.allocUnsafe(50).fill('h');\n\nconsole.log(b.toString());\n// 打印: hhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhh\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("p",[e._v("如果 "),n("code",[e._v("value")]),e._v(" 不是字符串、"),n("code",[e._v("Buffer")]),e._v(" 或整数，则将其强制为 "),n("code",[e._v("uint32")]),e._v(" 值。 如果结果整数大于 "),n("code",[e._v("255")]),e._v("（十进制），则 "),n("code",[e._v("buf")]),e._v(" 将填充 "),n("code",[e._v("value & 255")]),e._v("。")]),e._v(" "),n("p",[e._v("如果 "),n("code",[e._v("fill()")]),e._v(" 操作的最终写入落在多字节字符上，则仅写入适合 "),n("code",[e._v("buf")]),e._v(" 的该字符的字节：")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// 用在 UTF-8 中占用两个字节的字符填充 `Buffer`。\n\nconsole.log(Buffer.allocUnsafe(5).fill('\\u0222'));\n// 打印: <Buffer c8 a2 c8 a2 c8>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br")])]),n("p",[e._v("如果 "),n("code",[e._v("value")]),e._v(" 包含无效字符，则截断；如果没有有效的填充数据，则抛出异常：")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(5);\n\nconsole.log(buf.fill('a'));\n// 打印: <Buffer 61 61 61 61 61>\nconsole.log(buf.fill('aazz', 'hex'));\n// 打印: <Buffer aa aa aa aa aa>\nconsole.log(buf.fill('zz', 'hex'));\n// 抛出异常。\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br")])]),n("h4",{attrs:{id:"buf-includes-value-byteoffset-encoding"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-includes-value-byteoffset-encoding"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.includes(value[, byteOffset][, encoding])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufincludesvalue-byteoffset-encoding",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_includes_value_byteoffset_encoding.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v5.3.0")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("Uint8Array",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要搜索的内容。")]),e._v(" "),n("li",[n("code",[e._v("byteOffset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始搜索 "),n("code",[e._v("buf")]),e._v(" 的位置。 如果为负数，则从 "),n("code",[e._v("buf")]),e._v(" 的末尾开始计算偏移量。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("encoding")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" 如果 "),n("code",[e._v("value")]),e._v(" 是字符串，则这就是它的编码。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("'utf8'")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/jFbvuT",target:"_blank",rel:"noopener noreferrer"}},[n("boolean",[n("OutboundLink")],1)],1),e._v(" 如果在 "),n("code",[e._v("buf")]),e._v(" 中找到 "),n("code",[e._v("value")]),e._v("，则为 "),n("code",[e._v("true")]),e._v("，否则为 "),n("code",[e._v("false")]),e._v("。")])]),e._v(" "),n("p",[e._v("相当于 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_indexof_value_byteoffset_encoding",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.indexOf() !== -1")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from('this is a buffer');\n\nconsole.log(buf.includes('this'));\n// 打印: true\nconsole.log(buf.includes('is'));\n// 打印: true\nconsole.log(buf.includes(Buffer.from('a buffer')));\n// 打印: true\nconsole.log(buf.includes(97));\n// 打印: true （97 是 'a' 的十进制 ASCII 值）\nconsole.log(buf.includes(Buffer.from('a buffer example')));\n// 打印: false\nconsole.log(buf.includes(Buffer.from('a buffer example').slice(0, 8)));\n// 打印: true\nconsole.log(buf.includes('this', 4));\n// 打印: false\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br")])]),n("h4",{attrs:{id:"buf-indexof-value-byteoffset-encoding"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-indexof-value-byteoffset-encoding"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.indexOf(value[, byteOffset][, encoding])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufindexofvalue-byteoffset-encoding",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_indexof_value_byteoffset_encoding.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("Uint8Array",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要搜索的内容。")]),e._v(" "),n("li",[n("code",[e._v("byteOffset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始搜索 "),n("code",[e._v("buf")]),e._v(" 的位置。 如果为负数，则从 "),n("code",[e._v("buf")]),e._v(" 的末尾开始计算偏移量。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("encoding")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" 如果 "),n("code",[e._v("value")]),e._v(" 是字符串，则这是用于确定将在 "),n("code",[e._v("buf")]),e._v(" 中搜索的字符串的二进制表示的编码。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("'utf8'")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("buf")]),e._v(" 中第一次出现 "),n("code",[e._v("value")]),e._v(" 的索引，如果 "),n("code",[e._v("buf")]),e._v(" 不包含 "),n("code",[e._v("value")]),e._v("，则为 "),n("code",[e._v("-1")]),e._v("。")])]),e._v(" "),n("p",[e._v("如果 "),n("code",[e._v("value")]),e._v(" 是：")]),e._v(" "),n("ul",[n("li",[e._v("字符串，"),n("code",[e._v("value")]),e._v(" 根据 "),n("code",[e._v("encoding")]),e._v(" 中的字符编码进行解释。")]),e._v(" "),n("li",[n("code",[e._v("Buffer")]),e._v(" 或 "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Uint8Array")]),n("OutboundLink")],1),e._v(", "),n("code",[e._v("value")]),e._v(" 将全部使用。 要比较部分 "),n("code",[e._v("Buffer")]),e._v("，则使用 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_slice_start_end",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.slice()")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("li",[e._v("数字，"),n("code",[e._v("value")]),e._v(" 将被解释为 "),n("code",[e._v("0")]),e._v(" 和 "),n("code",[e._v("255")]),e._v(" 之间的无符号 8 位整数值。")])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from('this is a buffer');\n\nconsole.log(buf.indexOf('this'));\n// 打印: 0\nconsole.log(buf.indexOf('is'));\n// 打印: 2\nconsole.log(buf.indexOf(Buffer.from('a buffer')));\n// 打印: 8\nconsole.log(buf.indexOf(97));\n// 打印: 8 （97 是 'a' 的十进制 ASCII 值）\nconsole.log(buf.indexOf(Buffer.from('a buffer example')));\n// 打印: -1\nconsole.log(buf.indexOf(Buffer.from('a buffer example').slice(0, 8)));\n// 打印: 8\n\nconst utf16Buffer = Buffer.from('\\u039a\\u0391\\u03a3\\u03a3\\u0395', 'utf16le');\n\nconsole.log(utf16Buffer.indexOf('\\u03a3', 0, 'utf16le'));\n// 打印: 4\nconsole.log(utf16Buffer.indexOf('\\u03a3', -4, 'utf16le'));\n// 打印: 6\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br"),n("span",{staticClass:"line-number"},[e._v("18")]),n("br"),n("span",{staticClass:"line-number"},[e._v("19")]),n("br"),n("span",{staticClass:"line-number"},[e._v("20")]),n("br"),n("span",{staticClass:"line-number"},[e._v("21")]),n("br")])]),n("p",[e._v("如果 "),n("code",[e._v("value")]),e._v(" 不是字符串、数字或 "),n("code",[e._v("Buffer")]),e._v("，则此方法将抛出 "),n("code",[e._v("TypeError")]),e._v("。 如果 "),n("code",[e._v("value")]),e._v(" 是数字，则它将被强制转换为有效的字节值（0 到 255 之间的整数）。")]),e._v(" "),n("p",[e._v("如果 "),n("code",[e._v("byteOffset")]),e._v(" 不是数字，则会被强制为数字。 如果强制转换的结果是 "),n("code",[e._v("NaN")]),e._v(" 或 "),n("code",[e._v("0")]),e._v("，则将搜索整个缓冲区。 此行为与 "),n("a",{attrs:{href:"http://url.nodejs.cn/Uqm5hr",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("String#indexOf()")]),n("OutboundLink")],1),e._v(" 匹配。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const b = Buffer.from('abcdef');\n\n// 传入数字值，但不是有效字节。\n// 打印: 2, 相当于搜索 99 或 'c'。\nconsole.log(b.indexOf(99.9));\nconsole.log(b.indexOf(256 + 99));\n\n// 传入强制为 NaN 或 0 的 byteOffset。\n// 打印: 1, 搜索整个缓冲区。\nconsole.log(b.indexOf('b', undefined));\nconsole.log(b.indexOf('b', {}));\nconsole.log(b.indexOf('b', null));\nconsole.log(b.indexOf('b', []));\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br")])]),n("p",[e._v("如果 "),n("code",[e._v("value")]),e._v(" 为空字符串或空 "),n("code",[e._v("Buffer")]),e._v(" 且 "),n("code",[e._v("byteOffset")]),e._v(" 小于 "),n("code",[e._v("buf.length")]),e._v("，则返回 "),n("code",[e._v("byteOffset")]),e._v("。 如果 "),n("code",[e._v("value")]),e._v(" 为空且 "),n("code",[e._v("byteOffset")]),e._v(" 至少为 "),n("code",[e._v("buf.length")]),e._v("，则返回 "),n("code",[e._v("buf.length")]),e._v("。")]),e._v(" "),n("h4",{attrs:{id:"buf-keys"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-keys"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.keys()")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufkeys",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_keys.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v1.1.0")]),e._v(" "),n("ul",[n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/Y2SE1q",target:"_blank",rel:"noopener noreferrer"}},[n("Iterator",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("创建并返回 "),n("code",[e._v("buf")]),e._v(" 个键（索引）的"),n("a",{attrs:{href:"http://url.nodejs.cn/KK7Xfc",target:"_blank",rel:"noopener noreferrer"}},[e._v("迭代器"),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from('buffer');\n\nfor (const key of buf.keys()) {\n  console.log(key);\n}\n// 打印:\n//   0\n//   1\n//   2\n//   3\n//   4\n//   5\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br")])]),n("h4",{attrs:{id:"buf-lastindexof-value-byteoffset-encoding"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-lastindexof-value-byteoffset-encoding"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.lastIndexOf(value[, byteOffset][, encoding])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buflastindexofvalue-byteoffset-encoding",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_lastindexof_value_byteoffset_encoding.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("Uint8Array",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要搜索的内容。")]),e._v(" "),n("li",[n("code",[e._v("byteOffset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始搜索 "),n("code",[e._v("buf")]),e._v(" 的位置。 如果为负数，则从 "),n("code",[e._v("buf")]),e._v(" 的末尾开始计算偏移量。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("buf.length - 1")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("encoding")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" 如果 "),n("code",[e._v("value")]),e._v(" 是字符串，则这是用于确定将在 "),n("code",[e._v("buf")]),e._v(" 中搜索的字符串的二进制表示的编码。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("'utf8'")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("buf")]),e._v(" 中最后一次出现 "),n("code",[e._v("value")]),e._v(" 的索引，如果 "),n("code",[e._v("buf")]),e._v(" 不包含 "),n("code",[e._v("value")]),e._v("，则为 "),n("code",[e._v("-1")]),e._v("。")])]),e._v(" "),n("p",[e._v("与 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_indexof_value_byteoffset_encoding",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.indexOf()")]),n("OutboundLink")],1),e._v(" 相同，除了找到最后一次出现的 "),n("code",[e._v("value")]),e._v(" 而不是第一次出现。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from('this buffer is a buffer');\n\nconsole.log(buf.lastIndexOf('this'));\n// 打印: 0\nconsole.log(buf.lastIndexOf('buffer'));\n// 打印: 17\nconsole.log(buf.lastIndexOf(Buffer.from('buffer')));\n// 打印: 17\nconsole.log(buf.lastIndexOf(97));\n// 打印: 15 （97 是 'a' 的十进制 ASCII 值）\nconsole.log(buf.lastIndexOf(Buffer.from('yolo')));\n// 打印: -1\nconsole.log(buf.lastIndexOf('buffer', 5));\n// 打印: 5\nconsole.log(buf.lastIndexOf('buffer', 4));\n// 打印: -1\n\nconst utf16Buffer = Buffer.from('\\u039a\\u0391\\u03a3\\u03a3\\u0395', 'utf16le');\n\nconsole.log(utf16Buffer.lastIndexOf('\\u03a3', undefined, 'utf16le'));\n// 打印: 6\nconsole.log(utf16Buffer.lastIndexOf('\\u03a3', -5, 'utf16le'));\n// 打印: 4\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br"),n("span",{staticClass:"line-number"},[e._v("18")]),n("br"),n("span",{staticClass:"line-number"},[e._v("19")]),n("br"),n("span",{staticClass:"line-number"},[e._v("20")]),n("br"),n("span",{staticClass:"line-number"},[e._v("21")]),n("br"),n("span",{staticClass:"line-number"},[e._v("22")]),n("br"),n("span",{staticClass:"line-number"},[e._v("23")]),n("br")])]),n("p",[e._v("如果 "),n("code",[e._v("value")]),e._v(" 不是字符串、数字或 "),n("code",[e._v("Buffer")]),e._v("，则此方法将抛出 "),n("code",[e._v("TypeError")]),e._v("。 如果 "),n("code",[e._v("value")]),e._v(" 是数字，则它将被强制转换为有效的字节值（0 到 255 之间的整数）。")]),e._v(" "),n("p",[e._v("如果 "),n("code",[e._v("byteOffset")]),e._v(" 不是数字，则会被强制为数字。 任何强制到 "),n("code",[e._v("NaN")]),e._v(" 的参数，如 "),n("code",[e._v("{}")]),e._v(" 或 "),n("code",[e._v("undefined")]),e._v("，都将搜索整个缓冲区。 此行为与 "),n("a",{attrs:{href:"http://url.nodejs.cn/2oXRjB",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("String#lastIndexOf()")]),n("OutboundLink")],1),e._v(" 匹配。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const b = Buffer.from('abcdef');\n\n// 传入数字值，但不是有效字节。\n// 打印: 2, 相当于搜索 99 或 'c'。\nconsole.log(b.lastIndexOf(99.9));\nconsole.log(b.lastIndexOf(256 + 99));\n\n// 传入强制为 NaN 的 byteOffset。\n// 打印: 1, 搜索整个缓冲区。\nconsole.log(b.lastIndexOf('b', undefined));\nconsole.log(b.lastIndexOf('b', {}));\n\n// 传递强制为 0 的 byteOffset。\n// 打印: -1, 相当于传入 0。\nconsole.log(b.lastIndexOf('b', null));\nconsole.log(b.lastIndexOf('b', []));\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br")])]),n("p",[e._v("如果 "),n("code",[e._v("value")]),e._v(" 为空字符串或空 "),n("code",[e._v("Buffer")]),e._v("，则返回 "),n("code",[e._v("byteOffset")]),e._v("。")]),e._v(" "),n("h4",{attrs:{id:"buf-length"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-length"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.length")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buflength",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_length.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v0.1.90")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("返回 "),n("code",[e._v("buf")]),e._v(" 中的字节数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// 创建 `Buffer` 并使用 UTF-8 向其写入一个较短的字符串。\n\nconst buf = Buffer.alloc(1234);\n\nconsole.log(buf.length);\n// 打印: 1234\n\nbuf.write('some string', 0, 'utf8');\n\nconsole.log(buf.length);\n// 打印: 1234\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br")])]),n("h4",{attrs:{id:"buf-parent"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-parent"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.parent")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufparent",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_parent.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("弃用于: v8.0.0")]),e._v(" "),n("p",[n("code",[e._v("buf.parent")]),e._v(" 属性是 "),n("code",[e._v("buf.buffer")]),e._v(" 的弃用别名。")]),e._v(" "),n("h4",{attrs:{id:"buf-readbigint64be-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readbigint64be-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readBigInt64BE([offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreadbigint64beoffset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readbigint64be_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v12.0.0, v10.20.0")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足："),n("code",[e._v("0 <= offset <= buf.length - 8")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/gJMq1y",target:"_blank",rel:"noopener noreferrer"}},[n("bigint",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定的 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取有符号的大端序 64 位整数。")]),e._v(" "),n("p",[e._v("从 "),n("code",[e._v("Buffer")]),e._v(" 读取的整数被解释为二进制补码有符号值。")]),e._v(" "),n("h4",{attrs:{id:"buf-readbigint64le-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readbigint64le-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readBigInt64LE([offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreadbigint64leoffset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readbigint64le_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v12.0.0")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足："),n("code",[e._v("0 <= offset <= buf.length - 8")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/gJMq1y",target:"_blank",rel:"noopener noreferrer"}},[n("bigint",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定的 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取有符号的小端序 64 位整数。")]),e._v(" "),n("p",[e._v("从 "),n("code",[e._v("Buffer")]),e._v(" 读取的整数被解释为二进制补码有符号值。")]),e._v(" "),n("h4",{attrs:{id:"buf-readbiguint64be-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readbiguint64be-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readBigUInt64BE([offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreadbiguint64beoffset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readbiguint64be_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足："),n("code",[e._v("0 <= offset <= buf.length - 8")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/gJMq1y",target:"_blank",rel:"noopener noreferrer"}},[n("bigint",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定的 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取无符号的大端序 64 位整数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([0x00, 0x00, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff]);\n\nconsole.log(buf.readBigUInt64BE(0));\n// 打印: 4294967295n\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br")])]),n("h4",{attrs:{id:"buf-readbiguint64le-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readbiguint64le-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readBigUInt64LE([offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreadbiguint64leoffset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readbiguint64le_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足："),n("code",[e._v("0 <= offset <= buf.length - 8")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/gJMq1y",target:"_blank",rel:"noopener noreferrer"}},[n("bigint",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定的 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取无符号的小端序 64 位整数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([0x00, 0x00, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff]);\n\nconsole.log(buf.readBigUInt64LE(0));\n// 打印: 18446744069414584320n\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br")])]),n("h4",{attrs:{id:"buf-readdoublebe-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readdoublebe-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readDoubleBE([offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreaddoublebeoffset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readdoublebe_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 8")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("number",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取 64 位大端序双精度值。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([1, 2, 3, 4, 5, 6, 7, 8]);\n\nconsole.log(buf.readDoubleBE(0));\n// 打印: 8.20788039913184e-304\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br")])]),n("h4",{attrs:{id:"buf-readdoublele-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readdoublele-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readDoubleLE([offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreaddoubleleoffset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readdoublele_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 8")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("number",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取 64 位小端序双精度值。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([1, 2, 3, 4, 5, 6, 7, 8]);\n\nconsole.log(buf.readDoubleLE(0));\n// 打印: 5.447603722011605e-270\nconsole.log(buf.readDoubleLE(1));\n// 抛出 ERR_OUT_OF_RANGE。\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-readfloatbe-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readfloatbe-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readFloatBE([offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreadfloatbeoffset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readfloatbe_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 4")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("number",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取 32 位大端序浮点数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([1, 2, 3, 4]);\n\nconsole.log(buf.readFloatBE(0));\n// 打印: 2.387939260590663e-38\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br")])]),n("h4",{attrs:{id:"buf-readfloatle-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readfloatle-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readFloatLE([offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreadfloatleoffset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readfloatle_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 4")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("number",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取 32 位小端序浮点数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([1, 2, 3, 4]);\n\nconsole.log(buf.readFloatLE(0));\n// 打印: 1.539989614439558e-36\nconsole.log(buf.readFloatLE(1));\n// 抛出 ERR_OUT_OF_RANGE。\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-readint8-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readint8-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readInt8([offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreadint8offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readint8_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 1")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定的 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取有符号的 8 位整数。")]),e._v(" "),n("p",[e._v("从 "),n("code",[e._v("Buffer")]),e._v(" 读取的整数被解释为二进制补码有符号值。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([-1, 5]);\n\nconsole.log(buf.readInt8(0));\n// 打印: -1\nconsole.log(buf.readInt8(1));\n// 打印: 5\nconsole.log(buf.readInt8(2));\n// 抛出 ERR_OUT_OF_RANGE。\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br")])]),n("h4",{attrs:{id:"buf-readint16be-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readint16be-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readInt16BE([offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreadint16beoffset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readint16be_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 2")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定的 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取有符号的大端序 16 位整数。")]),e._v(" "),n("p",[e._v("从 "),n("code",[e._v("Buffer")]),e._v(" 读取的整数被解释为二进制补码有符号值。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([0, 5]);\n\nconsole.log(buf.readInt16BE(0));\n// 打印: 5\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br")])]),n("h4",{attrs:{id:"buf-readint16le-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readint16le-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readInt16LE([offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreadint16leoffset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readint16le_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 2")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定的 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取有符号的小端序 16 位整数。")]),e._v(" "),n("p",[e._v("从 "),n("code",[e._v("Buffer")]),e._v(" 读取的整数被解释为二进制补码有符号值。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([0, 5]);\n\nconsole.log(buf.readInt16LE(0));\n// 打印: 1280\nconsole.log(buf.readInt16LE(1));\n// 抛出 ERR_OUT_OF_RANGE。\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-readint32be-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readint32be-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readInt32BE([offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreadint32beoffset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readint32be_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 4")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定的 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取有符号的大端序 32 位整数。")]),e._v(" "),n("p",[e._v("从 "),n("code",[e._v("Buffer")]),e._v(" 读取的整数被解释为二进制补码有符号值。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([0, 0, 0, 5]);\n\nconsole.log(buf.readInt32BE(0));\n// 打印: 5\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br")])]),n("h4",{attrs:{id:"buf-readint32le-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readint32le-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readInt32LE([offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreadint32leoffset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readint32le_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 4")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定的 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取有符号的小端序 32 位整数。")]),e._v(" "),n("p",[e._v("从 "),n("code",[e._v("Buffer")]),e._v(" 读取的整数被解释为二进制补码有符号值。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([0, 0, 0, 5]);\n\nconsole.log(buf.readInt32LE(0));\n// 打印: 83886080\nconsole.log(buf.readInt32LE(1));\n// 抛出 ERR_OUT_OF_RANGE。\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-readintbe-offset-bytelength"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readintbe-offset-bytelength"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readIntBE(offset, byteLength)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreadintbeoffset-bytelength",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readintbe_offset_bytelength.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - byteLength")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("byteLength")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要读取的字节数。 必须满足 "),n("code",[e._v("0 < byteLength <= 6")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定的 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取 "),n("code",[e._v("byteLength")]),e._v(" 个字节，并将结果解释为支持最高 48 位精度的大端序、二进制补码有符号值。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([0x12, 0x34, 0x56, 0x78, 0x90, 0xab]);\n\nconsole.log(buf.readIntBE(0, 6).toString(16));\n// 打印: 1234567890ab\nconsole.log(buf.readIntBE(1, 6).toString(16));\n// 抛出 ERR_OUT_OF_RANGE。\nconsole.log(buf.readIntBE(1, 0).toString(16));\n// 抛出 ERR_OUT_OF_RANGE。\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br")])]),n("h4",{attrs:{id:"buf-readintle-offset-bytelength"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readintle-offset-bytelength"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readIntLE(offset, byteLength)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreadintleoffset-bytelength",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readintle_offset_bytelength.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - byteLength")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("byteLength")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要读取的字节数。 必须满足 "),n("code",[e._v("0 < byteLength <= 6")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定的 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取 "),n("code",[e._v("byteLength")]),e._v(" 个字节，并将结果解释为支持最高 48 位精度的小端序、二进制补码有符号值。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([0x12, 0x34, 0x56, 0x78, 0x90, 0xab]);\n\nconsole.log(buf.readIntLE(0, 6).toString(16));\n// 打印: -546f87a9cbee\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br")])]),n("h4",{attrs:{id:"buf-readuint8-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readuint8-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readUInt8([offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreaduint8offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readuint8_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 1")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取无符号 8 位整数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([1, -2]);\n\nconsole.log(buf.readUInt8(0));\n// 打印: 1\nconsole.log(buf.readUInt8(1));\n// 打印: 254\nconsole.log(buf.readUInt8(2));\n// 抛出 ERR_OUT_OF_RANGE。\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br")])]),n("h4",{attrs:{id:"buf-readuint16be-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readuint16be-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readUInt16BE([offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreaduint16beoffset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readuint16be_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 2")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定的 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取无符号的大端序 16 位整数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([0x12, 0x34, 0x56]);\n\nconsole.log(buf.readUInt16BE(0).toString(16));\n// 打印: 1234\nconsole.log(buf.readUInt16BE(1).toString(16));\n// 打印: 3456\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-readuint16le-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readuint16le-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readUInt16LE([offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreaduint16leoffset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readuint16le_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 2")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定的 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取无符号的小端序 16 位整数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([0x12, 0x34, 0x56]);\n\nconsole.log(buf.readUInt16LE(0).toString(16));\n// 打印: 3412\nconsole.log(buf.readUInt16LE(1).toString(16));\n// 打印: 5634\nconsole.log(buf.readUInt16LE(2).toString(16));\n// 抛出 ERR_OUT_OF_RANGE。\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br")])]),n("h4",{attrs:{id:"buf-readuint32be-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readuint32be-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readUInt32BE([offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreaduint32beoffset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readuint32be_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 4")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定的 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取无符号的大端序 32 位整数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([0x12, 0x34, 0x56, 0x78]);\n\nconsole.log(buf.readUInt32BE(0).toString(16));\n// 打印: 12345678\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br")])]),n("h4",{attrs:{id:"buf-readuint32le-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readuint32le-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readUInt32LE([offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreaduint32leoffset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readuint32le_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 4")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定的 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取无符号的小端序 32 位整数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([0x12, 0x34, 0x56, 0x78]);\n\nconsole.log(buf.readUInt32LE(0).toString(16));\n// 打印: 78563412\nconsole.log(buf.readUInt32LE(1).toString(16));\n// 抛出 ERR_OUT_OF_RANGE。\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-readuintbe-offset-bytelength"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readuintbe-offset-bytelength"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readUIntBE(offset, byteLength)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreaduintbeoffset-bytelength",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readuintbe_offset_bytelength.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - byteLength")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("byteLength")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要读取的字节数。 必须满足 "),n("code",[e._v("0 < byteLength <= 6")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定的 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取 "),n("code",[e._v("byteLength")]),e._v(" 个字节，并将结果解释为支持最高 48 位精度的无符号大端序整数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([0x12, 0x34, 0x56, 0x78, 0x90, 0xab]);\n\nconsole.log(buf.readUIntBE(0, 6).toString(16));\n// 打印: 1234567890ab\nconsole.log(buf.readUIntBE(1, 6).toString(16));\n// 抛出 ERR_OUT_OF_RANGE。\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-readuintle-offset-bytelength"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-readuintle-offset-bytelength"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.readUIntLE(offset, byteLength)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufreaduintleoffset-bytelength",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_readuintle_offset_bytelength.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始读取之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - byteLength")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("byteLength")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要读取的字节数。 必须满足 "),n("code",[e._v("0 < byteLength <= 6")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("从指定的 "),n("code",[e._v("offset")]),e._v(" 处的 "),n("code",[e._v("buf")]),e._v(" 读取 "),n("code",[e._v("byteLength")]),e._v(" 个字节，并将结果解释为支持最高 48 位精度的无符号小端序整数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from([0x12, 0x34, 0x56, 0x78, 0x90, 0xab]);\n\nconsole.log(buf.readUIntLE(0, 6).toString(16));\n// 打印: ab9078563412\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br")])]),n("h4",{attrs:{id:"buf-subarray-start-end"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-subarray-start-end"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.subarray([start[, end]])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufsubarraystart-end",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_subarray_start_end.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v3.0.0")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("start")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 新的 "),n("code",[e._v("Buffer")]),e._v(" 将开始的位置。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("end")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 新的 "),n("code",[e._v("Buffer")]),e._v(" 将结束的位置（不包括在内）。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.length")]),n("OutboundLink")],1),e._v(".")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("返回新的 "),n("code",[e._v("Buffer")]),e._v("，其引用与原始缓冲区相同的内存，但由 "),n("code",[e._v("start")]),e._v(" 和 "),n("code",[e._v("end")]),e._v(" 索引进行偏移和裁剪。")]),e._v(" "),n("p",[e._v("指定 "),n("code",[e._v("end")]),e._v(" 大于 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.length")]),n("OutboundLink")],1),e._v(" 将返回与 "),n("code",[e._v("end")]),e._v(" 等于 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.length")]),n("OutboundLink")],1),e._v(" 相同的结果。")]),e._v(" "),n("p",[e._v("该方法继承自 "),n("a",{attrs:{href:"http://url.nodejs.cn/tNCCFf",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("TypedArray#subarray()")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("p",[e._v("修改新的 "),n("code",[e._v("Buffer")]),e._v(" 切片会修改原来 "),n("code",[e._v("Buffer")]),e._v(" 中的内存，因为两个对象分配的内存是重叠的。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("// 用 ASCII 字母创建 `Buffer`，取一个切片，并从原来的 `Buffer` 修改一个字节。\n\nconst buf1 = Buffer.allocUnsafe(26);\n\nfor (let i = 0; i < 26; i++) {\n  // 97 是 'a' 的十进制 ASCII 值。\n  buf1[i] = i + 97;\n}\n\nconst buf2 = buf1.subarray(0, 3);\n\nconsole.log(buf2.toString('ascii', 0, buf2.length));\n// 打印: abc\n\nbuf1[0] = 33;\n\nconsole.log(buf2.toString('ascii', 0, buf2.length));\n// 打印: !bc\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br"),n("span",{staticClass:"line-number"},[e._v("18")]),n("br")])]),n("p",[e._v("指定负索引会导致相对于 "),n("code",[e._v("buf")]),e._v(" 的末尾而不是开头生成切片。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from('buffer');\n\nconsole.log(buf.subarray(-6, -1).toString());\n// 打印: buffe\n// (相当于 buf.subarray(0, 5).)\n\nconsole.log(buf.subarray(-6, -2).toString());\n// 打印: buff\n// (相当于 buf.subarray(0, 4).)\n\nconsole.log(buf.subarray(-5, -2).toString());\n// 打印: uff\n// (相当于 buf.subarray(1, 4).)\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br")])]),n("h4",{attrs:{id:"buf-slice-start-end"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-slice-start-end"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.slice([start[, end]])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufslicestart-end",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_slice_start_end.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("start")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 新的 "),n("code",[e._v("Buffer")]),e._v(" 将开始的位置。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("end")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 新的 "),n("code",[e._v("Buffer")]),e._v(" 将结束的位置（不包括在内）。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.length")]),n("OutboundLink")],1),e._v(".")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("返回新的 "),n("code",[e._v("Buffer")]),e._v("，其引用与原始缓冲区相同的内存，但由 "),n("code",[e._v("start")]),e._v(" 和 "),n("code",[e._v("end")]),e._v(" 索引进行偏移和裁剪。")]),e._v(" "),n("p",[e._v("这与 "),n("code",[e._v("buf.subarray()")]),e._v(" 的行为相同。")]),e._v(" "),n("p",[e._v("此方法与 "),n("code",[e._v("Uint8Array.prototype.slice()")]),e._v("（"),n("code",[e._v("Buffer")]),e._v(" 的超类）不兼容。 要复制切片，则使用 "),n("code",[e._v("Uint8Array.prototype.slice()")]),e._v("。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from('buffer');\n\nconst copiedBuf = Uint8Array.prototype.slice.call(buf);\ncopiedBuf[0]++;\nconsole.log(copiedBuf.toString());\n// 打印: cuffer\n\nconsole.log(buf.toString());\n// 打印: buffer\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br")])]),n("h4",{attrs:{id:"buf-swap16"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-swap16"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.swap16()")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufswap16",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_swap16.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v5.10.0")]),e._v(" "),n("ul",[n("li",[e._v("返回: "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("buf")]),e._v(" 的引用。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("buf")]),e._v(" 解释为无符号 16 位整数数组，并就地交换字节顺序。 如果 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.length")]),n("OutboundLink")],1),e._v(" 不是 2 的倍数，则抛出 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/errors.html#ERR_INVALID_BUFFER_SIZE",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("ERR_INVALID_BUFFER_SIZE")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf1 = Buffer.from([0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8]);\n\nconsole.log(buf1);\n// 打印: <Buffer 01 02 03 04 05 06 07 08>\n\nbuf1.swap16();\n\nconsole.log(buf1);\n// 打印: <Buffer 02 01 04 03 06 05 08 07>\n\nconst buf2 = Buffer.from([0x1, 0x2, 0x3]);\n\nbuf2.swap16();\n// 抛出 ERR_INVALID_BUFFER_SIZE。\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br")])]),n("p",[n("code",[e._v("buf.swap16()")]),e._v(" 的一种方便用法是在 UTF-16 小端序和 UTF-16 大端序之间执行快速就地转换：")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from('This is little-endian UTF-16', 'utf16le');\nbuf.swap16(); // 转换为大端序 UTF-16 文本。\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br")])]),n("h4",{attrs:{id:"buf-swap32"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-swap32"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.swap32()")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufswap32",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_swap32.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v5.10.0")]),e._v(" "),n("ul",[n("li",[e._v("返回: "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("buf")]),e._v(" 的引用。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("buf")]),e._v(" 解释为无符号 32 位整数数组，并就地交换字节顺序。 如果 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.length")]),n("OutboundLink")],1),e._v(" 不是 4 的倍数，则抛出 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/errors.html#ERR_INVALID_BUFFER_SIZE",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("ERR_INVALID_BUFFER_SIZE")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf1 = Buffer.from([0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8]);\n\nconsole.log(buf1);\n// 打印: <Buffer 01 02 03 04 05 06 07 08>\n\nbuf1.swap32();\n\nconsole.log(buf1);\n// 打印: <Buffer 04 03 02 01 08 07 06 05>\n\nconst buf2 = Buffer.from([0x1, 0x2, 0x3]);\n\nbuf2.swap32();\n// 抛出 ERR_INVALID_BUFFER_SIZE。\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br")])]),n("h4",{attrs:{id:"buf-swap64"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-swap64"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.swap64()")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufswap64",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_swap64.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v6.3.0")]),e._v(" "),n("ul",[n("li",[e._v("返回: "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("buf")]),e._v(" 的引用。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("buf")]),e._v(" 解释为 64 位数字数组，并就地交换字节顺序。 如果 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.length")]),n("OutboundLink")],1),e._v(" 不是 8 的倍数，则抛出 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/errors.html#ERR_INVALID_BUFFER_SIZE",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("ERR_INVALID_BUFFER_SIZE")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf1 = Buffer.from([0x1, 0x2, 0x3, 0x4, 0x5, 0x6, 0x7, 0x8]);\n\nconsole.log(buf1);\n// 打印: <Buffer 01 02 03 04 05 06 07 08>\n\nbuf1.swap64();\n\nconsole.log(buf1);\n// 打印: <Buffer 08 07 06 05 04 03 02 01>\n\nconst buf2 = Buffer.from([0x1, 0x2, 0x3]);\n\nbuf2.swap64();\n// 抛出 ERR_INVALID_BUFFER_SIZE。\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br")])]),n("h4",{attrs:{id:"buf-tojson"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-tojson"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.toJSON()")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buftojson",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_tojson.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v0.9.2")]),e._v(" "),n("ul",[n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/jzn6Ao",target:"_blank",rel:"noopener noreferrer"}},[n("Object",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("返回 "),n("code",[e._v("buf")]),e._v(" 的 JSON 表示。 "),n("a",{attrs:{href:"http://url.nodejs.cn/bmLTNS",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("JSON.stringify()")]),n("OutboundLink")],1),e._v(" 在字符串化 "),n("code",[e._v("Buffer")]),e._v(" 实例时隐式调用此函数。")]),e._v(" "),n("p",[n("code",[e._v("Buffer.from()")]),e._v(" 接受从此方法返回的格式的对象。 特别是，"),n("code",[e._v("Buffer.from(buf.toJSON())")]),e._v(" 的工作方式类似于 "),n("code",[e._v("Buffer.from(buf)")]),e._v("。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('const buf = Buffer.from([0x1, 0x2, 0x3, 0x4, 0x5]);\nconst json = JSON.stringify(buf);\n\nconsole.log(json);\n// 打印: {"type":"Buffer","data":[1,2,3,4,5]}\n\nconst copy = JSON.parse(json, (key, value) => {\n  return value && value.type === \'Buffer\' ?\n    Buffer.from(value) :\n    value;\n});\n\nconsole.log(copy);\n// 打印: <Buffer 01 02 03 04 05>\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br")])]),n("h4",{attrs:{id:"buf-tostring-encoding-start-end"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-tostring-encoding-start-end"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.toString([encoding[, start[, end]]])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buftostringencoding-start-end",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_tostring_encoding_start_end.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v0.1.90")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("encoding")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" 要使用的字符编码。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("'utf8'")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("start")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始解码的字节偏移量。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("end")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 停止解码的字节偏移量（不包括在内）。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.length")]),n("OutboundLink")],1),e._v(".")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("根据 "),n("code",[e._v("encoding")]),e._v(" 中指定的字符编码将 "),n("code",[e._v("buf")]),e._v(" 解码为字符串。 "),n("code",[e._v("start")]),e._v(" 和 "),n("code",[e._v("end")]),e._v(" 可以传入仅解码 "),n("code",[e._v("buf")]),e._v(" 的子集。")]),e._v(" "),n("p",[e._v("如果 "),n("code",[e._v("encoding")]),e._v(" 是 "),n("code",[e._v("'utf8'")]),e._v(" 并且输入中的字节序列不是有效的 UTF-8，则每个无效字节都将替换为替换字符 "),n("code",[e._v("U+FFFD")]),e._v("。")]),e._v(" "),n("p",[e._v("字符串实例（以 UTF-16 代码单元表示）的最大长度可用作 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buffer_constants_max_string_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buffer.constants.MAX_STRING_LENGTH")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf1 = Buffer.allocUnsafe(26);\n\nfor (let i = 0; i < 26; i++) {\n  // 97 是 'a' 的十进制 ASCII 值。\n  buf1[i] = i + 97;\n}\n\nconsole.log(buf1.toString('utf8'));\n// 打印: abcdefghijklmnopqrstuvwxyz\nconsole.log(buf1.toString('utf8', 0, 5));\n// 打印: abcde\n\nconst buf2 = Buffer.from('tést');\n\nconsole.log(buf2.toString('hex'));\n// 打印: 74c3a97374\nconsole.log(buf2.toString('utf8', 0, 3));\n// 打印: té\nconsole.log(buf2.toString(undefined, 0, 3));\n// 打印: té\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br"),n("span",{staticClass:"line-number"},[e._v("18")]),n("br"),n("span",{staticClass:"line-number"},[e._v("19")]),n("br"),n("span",{staticClass:"line-number"},[e._v("20")]),n("br")])]),n("h4",{attrs:{id:"buf-values"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-values"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.values()")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufvalues",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_values.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v1.1.0")]),e._v(" "),n("ul",[n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/Y2SE1q",target:"_blank",rel:"noopener noreferrer"}},[n("Iterator",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("为 "),n("code",[e._v("buf")]),e._v(" 值（字节）创建并返回"),n("a",{attrs:{href:"http://url.nodejs.cn/KK7Xfc",target:"_blank",rel:"noopener noreferrer"}},[e._v("迭代器"),n("OutboundLink")],1),e._v("。 当在 "),n("code",[e._v("for..of")]),e._v(" 语句中使用 "),n("code",[e._v("Buffer")]),e._v(" 时，会自动调用此函数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.from('buffer');\n\nfor (const value of buf.values()) {\n  console.log(value);\n}\n// 打印:\n//   98\n//   117\n//   102\n//   102\n//   101\n//   114\n\nfor (const value of buf) {\n  console.log(value);\n}\n// 打印:\n//   98\n//   117\n//   102\n//   102\n//   101\n//   114\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br"),n("span",{staticClass:"line-number"},[e._v("18")]),n("br"),n("span",{staticClass:"line-number"},[e._v("19")]),n("br"),n("span",{staticClass:"line-number"},[e._v("20")]),n("br"),n("span",{staticClass:"line-number"},[e._v("21")]),n("br"),n("span",{staticClass:"line-number"},[e._v("22")]),n("br"),n("span",{staticClass:"line-number"},[e._v("23")]),n("br")])]),n("h4",{attrs:{id:"buf-write-string-offset-length-encoding"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-write-string-offset-length-encoding"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.write(string[, offset[, length]][, encoding])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwritestring-offset-length-encoding",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_write_string_offset_length_encoding.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v0.1.90")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("string")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的字符串。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入 "),n("code",[e._v("string")]),e._v(" 之前要跳过的字节数。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("length")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要写入的最大字节数（写入的字节数不会超过 "),n("code",[e._v("buf.length - offset")]),e._v("）。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("buf.length - offset")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("encoding")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("string")]),e._v(" 的字符编码。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("'utf8'")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 写入的字节数。")])]),e._v(" "),n("p",[e._v("根据 "),n("code",[e._v("encoding")]),e._v(" 中的字符编码将 "),n("code",[e._v("string")]),e._v(" 写入 "),n("code",[e._v("buf")]),e._v(" 的 "),n("code",[e._v("offset")]),e._v(" 处。 "),n("code",[e._v("length")]),e._v(" 参数是要写入的字节数。 如果 "),n("code",[e._v("buf")]),e._v(" 没有足够的空间来容纳整个字符串，则只会写入 "),n("code",[e._v("string")]),e._v(" 的一部分。 但是，不会写入部分编码的字符。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.alloc(256);\n\nconst len = buf.write('\\u00bd + \\u00bc = \\u00be', 0);\n\nconsole.log(`${len} bytes: ${buf.toString('utf8', 0, len)}`);\n// 打印: 12 bytes: ½ + ¼ = ¾\n\nconst buffer = Buffer.alloc(10);\n\nconst length = buffer.write('abcd', 8);\n\nconsole.log(`${length} bytes: ${buffer.toString('utf8', 8, 10)}`);\n// 打印: 2 bytes : ab\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br")])]),n("h4",{attrs:{id:"buf-writebigint64be-value-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writebigint64be-value-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeBigInt64BE(value[, offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwritebigint64bevalue-offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writebigint64be_value_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v12.0.0")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/gJMq1y",target:"_blank",rel:"noopener noreferrer"}},[n("bigint",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足："),n("code",[e._v("0 <= offset <= buf.length - 8")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 作为大端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。")]),e._v(" "),n("p",[n("code",[e._v("value")]),e._v(" 被解释和写入为二进制补码有符号整数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(8);\n\nbuf.writeBigInt64BE(0x0102030405060708n, 0);\n\nconsole.log(buf);\n// 打印: <Buffer 01 02 03 04 05 06 07 08>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-writebigint64le-value-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writebigint64le-value-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeBigInt64LE(value[, offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwritebigint64levalue-offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writebigint64le_value_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v12.0.0, v10.20.0")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/gJMq1y",target:"_blank",rel:"noopener noreferrer"}},[n("bigint",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足："),n("code",[e._v("0 <= offset <= buf.length - 8")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 作为小端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。")]),e._v(" "),n("p",[n("code",[e._v("value")]),e._v(" 被解释和写入为二进制补码有符号整数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(8);\n\nbuf.writeBigInt64LE(0x0102030405060708n, 0);\n\nconsole.log(buf);\n// 打印: <Buffer 08 07 06 05 04 03 02 01>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-writebiguint64be-value-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writebiguint64be-value-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeBigUInt64BE(value[, offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwritebiguint64bevalue-offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writebiguint64be_value_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/gJMq1y",target:"_blank",rel:"noopener noreferrer"}},[n("bigint",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足："),n("code",[e._v("0 <= offset <= buf.length - 8")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 作为大端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(8);\n\nbuf.writeBigUInt64BE(0xdecafafecacefaden, 0);\n\nconsole.log(buf);\n// 打印: <Buffer de ca fa fe ca ce fa de>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-writebiguint64le-value-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writebiguint64le-value-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeBigUInt64LE(value[, offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwritebiguint64levalue-offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writebiguint64le_value_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/gJMq1y",target:"_blank",rel:"noopener noreferrer"}},[n("bigint",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足："),n("code",[e._v("0 <= offset <= buf.length - 8")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 作为小端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(8);\n\nbuf.writeBigUInt64LE(0xdecafafecacefaden, 0);\n\nconsole.log(buf);\n// 打印: <Buffer de fa ce ca fe fa ca de>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-writedoublebe-value-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writedoublebe-value-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeDoubleBE(value[, offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwritedoublebevalue-offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writedoublebe_value_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("number",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 8")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 作为大端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。 "),n("code",[e._v("value")]),e._v(" 必须是 JavaScript 数字 当 "),n("code",[e._v("value")]),e._v(" 不是 JavaScript 数字时，则行为未定义。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(8);\n\nbuf.writeDoubleBE(123.456, 0);\n\nconsole.log(buf);\n// 打印: <Buffer 40 5e dd 2f 1a 9f be 77>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-writedoublele-value-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writedoublele-value-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeDoubleLE(value[, offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwritedoublelevalue-offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writedoublele_value_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("number",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 8")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 作为小端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。 "),n("code",[e._v("value")]),e._v(" 必须是 JavaScript 数字 当 "),n("code",[e._v("value")]),e._v(" 不是 JavaScript 数字时，则行为未定义。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(8);\n\nbuf.writeDoubleLE(123.456, 0);\n\nconsole.log(buf);\n// 打印: <Buffer 77 be 9f 1a 2f dd 5e 40>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-writefloatbe-value-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writefloatbe-value-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeFloatBE(value[, offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwritefloatbevalue-offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writefloatbe_value_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("number",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 4")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 作为大端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。 当 "),n("code",[e._v("value")]),e._v(" 不是 JavaScript 数字时，则行为未定义。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(4);\n\nbuf.writeFloatBE(0xcafebabe, 0);\n\nconsole.log(buf);\n// 打印: <Buffer 4f 4a fe bb>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-writefloatle-value-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writefloatle-value-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeFloatLE(value[, offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwritefloatlevalue-offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writefloatle_value_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("number",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 4")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 作为小端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。 当 "),n("code",[e._v("value")]),e._v(" 不是 JavaScript 数字时，则行为未定义。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(4);\n\nbuf.writeFloatLE(0xcafebabe, 0);\n\nconsole.log(buf);\n// 打印: <Buffer bb fe 4a 4f>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-writeint8-value-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writeint8-value-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeInt8(value[, offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwriteint8value-offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writeint8_value_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 1")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。 "),n("code",[e._v("value")]),e._v(" 必须是有效的有符号 8 位整数。 当 "),n("code",[e._v("value")]),e._v(" 不是有符号的 8 位整数时，则行为未定义。")]),e._v(" "),n("p",[n("code",[e._v("value")]),e._v(" 被解释和写入为二进制补码有符号整数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(2);\n\nbuf.writeInt8(2, 0);\nbuf.writeInt8(-2, 1);\n\nconsole.log(buf);\n// 打印: <Buffer 02 fe>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br")])]),n("h4",{attrs:{id:"buf-writeint16be-value-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writeint16be-value-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeInt16BE(value[, offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwriteint16bevalue-offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writeint16be_value_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 2")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 作为大端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。 "),n("code",[e._v("value")]),e._v(" 必须是有效的有符号 16 位整数。 当 "),n("code",[e._v("value")]),e._v(" 不是有符号的 16 位整数时，则行为未定义。")]),e._v(" "),n("p",[n("code",[e._v("value")]),e._v(" 被解释和写入为二进制补码有符号整数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(2);\n\nbuf.writeInt16BE(0x0102, 0);\n\nconsole.log(buf);\n// 打印: <Buffer 01 02>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-writeint16le-value-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writeint16le-value-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeInt16LE(value[, offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwriteint16levalue-offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writeint16le_value_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 2")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 作为小端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。 "),n("code",[e._v("value")]),e._v(" 必须是有效的有符号 16 位整数。 当 "),n("code",[e._v("value")]),e._v(" 不是有符号的 16 位整数时，则行为未定义。")]),e._v(" "),n("p",[n("code",[e._v("value")]),e._v(" 被解释和写入为二进制补码有符号整数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(2);\n\nbuf.writeInt16LE(0x0304, 0);\n\nconsole.log(buf);\n// 打印: <Buffer 04 03>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-writeint32be-value-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writeint32be-value-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeInt32BE(value[, offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwriteint32bevalue-offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writeint32be_value_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 4")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 作为大端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。 "),n("code",[e._v("value")]),e._v(" 必须是有效的有符号 32 位整数。 当 "),n("code",[e._v("value")]),e._v(" 不是有符号的 32 位整数时，则行为未定义。")]),e._v(" "),n("p",[n("code",[e._v("value")]),e._v(" 被解释和写入为二进制补码有符号整数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(4);\n\nbuf.writeInt32BE(0x01020304, 0);\n\nconsole.log(buf);\n// 打印: <Buffer 01 02 03 04>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-writeint32le-value-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writeint32le-value-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeInt32LE(value[, offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwriteint32levalue-offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writeint32le_value_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 4")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 作为小端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。 "),n("code",[e._v("value")]),e._v(" 必须是有效的有符号 32 位整数。 当 "),n("code",[e._v("value")]),e._v(" 不是有符号的 32 位整数时，则行为未定义。")]),e._v(" "),n("p",[n("code",[e._v("value")]),e._v(" 被解释和写入为二进制补码有符号整数。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(4);\n\nbuf.writeInt32LE(0x05060708, 0);\n\nconsole.log(buf);\n// 打印: <Buffer 08 07 06 05>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-writeintbe-value-offset-bytelength"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writeintbe-value-offset-bytelength"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeIntBE(value, offset, byteLength)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwriteintbevalue-offset-bytelength",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writeintbe_value_offset_bytelength.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - byteLength")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("byteLength")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要写入的字节数。 必须满足 "),n("code",[e._v("0 < byteLength <= 6")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 的 "),n("code",[e._v("byteLength")]),e._v(" 个字节作为大端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。 支持最高 48 位的精度。 当 "),n("code",[e._v("value")]),e._v(" 不是有符号整数时，则行为未定义。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(6);\n\nbuf.writeIntBE(0x1234567890ab, 0, 6);\n\nconsole.log(buf);\n// 打印: <Buffer 12 34 56 78 90 ab>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-writeintle-value-offset-bytelength"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writeintle-value-offset-bytelength"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeIntLE(value, offset, byteLength)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwriteintlevalue-offset-bytelength",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writeintle_value_offset_bytelength.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - byteLength")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("byteLength")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要写入的字节数。 必须满足 "),n("code",[e._v("0 < byteLength <= 6")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 的 "),n("code",[e._v("byteLength")]),e._v(" 个字节作为小端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。 支持最高 48 位的精度。 当 "),n("code",[e._v("value")]),e._v(" 不是有符号整数时，则行为未定义。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(6);\n\nbuf.writeIntLE(0x1234567890ab, 0, 6);\n\nconsole.log(buf);\n// 打印: <Buffer ab 90 78 56 34 12>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-writeuint8-value-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writeuint8-value-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeUInt8(value[, offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwriteuint8value-offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writeuint8_value_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 1")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。 "),n("code",[e._v("value")]),e._v(" 必须是有效的无符号 8 位整数。 当 "),n("code",[e._v("value")]),e._v(" 不是无符号 8 位整数时，则行为未定义。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(4);\n\nbuf.writeUInt8(0x3, 0);\nbuf.writeUInt8(0x4, 1);\nbuf.writeUInt8(0x23, 2);\nbuf.writeUInt8(0x42, 3);\n\nconsole.log(buf);\n// 打印: <Buffer 03 04 23 42>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br")])]),n("h4",{attrs:{id:"buf-writeuint16be-value-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writeuint16be-value-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeUInt16BE(value[, offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwriteuint16bevalue-offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writeuint16be_value_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 2")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 作为大端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。 "),n("code",[e._v("value")]),e._v(" 必须是有效的无符号 16 位整数。 当 "),n("code",[e._v("value")]),e._v(" 不是无符号 16 位整数时，则行为未定义。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(4);\n\nbuf.writeUInt16BE(0xdead, 0);\nbuf.writeUInt16BE(0xbeef, 2);\n\nconsole.log(buf);\n// 打印: <Buffer de ad be ef>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br")])]),n("h4",{attrs:{id:"buf-writeuint16le-value-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writeuint16le-value-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeUInt16LE(value[, offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwriteuint16levalue-offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writeuint16le_value_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 2")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 作为小端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。 "),n("code",[e._v("value")]),e._v(" 必须是有效的无符号 16 位整数。 当 "),n("code",[e._v("value")]),e._v(" 不是无符号 16 位整数时，则行为未定义。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(4);\n\nbuf.writeUInt16LE(0xdead, 0);\nbuf.writeUInt16LE(0xbeef, 2);\n\nconsole.log(buf);\n// 打印: <Buffer ad de ef be>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br")])]),n("h4",{attrs:{id:"buf-writeuint32be-value-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writeuint32be-value-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeUInt32BE(value[, offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwriteuint32bevalue-offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writeuint32be_value_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 4")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 作为大端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。 "),n("code",[e._v("value")]),e._v(" 必须是有效的无符号 32 位整数。 当 "),n("code",[e._v("value")]),e._v(" 不是无符号 32 位整数时，则行为未定义。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(4);\n\nbuf.writeUInt32BE(0xfeedface, 0);\n\nconsole.log(buf);\n// 打印: <Buffer fe ed fa ce>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-writeuint32le-value-offset"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writeuint32le-value-offset"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeUInt32LE(value[, offset])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwriteuint32levalue-offset",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writeuint32le_value_offset.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - 4")]),e._v("。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 作为小端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。 "),n("code",[e._v("value")]),e._v(" 必须是有效的无符号 32 位整数。 当 "),n("code",[e._v("value")]),e._v(" 不是无符号 32 位整数时，则行为未定义。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(4);\n\nbuf.writeUInt32LE(0xfeedface, 0);\n\nconsole.log(buf);\n// 打印: <Buffer ce fa ed fe>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-writeuintbe-value-offset-bytelength"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writeuintbe-value-offset-bytelength"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeUIntBE(value, offset, byteLength)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwriteuintbevalue-offset-bytelength",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writeuintbe_value_offset_bytelength.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - byteLength")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("byteLength")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要写入的字节数。 必须满足 "),n("code",[e._v("0 < byteLength <= 6")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 的 "),n("code",[e._v("byteLength")]),e._v(" 个字节作为大端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。 支持最高 48 位的精度。 当 "),n("code",[e._v("value")]),e._v(" 不是无符号整数时，则行为未定义。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(6);\n\nbuf.writeUIntBE(0x1234567890ab, 0, 6);\n\nconsole.log(buf);\n// 打印: <Buffer 12 34 56 78 90 ab>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"buf-writeuintle-value-offset-bytelength"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buf-writeuintle-value-offset-bytelength"}},[e._v("#")]),e._v(" "),n("code",[e._v("buf.writeUIntLE(value, offset, byteLength)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufwriteuintlevalue-offset-bytelength",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buf_writeuintle_value_offset_bytelength.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("value")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要写入 "),n("code",[e._v("buf")]),e._v(" 的数字。")]),e._v(" "),n("li",[n("code",[e._v("offset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 开始写入之前要跳过的字节数。 必须满足 "),n("code",[e._v("0 <= offset <= buf.length - byteLength")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("byteLength")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要写入的字节数。 必须满足 "),n("code",[e._v("0 < byteLength <= 6")]),e._v("。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("offset")]),e._v(" 加上写入的字节数。")])]),e._v(" "),n("p",[e._v("将 "),n("code",[e._v("value")]),e._v(" 的 "),n("code",[e._v("byteLength")]),e._v(" 个字节作为小端序写入 "),n("code",[e._v("buf")]),e._v(" 中指定的 "),n("code",[e._v("offset")]),e._v("。 支持最高 48 位的精度。 当 "),n("code",[e._v("value")]),e._v(" 不是无符号整数时，则行为未定义。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buf = Buffer.allocUnsafe(6);\n\nbuf.writeUIntLE(0x1234567890ab, 0, 6);\n\nconsole.log(buf);\n// 打印: <Buffer ab 90 78 56 34 12>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br")])]),n("h4",{attrs:{id:"new-buffer-array"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#new-buffer-array"}},[e._v("#")]),e._v(" "),n("code",[e._v("new Buffer(array)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#new-bufferarray",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/new_buffer_array.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("array")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[e._v("<integer[]>"),n("OutboundLink")],1),e._v(" 要从中复制的字节数组。")])]),e._v(" "),n("p",[e._v("参见 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_from_array",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.from(array)")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("h4",{attrs:{id:"new-buffer-arraybuffer-byteoffset-length"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#new-buffer-arraybuffer-byteoffset-length"}},[e._v("#")]),e._v(" "),n("code",[e._v("new Buffer(arrayBuffer[, byteOffset[, length]])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#new-bufferarraybuffer-byteoffset-length",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/new_buffer_arraybuffer_byteoffset_length.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("arrayBuffer")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/mUbfvF",target:"_blank",rel:"noopener noreferrer"}},[n("ArrayBuffer",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/6J6LBy",target:"_blank",rel:"noopener noreferrer"}},[n("SharedArrayBuffer",[n("OutboundLink")],1)],1),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/mUbfvF",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("ArrayBuffer")]),n("OutboundLink")],1),e._v("、"),n("a",{attrs:{href:"http://url.nodejs.cn/6J6LBy",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("SharedArrayBuffer")]),n("OutboundLink")],1),e._v("、或 "),n("a",{attrs:{href:"http://url.nodejs.cn/oh3CkV",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("TypedArray")]),n("OutboundLink")],1),e._v(" 的 "),n("code",[e._v(".buffer")]),e._v(" 属性。")]),e._v(" "),n("li",[n("code",[e._v("byteOffset")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要暴露的第一个字节的索引。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("0")]),e._v("。")]),e._v(" "),n("li",[n("code",[e._v("length")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 要暴露的字节数。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("arrayBuffer.byteLength - byteOffset")]),e._v("。")])]),e._v(" "),n("p",[e._v("参见 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_from_arraybuffer_byteoffset_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.from(arrayBuffer[, byteOffset[, length]])")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("h4",{attrs:{id:"new-buffer-buffer"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#new-buffer-buffer"}},[e._v("#")]),e._v(" "),n("code",[e._v("new Buffer(buffer)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#new-bufferbuffer",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/new_buffer_buffer.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("buffer")]),e._v(" "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("Uint8Array",[n("OutboundLink")],1)],1),e._v(" 要从中复制数据的现有 "),n("code",[e._v("Buffer")]),e._v(" 或 "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Uint8Array")]),n("OutboundLink")],1),e._v("。")])]),e._v(" "),n("p",[e._v("参见 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_from_buffer",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.from(buffer)")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("h4",{attrs:{id:"new-buffer-size"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#new-buffer-size"}},[e._v("#")]),e._v(" "),n("code",[e._v("new Buffer(size)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#new-buffersize",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/new_buffer_size.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("size")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 新的 "),n("code",[e._v("Buffer")]),e._v(" 所需的长度。")])]),e._v(" "),n("p",[e._v("参见 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_alloc_size_fill_encoding",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.alloc()")]),n("OutboundLink")],1),e._v(" 和 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafe_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafe()")]),n("OutboundLink")],1),e._v("。 构造函数的此变体等效于 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_alloc_size_fill_encoding",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.alloc()")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("h4",{attrs:{id:"new-buffer-string-encoding"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#new-buffer-string-encoding"}},[e._v("#")]),e._v(" "),n("code",[e._v("new Buffer(string[, encoding])")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#new-bufferstring-encoding",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/new_buffer_string_encoding.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("string")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" 要编码的字符串。")]),e._v(" "),n("li",[n("code",[e._v("encoding")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("string")]),e._v(" 的编码。 "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("'utf8'")]),e._v("。")])]),e._v(" "),n("p",[e._v("参见 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_from_string_encoding",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.from(string[, encoding])")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("h3",{attrs:{id:"缓冲区模块-api"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#缓冲区模块-api"}},[e._v("#")]),e._v(" 缓冲区模块 API"),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer-module-apis",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buffer_module_apis.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("虽然 "),n("code",[e._v("Buffer")]),e._v(" 对象可作为全局对象使用，但还有其他与 "),n("code",[e._v("Buffer")]),e._v(" 相关的 API 仅可通过使用 "),n("code",[e._v("require('buffer')")]),e._v(" 访问的 "),n("code",[e._v("buffer")]),e._v(" 模块使用。")]),e._v(" "),n("h4",{attrs:{id:"buffer-inspect-max-bytes"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-inspect-max-bytes"}},[e._v("#")]),e._v(" "),n("code",[e._v("buffer.INSPECT_MAX_BYTES")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufferinspect_max_bytes",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buffer_inspect_max_bytes.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v0.5.4")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" "),n("strong",[e._v("默认值:")]),e._v(" "),n("code",[e._v("50")])])]),e._v(" "),n("p",[e._v("返回调用 "),n("code",[e._v("buf.inspect()")]),e._v(" 时将返回的最大字节数。 这可以被用户模块覆盖。 有关 "),n("code",[e._v("buf.inspect()")]),e._v(" 行为的更多详细信息，请参阅 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/util.html#util_util_inspect_object_options",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("util.inspect()")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("h4",{attrs:{id:"buffer-kmaxlength"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-kmaxlength"}},[e._v("#")]),e._v(" "),n("code",[e._v("buffer.kMaxLength")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufferkmaxlength",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buffer_kmaxlength.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v3.0.0")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 单个 "),n("code",[e._v("Buffer")]),e._v(" 实例允许的最大大小。")])]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buffer_constants_max_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buffer.constants.MAX_LENGTH")]),n("OutboundLink")],1),e._v(" 的别名。")]),e._v(" "),n("h4",{attrs:{id:"buffer-transcode-source-fromenc-toenc"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-transcode-source-fromenc-toenc"}},[e._v("#")]),e._v(" "),n("code",[e._v("buffer.transcode(source, fromEnc, toEnc)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffertranscodesource-fromenc-toenc",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buffer_transcode_source_fromenc_toenc.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("ul",[n("li",[n("code",[e._v("source")]),e._v(" "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1),e._v(" | "),n("a",{attrs:{href:"http://url.nodejs.cn/ZbDkpm",target:"_blank",rel:"noopener noreferrer"}},[n("Uint8Array",[n("OutboundLink")],1)],1),e._v(" "),n("code",[e._v("Buffer")]),e._v(" 或 "),n("code",[e._v("Uint8Array")]),e._v(" 实例。")]),e._v(" "),n("li",[n("code",[e._v("fromEnc")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" 当前编码。")]),e._v(" "),n("li",[n("code",[e._v("toEnc")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/9Tw2bK",target:"_blank",rel:"noopener noreferrer"}},[n("string",[n("OutboundLink")],1)],1),e._v(" 目标编码。")]),e._v(" "),n("li",[e._v("返回: "),n("a",{attrs:{href:"http://nodejs.cn/api/buffer.html#class-buffer",target:"_blank",rel:"noopener noreferrer"}},[n("Buffer",[n("OutboundLink")],1)],1)])]),e._v(" "),n("p",[e._v("将给定的 "),n("code",[e._v("Buffer")]),e._v(" 或 "),n("code",[e._v("Uint8Array")]),e._v(" 实例从一种字符编码重新编码为另一种。 返回新的 "),n("code",[e._v("Buffer")]),e._v(" 实例。")]),e._v(" "),n("p",[e._v("如果 "),n("code",[e._v("fromEnc")]),e._v(" 或 "),n("code",[e._v("toEnc")]),e._v(" 指定无效的字符编码或不允许从 "),n("code",[e._v("fromEnc")]),e._v(" 转换为 "),n("code",[e._v("toEnc")]),e._v("，则抛出错误。")]),e._v(" "),n("p",[n("code",[e._v("buffer.transcode()")]),e._v(" 支持的编码有："),n("code",[e._v("'ascii'")]),e._v("、"),n("code",[e._v("'utf8'")]),e._v("、"),n("code",[e._v("'utf16le'")]),e._v("、"),n("code",[e._v("'ucs2'")]),e._v("、"),n("code",[e._v("'latin1'")]),e._v(" 和 "),n("code",[e._v("'binary'")]),e._v("。")]),e._v(" "),n("p",[e._v("如果给定的字节序列不能在目标编码中充分表示，则转码过程将使用替换字符。 例如：")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("const buffer = require('buffer');\n\nconst newBuf = buffer.transcode(Buffer.from('€'), 'utf8', 'ascii');\nconsole.log(newBuf.toString('ascii'));\n// 打印: '?'\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br")])]),n("p",[e._v("由于欧元 ("),n("code",[e._v("€")]),e._v(") 符号在 US-ASCII 中无法表示，因此在转码后的 "),n("code",[e._v("Buffer")]),e._v(" 中将其替换为 "),n("code",[e._v("?")]),e._v("。")]),e._v(" "),n("h4",{attrs:{id:"slowbuffer-类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#slowbuffer-类"}},[e._v("#")]),e._v(" "),n("code",[e._v("SlowBuffer")]),e._v(" 类"),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#class-slowbuffer",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/class_slowbuffer.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("弃用于: v6.0.0")]),e._v(" "),n("p",[e._v("参见 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafeslow_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafeSlow()")]),n("OutboundLink")],1),e._v("。 从构造函数总是返回 "),n("code",[e._v("Buffer")]),e._v(" 实例而不是 "),n("code",[e._v("SlowBuffer")]),e._v(" 实例的意义上来说，这从来都不是一个类。")]),e._v(" "),n("h5",{attrs:{id:"new-slowbuffer-size"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#new-slowbuffer-size"}},[e._v("#")]),e._v(" "),n("code",[e._v("new SlowBuffer(size)")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#new-slowbuffersize",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/new_slowbuffer_size.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("弃用于: v6.0.0")]),e._v(" "),n("ul",[n("li",[n("code",[e._v("size")]),e._v(" "),n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 新的 "),n("code",[e._v("SlowBuffer")]),e._v(" 所需的长度。")])]),e._v(" "),n("p",[e._v("参见 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafeslow_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafeSlow()")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("h4",{attrs:{id:"缓冲区常量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#缓冲区常量"}},[e._v("#")]),e._v(" 缓冲区常量"),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer-constants",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v8.2.0")]),e._v(" "),n("h5",{attrs:{id:"buffer-constants-max-length"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-constants-max-length"}},[e._v("#")]),e._v(" "),n("code",[e._v("buffer.constants.MAX_LENGTH")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufferconstantsmax_length",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buffer_constants_max_length.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v8.2.0")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 单个 "),n("code",[e._v("Buffer")]),e._v(" 实例允许的最大大小。")])]),e._v(" "),n("p",[e._v("在 32 位架构上，此值目前是 230 - 1 (~1GB)。")]),e._v(" "),n("p",[e._v("此值也可用作 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buffer_kmaxlength",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buffer.kMaxLength")]),n("OutboundLink")],1),e._v("。")]),e._v(" "),n("h5",{attrs:{id:"buffer-constants-max-string-length"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-constants-max-string-length"}},[e._v("#")]),e._v(" "),n("code",[e._v("buffer.constants.MAX_STRING_LENGTH")]),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufferconstantsmax_string_length",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buffer_constants_max_string_length.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v8.2.0")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[n("integer",[n("OutboundLink")],1)],1),e._v(" 单个 "),n("code",[e._v("string")]),e._v(" 实例允许的最大长度。")])]),e._v(" "),n("p",[e._v("表示 "),n("code",[e._v("string")]),e._v(" 原语可以拥有的最大 "),n("code",[e._v("length")]),e._v("，以 UTF-16 代码单元计算。")]),e._v(" "),n("p",[e._v("此值可能取决于正在使用的 JS 引擎。")]),e._v(" "),n("h3",{attrs:{id:"buffer-from-、buffer-alloc-与-buffer-allocunsafe"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-from-、buffer-alloc-与-buffer-allocunsafe"}},[e._v("#")]),e._v(" Buffer.from()、Buffer.alloc() 与 Buffer.allocUnsafe()"),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#bufferfrom-bufferalloc-and-bufferallocunsafe",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/buffer_from_buffer_alloc_and_buffer_allocunsafe.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("在 Node.js 6.0.0 之前的版本中，"),n("code",[e._v("Buffer")]),e._v(" 实例是使用 "),n("code",[e._v("Buffer")]),e._v(" 构造函数创建的，它根据提供的参数以不同的方式分配返回的 "),n("code",[e._v("Buffer")]),e._v("：")]),e._v(" "),n("ul",[n("li",[e._v("将数字作为第一个参数传给 "),n("code",[e._v("Buffer()")]),e._v("（例如 "),n("code",[e._v("new Buffer(10)")]),e._v("）会分配指定大小的新 "),n("code",[e._v("Buffer")]),e._v(" 对象。 在 Node.js 8.0.0 之前，为此类 "),n("code",[e._v("Buffer")]),e._v(" 实例分配的内存未初始化并且可能包含敏感数据。 此类 "),n("code",[e._v("Buffer")]),e._v(" 实例必须随后通过使用 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_buf_fill_value_offset_end_encoding",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("buf.fill(0)")]),n("OutboundLink")],1),e._v(" 或在从 "),n("code",[e._v("Buffer")]),e._v(" 读取数据之前写入整个 "),n("code",[e._v("Buffer")]),e._v(" 来初始化。 虽然此行为是为了提高性能，但开发经验表明，在创建快速但未初始化的 "),n("code",[e._v("Buffer")]),e._v(" 与创建较慢但更安全的 "),n("code",[e._v("Buffer")]),e._v(" 之间需要更明确的区别。 从 Node.js 8.0.0 开始，"),n("code",[e._v("Buffer(num)")]),e._v(" 和 "),n("code",[e._v("new Buffer(num)")]),e._v(" 返回带有初始化内存的 "),n("code",[e._v("Buffer")]),e._v("。")]),e._v(" "),n("li",[e._v("传入字符串、数组或 "),n("code",[e._v("Buffer")]),e._v(" 作为第一个参数会将传入的对象的数据复制到 "),n("code",[e._v("Buffer")]),e._v("。")]),e._v(" "),n("li",[e._v("传入 "),n("a",{attrs:{href:"http://url.nodejs.cn/mUbfvF",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("ArrayBuffer")]),n("OutboundLink")],1),e._v(" 或 "),n("a",{attrs:{href:"http://url.nodejs.cn/6J6LBy",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("SharedArrayBuffer")]),n("OutboundLink")],1),e._v(" 返回 "),n("code",[e._v("Buffer")]),e._v("，它与给定的数组缓冲区共享分配的内存。")])]),e._v(" "),n("p",[e._v("由于 "),n("code",[e._v("new Buffer()")]),e._v(" 的行为因第一个参数的类型而异，因此当未执行参数验证或 "),n("code",[e._v("Buffer")]),e._v(" 初始化时，可能会无意中将安全性和可靠性问题引入到应用程序中。")]),e._v(" "),n("p",[e._v("例如，如果攻击者可以使应用程序接收到预期为字符串的数字，则应用程序可能会调用 "),n("code",[e._v("new Buffer(100)")]),e._v(" 而不是 "),n("code",[e._v('new Buffer("100")')]),e._v("，从而导致它分配 100 字节的缓冲区，而不是分配内容为 "),n("code",[e._v('"100"')]),e._v(" 的 3 字节缓冲区。 这通常可以使用 JSON API 调用实现。 由于 JSON 区分数字和字符串类型，因此它允许在未充分验证其输入的天真编写的应用程序可能期望始终接收字符串的情况下注入数字。 在 Node.js 8.0.0 之前，100 字节的缓冲区可能包含任意预先存在的内存数据，因此可用于向远程攻击者公开内存机密。 从 Node.js 8.0.0 开始，不会发生内存暴露，因为数据是零填充的。 但是，其他攻击仍然是可能的，例如导致服务器分配非常大的缓冲区，导致性能下降或因内存耗尽而崩溃。")]),e._v(" "),n("p",[e._v("为了使 "),n("code",[e._v("Buffer")]),e._v(" 实例的创建更可靠且不易出错，"),n("code",[e._v("new Buffer()")]),e._v(" 构造函数的各种形式已被弃用，并由单独的 "),n("code",[e._v("Buffer.from()")]),e._v("、"),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_alloc_size_fill_encoding",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.alloc()")]),n("OutboundLink")],1),e._v(" 和 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafe_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafe()")]),n("OutboundLink")],1),e._v(" 方法取代。")]),e._v(" "),n("p",[e._v("开发人员应将 "),n("code",[e._v("new Buffer()")]),e._v(" 构造函数的所有现有用途迁移到这些新 API 之一。")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_from_array",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.from(array)")]),n("OutboundLink")],1),e._v(" 返回新的 "),n("code",[e._v("Buffer")]),e._v("，其中包含提供的八位字节的副本。")]),e._v(" "),n("li",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_from_arraybuffer_byteoffset_length",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.from(arrayBuffer[, byteOffset[, length]])")]),n("OutboundLink")],1),e._v(" 返回新的 "),n("code",[e._v("Buffer")]),e._v("，它与给定的 "),n("a",{attrs:{href:"http://url.nodejs.cn/mUbfvF",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("ArrayBuffer")]),n("OutboundLink")],1),e._v(" 共享相同的分配内存。")]),e._v(" "),n("li",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_from_buffer",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.from(buffer)")]),n("OutboundLink")],1),e._v(" 返回新的 "),n("code",[e._v("Buffer")]),e._v("，其中包含给定 "),n("code",[e._v("Buffer")]),e._v(" 内容的副本。")]),e._v(" "),n("li",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_from_string_encoding",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.from(string[, encoding])")]),n("OutboundLink")],1),e._v(" 返回新的 "),n("code",[e._v("Buffer")]),e._v("，其中包含所提供字符串的副本。")]),e._v(" "),n("li",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_alloc_size_fill_encoding",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.alloc(size[, fill[, encoding]])")]),n("OutboundLink")],1),e._v(" 返回指定大小的新初始化 "),n("code",[e._v("Buffer")]),e._v("。 此方法比 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafe_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafe(size)")]),n("OutboundLink")],1),e._v(" 慢，但保证新创建的 "),n("code",[e._v("Buffer")]),e._v(" 实例永远不会包含可能敏感的旧数据。 如果 "),n("code",[e._v("size")]),e._v(" 不是数值，则会抛出 "),n("code",[e._v("TypeError")]),e._v("。")]),e._v(" "),n("li",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafe_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafe(size)")]),n("OutboundLink")],1),e._v(" 和 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafeslow_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafeSlow(size)")]),n("OutboundLink")],1),e._v(" 分别返回指定 "),n("code",[e._v("size")]),e._v(" 的新的未初始化的 "),n("code",[e._v("Buffer")]),e._v("。 由于 "),n("code",[e._v("Buffer")]),e._v(" 未初始化，分配的内存段可能包含潜在敏感的旧数据。")])]),e._v(" "),n("p",[e._v("如果 "),n("code",[e._v("size")]),e._v(" 小于或等于 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_class_property_buffer_poolsize",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.poolSize")]),n("OutboundLink")],1),e._v(" 的一半，则 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafe_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafe()")]),n("OutboundLink")],1),e._v(" 和 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_from_array",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.from(array)")]),n("OutboundLink")],1),e._v(" 返回的 "),n("code",[e._v("Buffer")]),e._v(" 实例可以从共享内部内存池中分配。 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafeslow_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafeSlow()")]),n("OutboundLink")],1),e._v(" 返回的实例从不使用共享内部内存池。")]),e._v(" "),n("h4",{attrs:{id:"zero-fill-buffers-命令行选项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#zero-fill-buffers-命令行选项"}},[e._v("#")]),e._v(" --zero-fill-buffers 命令行选项"),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#the---zero-fill-buffers-command-line-option",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/the_zero_fill_buffers_command_line_option.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("新增于: v5.10.0")]),e._v(" "),n("p",[e._v("如果没有该选项，则使用 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafe_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafe()")]),n("OutboundLink")],1),e._v("、"),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafeslow_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafeSlow()")]),n("OutboundLink")],1),e._v(" 和 "),n("code",[e._v("new SlowBuffer(size)")]),e._v(" 创建的缓冲区不会填零。 使用此标志会对性能产生可衡量的负面影响。 仅在必要时使用 "),n("code",[e._v("--zero-fill-buffers")]),e._v(" 选项以强制新分配的 "),n("code",[e._v("Buffer")]),e._v(" 实例不能包含可能敏感的旧数据。")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("$ node --zero-fill-buffers\n> Buffer.allocUnsafe(5);\n<Buffer 00 00 00 00 00>\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br")])]),n("h4",{attrs:{id:"buffer-allocunsafe-与-buffer-allocunsafeslow-不安全的原因"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#buffer-allocunsafe-与-buffer-allocunsafeslow-不安全的原因"}},[e._v("#")]),e._v(" Buffer.allocUnsafe() 与 Buffer.allocUnsafeSlow() 不安全的原因"),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#what-makes-bufferallocunsafe-and-bufferallocunsafeslow-unsafe",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),n("OutboundLink")],1)]),e._v(" "),n("p",[n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer/what_makes_buffer_allocunsafe_and_buffer_allocunsafeslow_unsafe.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),n("OutboundLink")],1)]),e._v(" "),n("p",[e._v("调用 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafe_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafe()")]),n("OutboundLink")],1),e._v(" 和 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafeslow_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafeSlow()")]),n("OutboundLink")],1),e._v(" 时，分配的内存段未初始化（未清零）。 虽然这种设计使内存分配非常快，但分配的内存段可能包含潜在敏感的旧数据。 使用 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafe_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafe()")]),n("OutboundLink")],1),e._v(" 创建的 "),n("code",[e._v("Buffer")]),e._v(" 而不完全覆盖内存可以允许在读取 "),n("code",[e._v("Buffer")]),e._v(" 内存时泄漏这些旧数据。")]),e._v(" "),n("p",[e._v("虽然使用 "),n("a",{attrs:{href:"http://nodejs.cn/api-v12/buffer.html#buffer_static_method_buffer_allocunsafe_size",target:"_blank",rel:"noopener noreferrer"}},[n("code",[e._v("Buffer.allocUnsafe()")]),n("OutboundLink")],1),e._v(" 有明显的性能优势，但必须格外小心，以避免将安全漏洞引入应用程序。")])])}),[],!1,null,null,null);r.default=a.exports}}]);