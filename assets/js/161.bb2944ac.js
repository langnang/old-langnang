(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{626:function(e,t,r){"use strict";r.r(t);var a=r(18),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"timers-定时器-node-js-api-文档"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#timers-定时器-node-js-api-文档"}},[e._v("#")]),e._v(" timers 定时器 | Node.js API 文档")]),e._v(" "),r("blockquote",[r("h2",{attrs:{id:"excerpt"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#excerpt"}},[e._v("#")]),e._v(" Excerpt")]),e._v(" "),r("p",[e._v("中英对照")])]),e._v(" "),r("hr"),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers/timers.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("strong",[e._v("源代码:")]),e._v(" "),r("a",{attrs:{href:"https://github.com/nodejs/node/blob/v12.22.12/lib/timers.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("lib/timers.js"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("code",[e._v("timer")]),e._v(" 模块暴露了一个全局的用于在未来某个时间点调用的调度函数的 API。 因为定时器函数是全局的，所以不需要调用 "),r("code",[e._v("require('timers')")]),e._v(" 来使用该 API。")]),e._v(" "),r("p",[e._v("Node.js 中的定时器函数实现了与网络浏览器提供的定时器 API 类似的 API，但使用的是围绕 Node.js "),r("a",{attrs:{href:"http://url.nodejs.cn/eeiBdr",target:"_blank",rel:"noopener noreferrer"}},[e._v("事件循环"),r("OutboundLink")],1),e._v("构建的不同的内部实现。")]),e._v(" "),r("h3",{attrs:{id:"immediate-类"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#immediate-类"}},[e._v("#")]),e._v(" "),r("code",[e._v("Immediate")]),e._v(" 类"),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#class-immediate",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers/class_immediate.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("此对象是在 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timers_setimmediate_callback_args",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("setImmediate()")]),r("OutboundLink")],1),e._v(" 内部创建并返回。 它可以传给 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timers_clearimmediate_immediate",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("clearImmediate()")]),r("OutboundLink")],1),e._v(" 以取消调度的行动。")]),e._v(" "),r("p",[e._v("默认情况下，当立即调度时，只要立即处于活动状态，则 Node.js 事件循环就会继续运行。 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timers_setimmediate_callback_args",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("setImmediate()")]),r("OutboundLink")],1),e._v(" 返回的 "),r("code",[e._v("Immediate")]),e._v(" 对象导出可用于控制此默认行为的 "),r("code",[e._v("immediate.ref()")]),e._v(" 和 "),r("code",[e._v("immediate.unref()")]),e._v(" 函数。")]),e._v(" "),r("h4",{attrs:{id:"immediate-hasref"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#immediate-hasref"}},[e._v("#")]),e._v(" "),r("code",[e._v("immediate.hasRef()")]),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#immediatehasref",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers/immediate_hasref.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("新增于: v11.0.0")]),e._v(" "),r("ul",[r("li",[e._v("返回: "),r("a",{attrs:{href:"http://url.nodejs.cn/jFbvuT",target:"_blank",rel:"noopener noreferrer"}},[r("boolean",[r("OutboundLink")],1)],1)])]),e._v(" "),r("p",[e._v("如果为 true，则 "),r("code",[e._v("Immediate")]),e._v(" 对象将使 Node.js 事件循环保持活动状态。")]),e._v(" "),r("h4",{attrs:{id:"immediate-ref"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#immediate-ref"}},[e._v("#")]),e._v(" "),r("code",[e._v("immediate.ref()")]),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#immediateref",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers/immediate_ref.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("新增于: v9.7.0")]),e._v(" "),r("ul",[r("li",[e._v("返回: "),r("a",{attrs:{href:"http://nodejs.cn/api/timers.html#class-immediate",target:"_blank",rel:"noopener noreferrer"}},[r("Immediate",[r("OutboundLink")],1)],1),e._v(" "),r("code",[e._v("immediate")]),e._v(" 的引用")])]),e._v(" "),r("p",[e._v("调用时，只要 "),r("code",[e._v("Immediate")]),e._v(" 处于活动状态，就请求 Node.js 事件循环不退出。 多次调用 "),r("code",[e._v("immediate.ref()")]),e._v(" 将不起作用。")]),e._v(" "),r("p",[e._v("默认情况下，所有 "),r("code",[e._v("Immediate")]),e._v(" 对象都被“引用”，这使得通常不需要调用 "),r("code",[e._v("immediate.ref()")]),e._v(" 除非之前已经调用过 "),r("code",[e._v("immediate.unref()")]),e._v("。")]),e._v(" "),r("h4",{attrs:{id:"immediate-unref"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#immediate-unref"}},[e._v("#")]),e._v(" "),r("code",[e._v("immediate.unref()")]),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#immediateunref",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers/immediate_unref.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("新增于: v9.7.0")]),e._v(" "),r("ul",[r("li",[e._v("返回: "),r("a",{attrs:{href:"http://nodejs.cn/api/timers.html#class-immediate",target:"_blank",rel:"noopener noreferrer"}},[r("Immediate",[r("OutboundLink")],1)],1),e._v(" "),r("code",[e._v("immediate")]),e._v(" 的引用")])]),e._v(" "),r("p",[e._v("调用时，活动的 "),r("code",[e._v("Immediate")]),e._v(" 对象不需要 Node.js 事件循环保持活动状态。 如果没有其他活动保持事件循环运行，则进程可能会在调用 "),r("code",[e._v("Immediate")]),e._v(" 对象的回调之前退出。 多次调用 "),r("code",[e._v("immediate.unref()")]),e._v(" 将不起作用。")]),e._v(" "),r("h3",{attrs:{id:"timeout-类"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#timeout-类"}},[e._v("#")]),e._v(" "),r("code",[e._v("Timeout")]),e._v(" 类"),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#class-timeout",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers/class_timeout.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("此对象是在 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timers_settimeout_callback_delay_args",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("setTimeout()")]),r("OutboundLink")],1),e._v(" 和 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timers_setinterval_callback_delay_args",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("setInterval()")]),r("OutboundLink")],1),e._v(" 内部创建并返回。 它可以传给 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timers_cleartimeout_timeout",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("clearTimeout()")]),r("OutboundLink")],1),e._v(" 或 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timers_clearinterval_timeout",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("clearInterval()")]),r("OutboundLink")],1),e._v(" 以取消调度的行动。")]),e._v(" "),r("p",[e._v("默认情况下，当使用 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timers_settimeout_callback_delay_args",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("setTimeout()")]),r("OutboundLink")],1),e._v(" 或 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timers_setinterval_callback_delay_args",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("setInterval()")]),r("OutboundLink")],1),e._v(" 调度定时器时，只要定时器处于活动状态，则 Node.js 事件循环就会继续运行。 这些函数返回的每个 "),r("code",[e._v("Timeout")]),e._v(" 对象都导出可用于控制此默认行为的 "),r("code",[e._v("timeout.ref()")]),e._v(" 和 "),r("code",[e._v("timeout.unref()")]),e._v(" 函数。")]),e._v(" "),r("h4",{attrs:{id:"timeout-hasref"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#timeout-hasref"}},[e._v("#")]),e._v(" "),r("code",[e._v("timeout.hasRef()")]),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timeouthasref",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers/timeout_hasref.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("新增于: v11.0.0")]),e._v(" "),r("ul",[r("li",[e._v("返回: "),r("a",{attrs:{href:"http://url.nodejs.cn/jFbvuT",target:"_blank",rel:"noopener noreferrer"}},[r("boolean",[r("OutboundLink")],1)],1)])]),e._v(" "),r("p",[e._v("如果为 true，则 "),r("code",[e._v("Timeout")]),e._v(" 对象将使 Node.js 事件循环保持活动状态。")]),e._v(" "),r("h4",{attrs:{id:"timeout-ref"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#timeout-ref"}},[e._v("#")]),e._v(" "),r("code",[e._v("timeout.ref()")]),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timeoutref",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers/timeout_ref.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("新增于: v0.9.1")]),e._v(" "),r("ul",[r("li",[e._v("返回: "),r("a",{attrs:{href:"http://nodejs.cn/api/timers.html#class-timeout",target:"_blank",rel:"noopener noreferrer"}},[r("Timeout",[r("OutboundLink")],1)],1),e._v(" "),r("code",[e._v("timeout")]),e._v(" 的引用")])]),e._v(" "),r("p",[e._v("调用时，只要 "),r("code",[e._v("Timeout")]),e._v(" 处于活动状态，就请求 Node.js 事件循环不退出。 多次调用 "),r("code",[e._v("timeout.ref()")]),e._v(" 将不起作用。")]),e._v(" "),r("p",[e._v("默认情况下，所有 "),r("code",[e._v("Timeout")]),e._v(" 对象都被“引用”，这使得通常不需要调用 "),r("code",[e._v("timeout.ref()")]),e._v(" 除非之前已经调用过 "),r("code",[e._v("timeout.unref()")]),e._v("。")]),e._v(" "),r("h4",{attrs:{id:"timeout-refresh"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#timeout-refresh"}},[e._v("#")]),e._v(" "),r("code",[e._v("timeout.refresh()")]),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timeoutrefresh",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers/timeout_refresh.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("新增于: v10.2.0")]),e._v(" "),r("ul",[r("li",[e._v("返回: "),r("a",{attrs:{href:"http://nodejs.cn/api/timers.html#class-timeout",target:"_blank",rel:"noopener noreferrer"}},[r("Timeout",[r("OutboundLink")],1)],1),e._v(" "),r("code",[e._v("timeout")]),e._v(" 的引用")])]),e._v(" "),r("p",[e._v("将定时器的开始时间设置为当前时间，并重新调度定时器在调整为当前时间的先前指定的时长调用其回调。 这对于在不分配新的 JavaScript 对象的情况下刷新定时器很有用。")]),e._v(" "),r("p",[e._v("在已经调用其回调的定时器上使用它会重新激活定时器。")]),e._v(" "),r("h4",{attrs:{id:"timeout-unref"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#timeout-unref"}},[e._v("#")]),e._v(" "),r("code",[e._v("timeout.unref()")]),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timeoutunref",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers/timeout_unref.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("新增于: v0.9.1")]),e._v(" "),r("ul",[r("li",[e._v("返回: "),r("a",{attrs:{href:"http://nodejs.cn/api/timers.html#class-timeout",target:"_blank",rel:"noopener noreferrer"}},[r("Timeout",[r("OutboundLink")],1)],1),e._v(" "),r("code",[e._v("timeout")]),e._v(" 的引用")])]),e._v(" "),r("p",[e._v("调用时，活动的 "),r("code",[e._v("Timeout")]),e._v(" 对象不需要 Node.js 事件循环保持活动状态。 如果没有其他活动保持事件循环运行，则进程可能会在调用 "),r("code",[e._v("Timeout")]),e._v(" 对象的回调之前退出。 多次调用 "),r("code",[e._v("timeout.unref()")]),e._v(" 将不起作用。")]),e._v(" "),r("p",[e._v("调用 "),r("code",[e._v("timeout.unref()")]),e._v(" 创建内部的定时器，其将唤醒 Node.js 事件循环。 创建过多的这些会对 Node.js 应用程序的性能产生不利影响。")]),e._v(" "),r("h4",{attrs:{id:"timeout-symbol-toprimitive"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#timeout-symbol-toprimitive"}},[e._v("#")]),e._v(" "),r("code",[e._v("timeout[Symbol.toPrimitive]()")]),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timeoutsymboltoprimitive",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers/timeout_symbol_toprimitive.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("新增于: v12.19.0")]),e._v(" "),r("ul",[r("li",[e._v("返回: "),r("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[r("integer",[r("OutboundLink")],1)],1),e._v(" 可用于引用此 "),r("code",[e._v("timeout")]),e._v(" 的数字")])]),e._v(" "),r("p",[e._v("将 "),r("code",[e._v("Timeout")]),e._v(" 强制为原始类型。 该原始类型可用于清除 "),r("code",[e._v("Timeout")]),e._v("。 该原始类型只能在创建超时的同一线程中使用。 因此，要在 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/worker_threads.html",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("worker_threads")]),r("OutboundLink")],1),e._v(" 上使用它，则必须首先将其传给正确的线程。 这允许增强与浏览器 "),r("code",[e._v("setTimeout()")]),e._v(" 和 "),r("code",[e._v("setInterval()")]),e._v(" 实现的兼容性。")]),e._v(" "),r("h3",{attrs:{id:"调度定时器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#调度定时器"}},[e._v("#")]),e._v(" 调度定时器"),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#scheduling-timers",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers/scheduling_timers.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("Node.js 中的定时器是一种会在一段时间后调用给定函数的内部构造。 定时器函数的调用时间取决于用于创建定时器的方法以及 Node.js 事件循环正在执行的其他工作。")]),e._v(" "),r("h4",{attrs:{id:"setimmediate-callback-args"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#setimmediate-callback-args"}},[e._v("#")]),e._v(" "),r("code",[e._v("setImmediate(callback[, ...args])")]),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#setimmediatecallback-args",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers/setimmediate_callback_args.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("新增于: v0.9.1")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("callback")]),e._v(" "),r("a",{attrs:{href:"http://url.nodejs.cn/ceTQa6",target:"_blank",rel:"noopener noreferrer"}},[r("Function",[r("OutboundLink")],1)],1),e._v(" 在本轮 Node.js "),r("a",{attrs:{href:"http://url.nodejs.cn/eeiBdr",target:"_blank",rel:"noopener noreferrer"}},[e._v("事件循环"),r("OutboundLink")],1),e._v("结束时调用的函数")]),e._v(" "),r("li",[r("code",[e._v("...args")]),e._v(" "),r("a",{attrs:{href:"http://url.nodejs.cn/6sTGdS",target:"_blank",rel:"noopener noreferrer"}},[r("any",[r("OutboundLink")],1)],1),e._v(" 调用 "),r("code",[e._v("callback")]),e._v(" 时要传入的可选参数。")]),e._v(" "),r("li",[e._v("返回: "),r("a",{attrs:{href:"http://nodejs.cn/api/timers.html#class-immediate",target:"_blank",rel:"noopener noreferrer"}},[r("Immediate",[r("OutboundLink")],1)],1),e._v(" 用于 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timers_clearimmediate_immediate",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("clearImmediate()")]),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("在 I/O 事件的回调之后调度 "),r("code",[e._v("callback")]),e._v(" 的“立即”执行。")]),e._v(" "),r("p",[e._v("当多次调用 "),r("code",[e._v("setImmediate()")]),e._v(" 时，则 "),r("code",[e._v("callback")]),e._v(" 函数会按照它们的创建顺序排队执行。 每次事件循环迭代都会处理整个回调队列。 如果立即定时器从正在执行的回调中排队，则直到下一次事件循环迭代才会触发该定时器。")]),e._v(" "),r("p",[e._v("如果 "),r("code",[e._v("callback")]),e._v(" 不是函数，则将抛出 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/errors.html#errors_class_typeerror",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("TypeError")]),r("OutboundLink")],1),e._v("。")]),e._v(" "),r("p",[e._v("此方法具有可使用 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/util.html#util_util_promisify_original",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("util.promisify()")]),r("OutboundLink")],1),e._v(" 获得的 promise 的自定义变体。")]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("const util = require('util');\nconst setImmediatePromise = util.promisify(setImmediate);\n\nsetImmediatePromise('foobar').then((value) => {\n  // value === 'foobar'（传入的值是可选的）\n  // 这是在所有 I/O 回调之后执行的。\n});\n\n// 或者使用异步函数\nasync function timerExample() {\n  console.log('Before I/O callbacks');\n  await setImmediatePromise();\n  console.log('After I/O callbacks');\n}\ntimerExample();\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br"),r("span",{staticClass:"line-number"},[e._v("8")]),r("br"),r("span",{staticClass:"line-number"},[e._v("9")]),r("br"),r("span",{staticClass:"line-number"},[e._v("10")]),r("br"),r("span",{staticClass:"line-number"},[e._v("11")]),r("br"),r("span",{staticClass:"line-number"},[e._v("12")]),r("br"),r("span",{staticClass:"line-number"},[e._v("13")]),r("br"),r("span",{staticClass:"line-number"},[e._v("14")]),r("br"),r("span",{staticClass:"line-number"},[e._v("15")]),r("br")])]),r("h4",{attrs:{id:"setinterval-callback-delay-args"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#setinterval-callback-delay-args"}},[e._v("#")]),e._v(" "),r("code",[e._v("setInterval(callback, delay[, ...args])")]),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#setintervalcallback-delay-args",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers/setinterval_callback_delay_args.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("新增于: v0.0.1")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("callback")]),e._v(" "),r("a",{attrs:{href:"http://url.nodejs.cn/ceTQa6",target:"_blank",rel:"noopener noreferrer"}},[r("Function",[r("OutboundLink")],1)],1),e._v(" 当定时器结束时调用的函数。")]),e._v(" "),r("li",[r("code",[e._v("delay")]),e._v(" "),r("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[r("number",[r("OutboundLink")],1)],1),e._v(" 调用 "),r("code",[e._v("callback")]),e._v(" 之前等待的毫秒数。")]),e._v(" "),r("li",[r("code",[e._v("...args")]),e._v(" "),r("a",{attrs:{href:"http://url.nodejs.cn/6sTGdS",target:"_blank",rel:"noopener noreferrer"}},[r("any",[r("OutboundLink")],1)],1),e._v(" 调用 "),r("code",[e._v("callback")]),e._v(" 时要传入的可选参数。")]),e._v(" "),r("li",[e._v("返回: "),r("a",{attrs:{href:"http://nodejs.cn/api/timers.html#class-timeout",target:"_blank",rel:"noopener noreferrer"}},[r("Timeout",[r("OutboundLink")],1)],1),e._v(" 用于 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timers_clearinterval_timeout",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("clearInterval()")]),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("每 "),r("code",[e._v("delay")]),e._v(" 毫秒调度重复执行 "),r("code",[e._v("callback")]),e._v("。")]),e._v(" "),r("p",[e._v("当 "),r("code",[e._v("delay")]),e._v(" 大于 "),r("code",[e._v("2147483647")]),e._v(" 或小于 "),r("code",[e._v("1")]),e._v(" 时，则 "),r("code",[e._v("delay")]),e._v(" 将设置为 "),r("code",[e._v("1")]),e._v("。 非整数延迟被截断为整数。")]),e._v(" "),r("p",[e._v("如果 "),r("code",[e._v("callback")]),e._v(" 不是函数，则将抛出 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/errors.html#errors_class_typeerror",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("TypeError")]),r("OutboundLink")],1),e._v("。")]),e._v(" "),r("h4",{attrs:{id:"settimeout-callback-delay-args"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#settimeout-callback-delay-args"}},[e._v("#")]),e._v(" "),r("code",[e._v("setTimeout(callback, delay[, ...args])")]),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#settimeoutcallback-delay-args",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers/settimeout_callback_delay_args.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("新增于: v0.0.1")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("callback")]),e._v(" "),r("a",{attrs:{href:"http://url.nodejs.cn/ceTQa6",target:"_blank",rel:"noopener noreferrer"}},[r("Function",[r("OutboundLink")],1)],1),e._v(" 当定时器结束时调用的函数。")]),e._v(" "),r("li",[r("code",[e._v("delay")]),e._v(" "),r("a",{attrs:{href:"http://url.nodejs.cn/SXbo1v",target:"_blank",rel:"noopener noreferrer"}},[r("number",[r("OutboundLink")],1)],1),e._v(" 调用 "),r("code",[e._v("callback")]),e._v(" 之前等待的毫秒数。")]),e._v(" "),r("li",[r("code",[e._v("...args")]),e._v(" "),r("a",{attrs:{href:"http://url.nodejs.cn/6sTGdS",target:"_blank",rel:"noopener noreferrer"}},[r("any",[r("OutboundLink")],1)],1),e._v(" 调用 "),r("code",[e._v("callback")]),e._v(" 时要传入的可选参数。")]),e._v(" "),r("li",[e._v("返回: "),r("a",{attrs:{href:"http://nodejs.cn/api/timers.html#class-timeout",target:"_blank",rel:"noopener noreferrer"}},[r("Timeout",[r("OutboundLink")],1)],1),e._v(" 用于 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timers_cleartimeout_timeout",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("clearTimeout()")]),r("OutboundLink")],1)])]),e._v(" "),r("p",[e._v("在 "),r("code",[e._v("delay")]),e._v(" 毫秒后调度单次的 "),r("code",[e._v("callback")]),e._v(" 的执行。")]),e._v(" "),r("p",[r("code",[e._v("callback")]),e._v(" 可能不会在精确的 "),r("code",[e._v("delay")]),e._v(" 毫秒内被调用。 Node.js 不保证回调将触发的确切时间，也不保证它们的顺序。 回调将在尽可能接近指定的时间时调用。")]),e._v(" "),r("p",[e._v("当 "),r("code",[e._v("delay")]),e._v(" 大于 "),r("code",[e._v("2147483647")]),e._v(" 或小于 "),r("code",[e._v("1")]),e._v(" 时，则 "),r("code",[e._v("delay")]),e._v(" 将设置为 "),r("code",[e._v("1")]),e._v("。 非整数延迟被截断为整数。")]),e._v(" "),r("p",[e._v("如果 "),r("code",[e._v("callback")]),e._v(" 不是函数，则将抛出 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/errors.html#errors_class_typeerror",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("TypeError")]),r("OutboundLink")],1),e._v("。")]),e._v(" "),r("p",[e._v("此方法具有可使用 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/util.html#util_util_promisify_original",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("util.promisify()")]),r("OutboundLink")],1),e._v(" 获得的 promise 的自定义变体。")]),e._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[e._v("const util = require('util');\nconst setTimeoutPromise = util.promisify(setTimeout);\n\nsetTimeoutPromise(40, 'foobar').then((value) => {\n  // value === 'foobar'（传入的值是可选的）\n  // 这是在大约 40 毫秒后执行的。\n});\n")])]),e._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[e._v("1")]),r("br"),r("span",{staticClass:"line-number"},[e._v("2")]),r("br"),r("span",{staticClass:"line-number"},[e._v("3")]),r("br"),r("span",{staticClass:"line-number"},[e._v("4")]),r("br"),r("span",{staticClass:"line-number"},[e._v("5")]),r("br"),r("span",{staticClass:"line-number"},[e._v("6")]),r("br"),r("span",{staticClass:"line-number"},[e._v("7")]),r("br")])]),r("h3",{attrs:{id:"取消定时器"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#取消定时器"}},[e._v("#")]),e._v(" 取消定时器"),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#cancelling-timers",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers/cancelling_timers.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timers_setimmediate_callback_args",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("setImmediate()")]),r("OutboundLink")],1),e._v("、"),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timers_setinterval_callback_delay_args",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("setInterval()")]),r("OutboundLink")],1),e._v(" 和 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timers_settimeout_callback_delay_args",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("setTimeout()")]),r("OutboundLink")],1),e._v(" 方法各自返回表示调度的定时器的对象。 这些可用于取消定时器并防止其触发。")]),e._v(" "),r("h4",{attrs:{id:"clearimmediate-immediate"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#clearimmediate-immediate"}},[e._v("#")]),e._v(" "),r("code",[e._v("clearImmediate(immediate)")]),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#clearimmediateimmediate",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers/clearimmediate_immediate.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("新增于: v0.9.1")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("immediate")]),e._v(" "),r("a",{attrs:{href:"http://nodejs.cn/api/timers.html#class-immediate",target:"_blank",rel:"noopener noreferrer"}},[r("Immediate",[r("OutboundLink")],1)],1),e._v(" "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timers_setimmediate_callback_args",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("setImmediate()")]),r("OutboundLink")],1),e._v(" 返回的 "),r("code",[e._v("Immediate")]),e._v(" 对象。")])]),e._v(" "),r("p",[e._v("取消由 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timers_setimmediate_callback_args",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("setImmediate()")]),r("OutboundLink")],1),e._v(" 创建的 "),r("code",[e._v("Immediate")]),e._v(" 对象。")]),e._v(" "),r("h4",{attrs:{id:"clearinterval-timeout"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#clearinterval-timeout"}},[e._v("#")]),e._v(" "),r("code",[e._v("clearInterval(timeout)")]),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#clearintervaltimeout",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers/clearinterval_timeout.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("新增于: v0.0.1")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("timeout")]),e._v(" "),r("a",{attrs:{href:"http://nodejs.cn/api/timers.html#class-timeout",target:"_blank",rel:"noopener noreferrer"}},[r("Timeout",[r("OutboundLink")],1)],1)])]),e._v(" "),r("p",[e._v("取消由 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timers_setinterval_callback_delay_args",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("setInterval()")]),r("OutboundLink")],1),e._v(" 创建的 "),r("code",[e._v("Timeout")]),e._v(" 对象。")]),e._v(" "),r("h4",{attrs:{id:"cleartimeout-timeout"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#cleartimeout-timeout"}},[e._v("#")]),e._v(" "),r("code",[e._v("clearTimeout(timeout)")]),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#cleartimeouttimeout",target:"_blank",rel:"noopener noreferrer"}},[e._v("#"),r("OutboundLink")],1)]),e._v(" "),r("p",[r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers/cleartimeout_timeout.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("中英对照"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("新增于: v0.0.1")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("timeout")]),e._v(" "),r("a",{attrs:{href:"http://nodejs.cn/api/timers.html#class-timeout",target:"_blank",rel:"noopener noreferrer"}},[r("Timeout",[r("OutboundLink")],1)],1)])]),e._v(" "),r("p",[e._v("取消由 "),r("a",{attrs:{href:"http://nodejs.cn/api-v12/timers.html#timers_settimeout_callback_delay_args",target:"_blank",rel:"noopener noreferrer"}},[r("code",[e._v("setTimeout()")]),r("OutboundLink")],1),e._v(" 创建的 "),r("code",[e._v("Timeout")]),e._v(" 对象。")])])}),[],!1,null,null,null);t.default=n.exports}}]);